/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 75);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Vector2 {
    constructor(x = 0.0, y = 0.0) {
        this.x = x;
        this.y = y;
    }
    setTo(x, y) {
        this.x = x;
        this.y = y;
    }
    copy(v) {
        this.x = v.x;
        this.y = v.y;
    }
    clone() {
        return new Vector2(this.x, this.y);
    }
    normalize() {
        var t = Math.sqrt(this.x * this.x + this.y * this.y) + Vector2.ZERO_TOLERANCE;
        this.x /= t;
        this.y /= t;
        return t;
    }
    length() {
        return Math.sqrt(this.x * this.x + this.y * this.y);
    }
    lengthSqrd() {
        return this.x * this.x + this.y * this.y;
    }
    clampScalar(max) {
        var l = this.length();
        if (l > max) {
            this.multEquals(max / l);
        }
    }
    clampVector(v) {
        this.x = Math.min(Math.max(this.x, -v.x), v.x);
        this.y = Math.min(Math.max(this.y, -v.y), v.y);
    }
    plusEquals(v) {
        this.x += v.x;
        this.y += v.y;
    }
    minusEquals(v) {
        this.x -= v.x;
        this.y -= v.y;
    }
    multEquals(s) {
        this.x *= s;
        this.y *= s;
    }
    plusMultEquals(v, s) {
        this.x += v.x * s;
        this.y += v.y * s;
    }
    minusMultEquals(v, s) {
        this.x -= v.x * s;
        this.y -= v.y * s;
    }
    dot(v) {
        return this.x * v.x + this.y * v.y;
    }
    cross(v) {
        return this.x * v.y - this.y * v.x;
    }
    leftHandNormal() {
        return new Vector2(this.y, -this.x);
    }
    leftHandNormalEquals() {
        var t = this.x;
        this.x = this.y;
        this.y = -t;
    }
    rightHandNormal() {
        return new Vector2(-this.y, this.x);
    }
    rightHandNormalEquals() {
        var t = this.x;
        this.x = -this.y;
        this.y = t;
    }
    reflectEquals(normal) {
        var d = this.dot(normal);
        this.x -= 2 * d * normal.x;
        this.y -= 2 * d * normal.y;
    }
    interpolate(v1, v2, t) {
        this.copy(v1);
        this.multEquals(1 - t);
        this.plusMultEquals(v2, t);
        // return v1.mult(1 - t).plus(v2.mult(t));
    }
    setAngle(angle) {
        var len = this.length();
        this.x = Math.cos(angle) * len;
        this.y = Math.sin(angle) * len;
    }
    rotateEquals(angle) {
        var a = angle * (Math.PI / 180);
        var cos = Math.cos(a);
        var sin = Math.sin(a);
        this.x = cos * this.x - sin * this.y;
        this.y = cos * this.y + sin * this.x;
    }
    setUnitRotation(angle) {
        var a = angle * (Math.PI / 180);
        this.x = Math.cos(a);
        this.y = Math.sin(a);
    }
    heading() {
        return Math.atan2(this.y, this.x);
    }
    distSqrd(v) {
        var dX = this.x - v.x;
        var dY = this.y - v.y;
        return dX * dX + dY * dY;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Vector2;

Vector2.ZERO_TOLERANCE = 1e-8;


/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class System {
    constructor(components) {
        this.members = new Map();
        this.components = components.map(factory => factory.name);
    }
    addEntity(entity, components) {
        if (this.members.has(entity))
            return;
        const boundUpdate = this.updateEntity.bind(this, entity, ...components);
        const entry = { components, boundUpdate };
        this.members.set(entity, entry);
        this.onEntityAdded(entity, ...components);
    }
    onEntityAdded(entity, ...components) { }
    removeEntity(entity) {
        if (!this.members.has(entity))
            return;
        const entry = this.members.get(entity);
        this.onEntityRemoved(entity, ...entry.components);
        this.members.delete(entity);
    }
    onEntityRemoved(entity, ...components) { }
    updateSystem(dt, timestamp) {
        this.dt = dt;
        this.timestamp = timestamp;
        if (!this.preUpdate()) {
            return;
        }
        this.updateAllEntities();
        this.postUpdate();
    }
    preUpdate() {
        return true;
    }
    updateAllEntities() {
        for (let i of this.members.keys()) {
            this.members.get(i).boundUpdate();
        }
    }
    postUpdate() { }
    updateEntity(entity, ...components) { }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = System;



/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__collision_BFProxy__ = __webpack_require__(105);

class PhysicsCollision {
    constructor(isSensor, filter, contactCallbacks, limitToStaticCheck = false, forceAttachBody = null) {
        this.proxy = new __WEBPACK_IMPORTED_MODULE_0__collision_BFProxy__["a" /* BFProxy */]();
        this.proxy.isSensor = isSensor;
        this.proxy.filter = filter;
        this.proxy.contactCallbacks = contactCallbacks;
        this.proxy.limitToStaticCheck = limitToStaticCheck;
        if (forceAttachBody) {
            this.proxy.body = forceAttachBody;
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = PhysicsCollision;



/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__ = __webpack_require__(0);

class Position {
    constructor(x, y) {
        this.coords = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */](x, y);
        this.prevCoords = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */](x, y);
        this.direction = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */](1, 1);
    }
    update(position) {
        this.prevCoords.copy(this.coords);
        this.coords.copy(position);
    }
    clone() {
        var clone = new Position(this.coords.x, this.coords.y);
        clone.prevCoords.copy(this.prevCoords);
        clone.direction.copy(this.direction);
        return clone;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Position;



/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Active {
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Active;



/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__ = __webpack_require__(0);

class Extents {
    constructor(width, height, offsetX = 0, offsetY = 0) {
        this.halfWidths = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */](width, height);
        this.offset = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */](offsetX, offsetY);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Extents;



/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class PhysicsBody {
    constructor(body, setMassFromVolume = false) {
        this.body = body;
        this.setMassFromVolume = setMassFromVolume;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = PhysicsBody;



/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__signals_Signal__ = __webpack_require__(24);

class State {
    constructor(states, initalState, triggerInitialState) {
        this.states = states;
        this.currentState = initalState;
        this.messages = new __WEBPACK_IMPORTED_MODULE_0__signals_Signal__["a" /* Signal */]();
    }
    setState(state) {
        // if (state=="alive") {
        //     debugger;
        // }
        this.currentState = state;
        if (this.onChange != null) {
            this.onChange();
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = State;



/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export SetPseudoRandomSeed */
/* harmony export (immutable) */ __webpack_exports__["b"] = RandomFloat;
/* harmony export (immutable) */ __webpack_exports__["a"] = RandomBoolean;
/* harmony export (immutable) */ __webpack_exports__["d"] = RandomSign;
/* harmony export (immutable) */ __webpack_exports__["c"] = RandomInteger;
/* unused harmony export Pseudonumber */
let PseudoRandomSeed = 3489752;
function SetPseudoRandomSeed(seed) {
    PseudoRandomSeed = seed;
}
function RandomFloat(min, max) {
    return Math.random() * (max - min) + min;
}
function RandomBoolean(chance = 0.5) {
    return Math.random() < chance;
}
function RandomSign(chance = 0.5) {
    return Math.random() < chance ? 1 : -1;
}
function RandomInteger(min, max) {
    return Math.floor(RandomFloat(min, max));
}
function Pseudonumber() {
    PseudoRandomSeed = (PseudoRandomSeed * 9301 + 49297) % 233280;
    return PseudoRandomSeed / 233280.0;
}


/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Moveable {
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Moveable;



/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Graphics {
    constructor(frameListId, initialFrameId = null) {
        this.frameListId = frameListId;
        this.initialFrameId = initialFrameId;
    }
    setFrame(value) {
        this.frame = value;
        if (this.sprite != null) {
            this.frame.updateSprite(this.sprite);
        }
    }
    setFrameId(id) {
        this.frame = this.frameList.getFrame(id);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Graphics;



/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class AABB2 {
    constructor(t = 0.0, r = 0.0, b = 0.0, l = 0.0) {
        this.l = Number.POSITIVE_INFINITY;
        this.t = Number.POSITIVE_INFINITY;
        this.r = Number.NEGATIVE_INFINITY;
        this.b = Number.NEGATIVE_INFINITY;
        this.t = t;
        this.r = r;
        this.b = b;
        this.l = l;
    }
    setToSweeptAABB(aabb, preditcedPosition) {
        this.l = aabb.position.x - aabb.extents.x;
        this.r = aabb.position.x + aabb.extents.x;
        this.t = aabb.position.y - aabb.extents.y;
        this.b = aabb.position.y + aabb.extents.y;
    }
    fromAABB(aabb) { }
    clone() {
        return new AABB2(this.t, this.r, this.b, this.l);
    }
    reset() {
        this.t = this.l = Number.POSITIVE_INFINITY;
        this.r = this.b = Number.NEGATIVE_INFINITY;
    }
    get width() {
        return this.r - this.l;
    }
    get height() {
        return this.b - this.t;
    }
    intersect(aabb) {
        if (this.l > aabb.r)
            return false;
        else if (this.r < aabb.l)
            return false;
        else if (this.t > aabb.b)
            return false;
        else if (this.b < aabb.t)
            return false;
        else
            return true;
    }
    addAABB(aabb) {
        if (aabb.t < this.t)
            this.t = aabb.t;
        if (aabb.r > this.r)
            this.r = aabb.r;
        if (aabb.b > this.b)
            this.b = aabb.b;
        if (aabb.l < this.l)
            this.l = aabb.l;
    }
    combine(aabb) {
        const result = this.clone();
        result.addAABB(aabb);
        return result;
    }
    combine2(a, b) {
        this.t = Math.min(a.t, b.t);
        this.r = Math.max(a.r, b.r);
        this.b = Math.max(a.b, b.b);
        this.l = Math.min(a.l, b.l);
        return this;
    }
    addPoint(x, y) {
        if (x < this.l)
            this.l = x;
        if (x > this.r)
            this.r = x;
        if (y < this.t)
            this.t = y;
        if (y > this.b)
            this.b = y;
    }
    fitPoint(point) {
        if (point.x < this.l)
            point.x = this.l;
        if (point.x > this.r)
            point.x = this.r;
        if (point.y < this.t)
            point.y = this.t;
        if (point.y > this.b)
            point.y = this.b;
    }
    expand(i) {
        this.l -= i;
        this.r += i;
        this.t -= i;
        this.b += i;
    }
    expand2(width, height) {
        this.l += width / 2;
        this.r -= width / 2;
        this.t += height / 2;
        this.b -= height / 2;
    }
    contains(aabb) {
        if (this.l <= aabb.l && this.t <= aabb.t && aabb.b < this.b && aabb.r < this.r) {
            return true;
        }
        return false;
    }
    copy(aabb) {
        this.l = aabb.l;
        this.r = aabb.r;
        this.t = aabb.t;
        this.b = aabb.b;
    }
    copyAABB(aabb) {
        this.l = aabb.l;
        this.r = aabb.r;
        this.t = aabb.t;
        this.b = aabb.b;
    }
    transform(displacement) {
        this.l += displacement.x;
        this.r += displacement.x;
        this.t += displacement.y;
        this.b += displacement.y;
    }
    perimeter() {
        return 2 * (this.width + this.height);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = AABB2;



/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Filter {
    //e.g.
    //player.filter.categoryBits = 0x0002
    //player.filter.maskBits     = 0x0004
    //
    //enemy.filter.categoryBits  = 0x0004
    //enemy.filter.maskBits      = 0x0002
    //
    //Here, players an enemies will collide
    //overever players wont collide with player or monsters with mosters
    constructor(categoryBits = 0x1, maskBits = 0xffffffff, groupIndex = 0x0) {
        //Two positive and equal group indexs always collide
        //Two negative and equal group indexs never collide
        //Two zero group indexs are passed through
        this.groupIndex = 0;
        //What category this filter is in
        this.categoryBits = 0x0001;
        //What other categories it can collide with
        this.maskBits = 0xffffffff;
        this.categoryBits = categoryBits;
        this.maskBits = maskBits;
        this.groupIndex = groupIndex;
    }
    static CHECK(filterA, filterB) {
        if (filterA == null || filterB == null)
            return true;
        if (filterA.groupIndex == filterB.groupIndex && filterA.groupIndex != 0)
            return filterA.groupIndex > 0;
        return (filterA.maskBits & filterB.categoryBits) != 0 && (filterA.categoryBits & filterB.maskBits) != 0;
    }
    // if ((filterA.groupIndex > 0 && filterB.groupIndex > 0 && filterA.groupIndex == filterB.groupIndex)) {
    //     return false;
    // }
    // else {
    //     if ((filterA.maskBits & filterB.categoryBits) == 0) return false;
    //     if ((filterA.categoryBits & filterB.maskBits) == 0) return false;
    // }
    // return true;
    clone() {
        return new Filter(this.categoryBits, this.maskBits, this.groupIndex);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Filter;



/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Fixed {
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Fixed;



/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Material {
    constructor(density = 1, elasticity = 0.3, friction = 0.1) {
        this.density = density;
        this.elasticity = elasticity;
        this.friction = friction;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Material;

Material.NORMAL = new Material(1, 0.3, 0.1);
Material.LIGHTMETAL = new Material(1.4, 0.3, 0.1);
Material.ROCK = new Material(2.0, 0.2, 0.1);
Material.RUBBER = new Material(1, 1, 0.1);


/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Viewable {
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Viewable;



/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class TestFilters {
}
/* harmony export (immutable) */ __webpack_exports__["a"] = TestFilters;

//Categories
TestFilters.PLAYER_CAT = 0x1 << 2;
TestFilters.PROJECTILE_CAT = 0x1 << 3;
TestFilters.PROJECTILE_COLLIDABLE_CAT = 0x1 << 4;
TestFilters.SOLID_CAT = 0x1 << 5;
TestFilters.HOLDABLE_CAT = 0x1 << 6;
TestFilters.ph1_CAT = 0x1 << 7;
TestFilters.ph2_CAT = 0x1 << 8;
TestFilters.ph3_CAT = 0x1 << 9;
TestFilters.ph4_CAT = 0x1 << 10;
TestFilters.ph5_CAT = 0x1 << 11;
//Groups
TestFilters.PLAYER_GROUP = -1;
TestFilters.ENEMY_GROUP = -2;
TestFilters.TURRET_GROUP = -3;
TestFilters.BIRD_GROUP = -3;
TestFilters.SOLID_OBJECT_GROUP = 1; //e.g. Doors


/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class GraphicsAnimation {
    constructor(frameListId, animationId) {
        this.frameListId = frameListId;
        this.play(animationId);
    }
    play(animationId) {
        if (this.animationId === animationId)
            return;
        this.animationId = animationId;
        this.dirty = true;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = GraphicsAnimation;



/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Material__ = __webpack_require__(14);


const SLEEP_BIAS = 0.99332805041467;
const SLEEP_EPSILON = 0.0009;
const WAKE_MOTION = 10;
const MASS_SCALE = 1 / 10;
class Body {
    // public var sweep:AABB2 = new glaze.geom.AABB2();
    constructor(material = null, mass = 1) {
        this.position = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.positionCorrection = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.predictedPosition = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.delta = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.previousPosition = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.velocity = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.originalVelocity = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.previousVelocity = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.contactNormal = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.prevContactNormal = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.tangent = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.stepContactCount = 0;
        this.maxScalarVelocity = 1000;
        this.maxVelocity = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.forces = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.accumulatedForces = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.isBullet = false;
        this.damping = 1;
        this.globalForceFactor = 1;
        this.mass = 1;
        this.invMass = 1;
        this.dt = 0;
        this.motion = WAKE_MOTION;
        this.canSleep = false;
        this.isSleeping = false;
        this.onGround = false;
        this.onGroundPrev = false;
        this.inWater = false;
        this.inWaterPrev = false;
        this.usesStairs = true;
        this.collideOneWay = true;
        this.totalBounceCount = 0;
        this.bounceCount = 0;
        this.debug = 0;
        this.skip = false;
        this.material = material == null ? new __WEBPACK_IMPORTED_MODULE_1__Material__["a" /* Material */]() : material;
        this.setMass(mass);
    }
    update(dt, globalForces, globalDamping) {
        this.dt = dt;
        this.onGroundPrev = this.onGround;
        this.onGround = false;
        this.inWaterPrev = this.inWater;
        this.inWater = false;
        if (this.skip || this.isSleeping)
            return;
        this.motion = SLEEP_BIAS * this.motion + (1 - SLEEP_BIAS) * this.velocity.lengthSqrd();
        this.motion = Math.min(this.motion, 10 * SLEEP_EPSILON);
        this.canSleep = this.motion < SLEEP_EPSILON;
        this.previousVelocity.copy(this.velocity);
        //Add global forces to local ones
        this.forces.plusMultEquals(globalForces, this.globalForceFactor);
        this.velocity.plusEquals(this.forces);
        this.velocity.multEquals(globalDamping * this.damping);
        //Which velocity limiting type?
        // if (!isBullet) {
        if (this.maxScalarVelocity > 0) {
            this.velocity.clampScalar(this.maxScalarVelocity);
        }
        else {
            this.velocity.clampVector(this.maxVelocity);
        }
        // }
        this.originalVelocity.copy(this.velocity);
        this.predictedPosition.copy(this.position);
        this.predictedPosition.plusMultEquals(this.velocity, dt);
        this.previousPosition.copy(this.position);
        this.delta.copy(this.predictedPosition);
        this.delta.minusEquals(this.position);
        this.prevContactNormal.copy(this.contactNormal);
        this.contactNormal.setTo(0, 0);
        this.forces.setTo(0, 0);
        this.damping = 1;
        this.stepContactCount = 0;
        this.toi = Number.POSITIVE_INFINITY;
    }
    respondStaticCollision(contact) {
        if (this.skip)
            return false;
        var seperation = Math.max(contact.distance, 0);
        var penetration = Math.min(contact.distance, 0);
        //positionCorrection.x -= contact.normal.x * (penetration/dt);
        //positionCorrection.y -= contact.normal.y * (penetration/dt);
        this.positionCorrection.minusMultEquals(contact.normal, penetration / this.dt);
        var nv = this.velocity.dot(contact.normal) + seperation / this.dt;
        if (nv < 0) {
            this.stepContactCount++;
            //Cancel normal vel
            // velocity.x -= contact.normal.x * nv;
            // velocity.y -= contact.normal.y * nv;
            this.velocity.minusMultEquals(contact.normal, nv);
            //Item doesnt bounce? Surface is updwards?
            if (!this.canBounce && contact.normal.y < 0) {
                this.onGround = true;
                //Apply Friction here?
                // var tangent:Vector2 = contact.normal.rightHandNormal();
                // var tv:number = velocity.dot(tangent) * material.friction;
                // velocity.x -= tangent.x * tv;
                // velocity.y -= tangent.y * tv;
            }
            //store contact normal for later reflection
            this.contactNormal.copy(contact.normal);
            return true;
        }
        return false;
    }
    t(msg) {
        if (this.debug > 0) {
            this.debug--;
        }
    }
    respondBulletCollision(contact) {
        //Record the closest time
        if (contact.time <= this.toi) {
            this.toi = contact.time;
            this.positionCorrection.copy(contact.sweepPosition);
            this.contactNormal.copy(contact.normal);
            return true;
        }
        return false;
    }
    updatePosition() {
        if (this.skip || this.isSleeping)
            return;
        //Its a bullet and it hit something?
        if (this.isBullet) {
            if (this.toi < Number.POSITIVE_INFINITY) {
                this.position.copy(this.positionCorrection);
                this.originalVelocity.reflectEquals(this.contactNormal);
                //Fixme
                this.originalVelocity.multEquals(this.material.elasticity);
                this.velocity.copy(this.originalVelocity);
            }
            else {
                this.position.copy(this.predictedPosition);
            }
            return;
        }
        //This body isnt a bullet so...
        //apply Friction here
        if (this.stepContactCount > 0 && !this.canBounce && this.contactNormal.y < 0) {
            // if (stepContactCount>0 && contactNormal.y < 0) {
            //onGround = true;
            // var tangent:Vector2 = contactNormal.rightHandNormal();
            this.tangent.copy(this.contactNormal);
            this.tangent.rightHandNormalEquals();
            var tv = this.originalVelocity.dot(this.tangent) * this.material.friction;
            this.velocity.x -= this.tangent.x * tv;
            this.velocity.y -= this.tangent.y * tv;
        }
        this.positionCorrection.plusEquals(this.velocity);
        this.positionCorrection.multEquals(this.dt);
        this.position.plusEquals(this.positionCorrection);
        this.positionCorrection.setTo(0, 0);
        //Anything hit? Any bounces left?
        if (this.stepContactCount > 0 && this.canBounce) {
            //Reflect it...
            this.originalVelocity.reflectEquals(this.contactNormal);
            //Remove velocity
            this.originalVelocity.multEquals(this.material.elasticity);
            //Set the new velocity
            this.velocity.copy(this.originalVelocity);
            this.bounceCount++;
        }
    }
    addForce(f) {
        this.forces.plusMultEquals(f, this.invMass);
        this.wake();
    }
    addMasslessForce(f) {
        this.forces.plusEquals(f);
        this.wake();
    }
    addProportionalForce(f) {
        this.forces.plusMultEquals(f, this.mass);
        this.wake();
    }
    setMass(mass) {
        this.mass = mass;
        this.invMass = 1 / mass;
    }
    setMassFromVolumeMaterial(volume) {
        this.setMass(this.material.density * volume * MASS_SCALE);
    }
    setStaticPosition(x, y) {
        this.position.setTo(x, y);
        this.positionCorrection.setTo(0, 0);
        this.predictedPosition.setTo(0, 0);
        this.forces.setTo(0, 0);
        this.accumulatedForces.setTo(0, 0);
        this.velocity.setTo(0, 0);
        this.originalVelocity.setTo(0, 0);
        this.delta.setTo(0, 0);
        this.wake();
    }
    setBounces(count) {
        this.totalBounceCount = count;
        this.bounceCount = 0;
    }
    get canBounce() {
        return this.totalBounceCount != 0 && this.bounceCount < this.totalBounceCount;
    }
    wake() {
        this.canSleep = false;
        this.motion = WAKE_MOTION;
        this.bounceCount = 0;
    }
    get down() {
        return this.contactNormal.y < 0;
    }
    get downPrev() {
        return this.prevContactNormal.y < 0;
    }
    get up() {
        return this.contactNormal.y > 0;
    }
    get upPrev() {
        return this.prevContactNormal.y > 0;
    }
    get left() {
        return this.contactNormal.x < 0;
    }
    get leftPrev() {
        return this.prevContactNormal.x < 0;
    }
    get right() {
        return this.contactNormal.x > 0;
    }
    get rightPrev() {
        return this.prevContactNormal.x > 0;
    }
    static Create(material, mass, bounces, globalForceFactor, maxScalarVelocity) {
        var body = new Body(material);
        body.setMass(mass);
        body.setBounces(bounces);
        body.globalForceFactor = globalForceFactor;
        body.maxScalarVelocity = maxScalarVelocity;
        return body;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Body;



/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Health {
    constructor(maxHealth, currentHealth, recoveryPerSecond, onNoHealth) {
        this.maxHealth = maxHealth;
        this.currentHealth = currentHealth;
        this.recoveryPerSecond = recoveryPerSecond;
        this.recoveryPerMs = recoveryPerSecond / 1000;
        this.onNoHealth = onNoHealth;
    }
    applyDamage(damageAmount) {
        this.currentHealth -= damageAmount;
    }
    isDead() {
        return this.currentHealth <= 0;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Health;



/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Destroy {
    constructor(count) {
        this.count = count;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Destroy;



/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return EntityFilterOptions; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__physics_collision_Ray__ = __webpack_require__(55);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__BroadphaseAreaQuery__ = __webpack_require__(125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_components_Destroy__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_components_Health__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__physics_components_PhysicsBody__ = __webpack_require__(6);





var EntityFilterOptions;
(function (EntityFilterOptions) {
    EntityFilterOptions[EntityFilterOptions["ALL"] = 0] = "ALL";
    EntityFilterOptions[EntityFilterOptions["FRIENDLY"] = 1] = "FRIENDLY";
    EntityFilterOptions[EntityFilterOptions["ENEMY"] = 2] = "ENEMY";
})(EntityFilterOptions || (EntityFilterOptions = {}));
class CombatUtils {
    constructor() { }
    static setup(engine, bf) {
        CombatUtils.engine = engine;
        CombatUtils.broadphase = bf;
        CombatUtils.bfAreaQuery = new __WEBPACK_IMPORTED_MODULE_1__BroadphaseAreaQuery__["a" /* BroadphaseAreaQuery */](engine, bf);
        CombatUtils.ray = new __WEBPACK_IMPORTED_MODULE_0__physics_collision_Ray__["a" /* Ray */]();
    }
    static CanSee(start, end, range) {
        if (start.distSqrd(end) >= range * range)
            return false;
        this.ray.initalize(start, end, 0, null);
        // trace("looking",start,end);
        this.broadphase.CastRay(this.ray, null, false, false);
        return !this.ray.hit;
    }
    static SearchSortAndFilter(position, radius, referenceEntity, filterOptions) {
        CombatUtils.referenceEntity = referenceEntity;
        CombatUtils.bfAreaQuery.query(position, radius, referenceEntity, true);
        // TODO
        // CombatUtils.bfAreaQuery.entityCollection.entities.sort(EntityCollectionItem.SortClosestFirst);
        // CombatUtils.bfAreaQuery.entityCollection.filter(FilterItems);
        // if (filterOptions == EntityFilterOptions.ENEMY)
        //     CombatUtils.bfAreaQuery.entityCollection.filter(FilterEnemyFactions);
        // else if (filterOptions == EntityFilterOptions.FRIENDLY)
        //     CombatUtils.bfAreaQuery.entityCollection.filter(FilterFriendlyFactions);
        return CombatUtils.bfAreaQuery.entityCollection;
    }
    static explode(position, radius, power, sourceEntity) {
        CombatUtils.bfAreaQuery.query(position, radius, sourceEntity, true);
        CombatUtils.bfAreaQuery.entityCollection.entities.forEach(item => {
            //var item = CombatUtils.bfAreaQuery.entityCollection.entities.head;
            if (!CombatUtils.engine.getComponentForEntity(item.entity, __WEBPACK_IMPORTED_MODULE_2__core_components_Destroy__["a" /* Destroy */])) {
                // if (item.entity.getComponent(Destroy)==null) {
                var health = CombatUtils.engine.getComponentForEntity(item.entity, __WEBPACK_IMPORTED_MODULE_3__core_components_Health__["a" /* Health */]);
                var body = CombatUtils.engine.getComponentForEntity(item.entity, __WEBPACK_IMPORTED_MODULE_4__physics_components_PhysicsBody__["a" /* PhysicsBody */]);
                if (health != null || body != null) {
                    var effect = radius / Math.sqrt(item.distance) * power;
                    // trace(item.distance);
                    // trace('e=$effect');
                    if (health != null) {
                        health.applyDamage(effect);
                    }
                    // var personality = item.entity.getComponent(Personality);
                    // if (personality!=null) {
                    //     personality.applyDamage(sourceEntity,"explosion",effect);
                    // }
                    if (body != null) {
                        var delta = body.body.position.clone();
                        delta.minusEquals(position);
                        delta.normalize();
                        delta.multEquals(effect);
                        body.body.addForce(delta);
                    }
                }
            }
        });
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = CombatUtils;



/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AABB2__ = __webpack_require__(11);


class AABB {
    constructor() {
        this.position = new __WEBPACK_IMPORTED_MODULE_0__Vector2__["a" /* Vector2 */]();
        this.extents = new __WEBPACK_IMPORTED_MODULE_0__Vector2__["a" /* Vector2 */]();
    }
    get l() {
        return this.position.x - this.extents.x;
    }
    get t() {
        return this.position.y - this.extents.y;
    }
    get r() {
        return this.position.x + this.extents.x;
    }
    get b() {
        return this.position.y + this.extents.y;
    }
    /*
     *  Standard AABB overlap.  Only returns a boolean, which isnt much use if you need to actually resolve anything.
     */
    overlap(aabb) {
        if (Math.abs(this.position.x - aabb.position.x) > (this.extents.x + aabb.extents.x))
            return false;
        if (Math.abs(this.position.y - aabb.position.y) > (this.extents.y + aabb.extents.y))
            return false;
        return true;
    }
    containsAABB(aabb) {
        return false;
    }
    containsPoint(point) {
        return (Math.abs(point.x - this.position.x) < this.extents.x && Math.abs(point.y - this.position.y) < this.extents.y);
    }
    overlapArea(aabb) {
        var _l = Math.max(this.l, aabb.l);
        var _r = Math.min(this.r, aabb.r);
        var _t = Math.max(this.t, aabb.t);
        var _b = Math.min(this.b, aabb.b);
        return (_r - _l) * (_b - _t);
    }
    area() {
        return this.extents.x * this.extents.y * 4;
    }
    toAABB2() {
        return new __WEBPACK_IMPORTED_MODULE_1__AABB2__["a" /* AABB2 */](this.t, this.r, this.b, this.l);
    }
    copyToAABB2(aabb2) {
        aabb2.t = this.t;
        aabb2.r = this.r;
        aabb2.b = this.b;
        aabb2.l = this.l;
    }
    clone(aabb) {
        var aabb = new AABB();
        aabb.position.copy(this.position);
        aabb.extents.copy(this.extents);
        return aabb;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = AABB;



/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Age {
    // public var stateOnExpired:String = EngineLifecycle.DESTROY;
    constructor(ttl, onExpire) {
        this.ttl = ttl;
        this.age = 0;
        this.onExpire = onExpire;
    }
    growOlder(tick) {
        this.age += tick;
        return this.isExpired();
    }
    isExpired() {
        return this.age > this.ttl;
    }
    reset() {
        this.age = 0;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Age;



/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SignalBinding__ = __webpack_require__(80);

class Signal {
    constructor() {
        this._bindings = [];
        this._prevParams = null;
        this.memorize = false;
        this._shouldPropagate = true;
        this.active = true;
    }
    validateListener(listener, fnName) {
        if (typeof listener !== "function") {
            throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}", fnName));
        }
    }
    _registerListener(listener, isOnce, listenerContext, priority) {
        var prevIndex = this._indexOfListener(listener, listenerContext);
        var binding;
        if (prevIndex !== -1) {
            binding = this._bindings[prevIndex];
            if (binding.isOnce() !== isOnce) {
                throw new Error("You cannot add" +
                    (isOnce ? "" : "Once") +
                    "() then add" +
                    (!isOnce ? "" : "Once") +
                    "() the same listener without removing the relationship first.");
            }
        }
        else {
            binding = new __WEBPACK_IMPORTED_MODULE_0__SignalBinding__["a" /* SignalBinding */](this, listener, isOnce, listenerContext, priority);
            this._addBinding(binding);
        }
        if (this.memorize && this._prevParams) {
            binding.execute(this._prevParams);
        }
        return binding;
    }
    _addBinding(binding) {
        //simplified insertion sort
        var n = this._bindings.length;
        do {
            --n;
        } while (this._bindings[n] && binding.priority <= this._bindings[n].priority);
        this._bindings.splice(n + 1, 0, binding);
    }
    _indexOfListener(listener, context) {
        var n = this._bindings.length;
        var cur;
        while (n--) {
            cur = this._bindings[n];
            if (cur.getListener() === listener && cur.context === context) {
                return n;
            }
        }
        return -1;
    }
    has(listener, context = null) {
        return this._indexOfListener(listener, context) !== -1;
    }
    add(listener, listenerContext = null, priority = 0) {
        this.validateListener(listener, "add");
        return this._registerListener(listener, false, listenerContext, priority);
    }
    addOnce(listener, listenerContext = null, priority = 0) {
        this.validateListener(listener, "addOnce");
        return this._registerListener(listener, true, listenerContext, priority);
    }
    remove(listener, context = null) {
        this.validateListener(listener, "remove");
        var i = this._indexOfListener(listener, context);
        if (i !== -1) {
            this._bindings[i]._destroy(); //no reason to a SignalBinding exist if it isn't attached to a signal
            this._bindings.splice(i, 1);
        }
        return listener;
    }
    removeAll() {
        var n = this._bindings.length;
        while (n--) {
            this._bindings[n]._destroy();
        }
        this._bindings.length = 0;
    }
    getNumListeners() {
        return this._bindings.length;
    }
    halt() {
        this._shouldPropagate = false;
    }
    dispatch(...paramsArr) {
        if (!this.active) {
            return;
        }
        var n = this._bindings.length;
        var bindings;
        if (this.memorize) {
            this._prevParams = paramsArr;
        }
        if (!n) {
            //should come after memorize
            return;
        }
        bindings = this._bindings.slice(0); //clone array in case add/remove items during dispatch
        this._shouldPropagate = true; //in case `halt` was called before dispatch or during the previous dispatch.
        do {
            n--;
        } while (bindings[n] && this._shouldPropagate && bindings[n].execute(paramsArr) !== false);
    }
    forget() {
        this._prevParams = null;
    }
    dispose() {
        this.removeAll();
        delete this._bindings;
        delete this._prevParams;
    }
    toString() {
        return "[Signal active:" + this.active + " numListeners:" + this.getNumListeners() + "]";
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Signal;



/***/ }),
/* 25 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__DIsplayObject__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__geom_AABB2__ = __webpack_require__(11);


class DisplayObjectContainer extends __WEBPACK_IMPORTED_MODULE_0__DIsplayObject__["a" /* DisplayObject */] {
    constructor() {
        super();
        this.subTreeAABB = new __WEBPACK_IMPORTED_MODULE_1__geom_AABB2__["a" /* AABB2 */]();
        this.childCount = 0;
    }
    addChild(child) {
        if (child.parent != null)
            child.parent.removeChild(child);
        this.insertEnd(child);
        this.childAdded(child);
    }
    addChildAt(child, index) {
        if (index >= this.childCount) {
            this.addChild(child);
            return;
        }
        if (index == 0) {
            this.insertBeginning(child);
        }
        else {
            this.insertBefore(this.findChildByIndex(index), child);
        }
        this.childAdded(child);
    }
    childAdded(child) {
        this.childCount++;
        child.parent = this;
    }
    findChildByIndex(index) {
        var child = this.head;
        var count = 0;
        while (child != null) {
            if (count++ == index)
                return child;
            child = child.next;
        }
        return this.tail;
    }
    removeChild(child) {
        if (child.parent == this) {
            this.remove(child);
            this.childRemoved(child);
        }
    }
    removeChildAt(index) {
        var child = this.findChildByIndex(index);
        this.removeChild(child);
        return child;
    }
    childRemoved(child) {
        this.childCount--;
        child.parent = null;
    }
    updateTransform() {
        //Reset AABB
        this.aabb.reset();
        super.updateTransform();
        this.calcExtents();
        this.subTreeAABB.reset();
        this.subTreeAABB.addAABB(this.aabb);
        //Expand AAABB to this DisplayObject -> New required
        var child = this.head;
        while (child != null) {
            child.updateTransform();
            //Inflate this AABB to encapsulate child
            this.subTreeAABB.addAABB(child.aabb);
            child = child.next;
        }
    }
    // public apply(slot:DisplayObject->Dynamic->Void,p:Dynamic=null) {
    // }
    //TODO Probably get rid of this...
    //Linked Lists
    insertAfter(node, newNode) {
        newNode.prev = node;
        newNode.next = node.next;
        if (node.next == null)
            this.tail = newNode;
        else
            node.next.prev = newNode;
        node.next = newNode;
    }
    insertBefore(node, newNode) {
        newNode.prev = node.prev;
        newNode.next = node;
        if (node.prev == null)
            this.head = newNode;
        else
            node.prev.next = newNode;
        node.prev = newNode;
    }
    insertBeginning(newNode) {
        if (this.head == null) {
            this.head = newNode;
            this.tail = newNode;
            newNode.prev = null;
            newNode.next = null;
        }
        else
            this.insertBefore(this.head, newNode);
    }
    insertEnd(newNode) {
        if (this.tail == null)
            this.insertBeginning(newNode);
        else
            this.insertAfter(this.tail, newNode);
    }
    remove(node) {
        if (node.prev == null)
            this.head = node.next;
        else
            node.prev.next = node.next;
        if (node.next == null)
            this.tail = node.prev;
        else
            node.next.prev = node.prev;
        node.prev = node.next = null;
    }
    debug() {
        var child = this.head;
        while (child != null) {
            child = child.next;
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = DisplayObjectContainer;



/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class ParticleEmitter {
    constructor(emitters) {
        this.emitters = emitters;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = ParticleEmitter;



/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SteeringAgentParameters__ = __webpack_require__(59);

class Steering {
    constructor(behaviors, params = null, calculationMethod = Steering.CALCULATE_SUM) {
        this.behaviors = behaviors;
        this.steeringParameters = params == null ? __WEBPACK_IMPORTED_MODULE_0__SteeringAgentParameters__["a" /* DEFAULT_STEERING_PARAMS */] : params;
        this.hasChanged = true;
    }
    addBehavior(behavior) {
        this.behaviors.push(behavior);
        this.hasChanged = true;
    }
    removeBehaviour(behavior) {
        this.behaviors.splice(this.behaviors.indexOf(behavior), 1);
        this.hasChanged = true;
    }
    getBehaviour(type) {
        return this.behaviors.find(behaviour => behaviour.constructor.name === type.name);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Steering;

Steering.CALCULATE_SUM = 0;
// Simply adds up all of the behaviors and truncates them to the max acceleration
Steering.CALCULATE_SPEED = 1;
// Prioritized Dithering
Steering.CALCULATE_ACCURACY = 2;


/***/ }),
/* 28 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Behavior {
    constructor(weight = 1.0, priority = 1, probability = 1, active = true) {
        this.weight = weight;
        this.priority = priority;
        this.probability = probability;
        this.active = active;
    }
    calculate(agent, params, result) { }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Behavior;



/***/ }),
/* 29 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class SteeringSettings {
}
/* harmony export (immutable) */ __webpack_exports__["a"] = SteeringSettings;

// Arrive speed settings
SteeringSettings.speedTweaker = 0.3;
SteeringSettings.arriveFast = 1;
SteeringSettings.arriveNormal = 3;
SteeringSettings.arriveSlow = 5;
// Wander Settings
SteeringSettings.wanderJitter = 300; // ( per second )
SteeringSettings.wanderDistance = 25;
SteeringSettings.wanderRadius = 15;
// Probabilities - Used to determine the chance that the Prioritized Dithering ( fastest ) calculation method will run a behavior
SteeringSettings.separationProbability = 0.2;
SteeringSettings.cohesionProbability = 0.6;
SteeringSettings.alignmentProbability = 0.3;
SteeringSettings.dodgeProbability = 0.6;
SteeringSettings.seekProbability = 0.8;
SteeringSettings.fleeProbability = 0.6;
SteeringSettings.pursuitProbability = 0.8;
SteeringSettings.evadeProbability = 1;
SteeringSettings.offsetPursuitProbability = 0.8;
SteeringSettings.arriveProbability = 0.5;
SteeringSettings.obstacleAvoidanceProbability = 0.5;
SteeringSettings.wallAvoidanceProbability = 0.5;
SteeringSettings.hideProbability = 0.8;
SteeringSettings.followPathProbability = 0.7;
SteeringSettings.interposeProbability = 0.8;
SteeringSettings.wanderProbability = 0.8;
// Weights - Scalar to effect the weights of individual behaviors
SteeringSettings.separationWeight = 1;
SteeringSettings.alignmentWeight = 3;
SteeringSettings.cohesionWeight = 2;
SteeringSettings.dodgeWeight = 1;
SteeringSettings.seekWeight = 1;
SteeringSettings.fleeWeight = 1;
SteeringSettings.pursuitWeight = 1;
SteeringSettings.evadeWeight = 0.1;
SteeringSettings.offsetPursuitWeight = 1;
SteeringSettings.arriveWeight = 1;
SteeringSettings.obstacleAvoidanceWeight = 10;
SteeringSettings.wallAvoidanceWeight = 10;
SteeringSettings.hideWeight = 1;
SteeringSettings.followPathWeight = 0.5;
SteeringSettings.interposeWeight = 1;
SteeringSettings.wanderWeight = 1;
// Priorities - Order in which behaviors are calculated ( lower numbers get calculated first )
SteeringSettings.wallAvoidancePriority = 10;
SteeringSettings.obstacleAvoidancePriority = 20;
SteeringSettings.evadePriority = 30;
SteeringSettings.hidePriority = 35;
SteeringSettings.seperationPriority = 40;
SteeringSettings.alignmentPriority = 50;
SteeringSettings.cohesionPriority = 60;
SteeringSettings.dodgePriority = 65;
SteeringSettings.seekPriority = 70;
SteeringSettings.fleePriority = 80;
SteeringSettings.arrivePriority = 90;
SteeringSettings.pursuitPriority = 100;
SteeringSettings.offsetPursuitPriority = 110;
SteeringSettings.interposePriority = 120;
SteeringSettings.followPathPriority = 130;
SteeringSettings.wanderPriority = 140;


/***/ }),
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_DigitalInput__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ecs_Engine__ = __webpack_require__(78);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_AssetLoader__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_GameLoop__ = __webpack_require__(81);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__geom_Vector2__ = __webpack_require__(0);





class GlazeEngine {
    constructor(canvas) {
        this.canvas = canvas;
        this.loop = new __WEBPACK_IMPORTED_MODULE_3__util_GameLoop__["a" /* GameLoop */]();
        this.loop.updateFunc = this.update.bind(this);
        this.input = new __WEBPACK_IMPORTED_MODULE_0__util_DigitalInput__["a" /* DigitalInput */]();
        var rect = canvas.getBoundingClientRect();
        this.input.InputTarget(window.document, new __WEBPACK_IMPORTED_MODULE_4__geom_Vector2__["a" /* Vector2 */](rect.left, rect.top));
        this.engine = new __WEBPACK_IMPORTED_MODULE_1__ecs_Engine__["a" /* Engine */]();
    }
    loadAssets(assetList) {
        this.assets = new __WEBPACK_IMPORTED_MODULE_2__util_AssetLoader__["a" /* AssetLoader */]();
        this.assets.loaded.add(this.initalize.bind(this));
        this.assets.SetImagesToLoad(assetList);
        this.assets.Load();
    }
    initalize() { }
    update(delta, now) {
        this.preUpdate();
        this.engine.update(delta, now);
        this.postUpdate();
    }
    preUpdate() { }
    postUpdate() { }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = GlazeEngine;

GlazeEngine.params = {
    tileSize: 16,
    debug: false,
};


/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Rectangle {
    constructor(x = 0, y = 0, width = 0, height = 0) {
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Rectangle;



/***/ }),
/* 32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CompileVertexShader */
/* unused harmony export CompileFragmentShader */
/* unused harmony export CompileShader */
/* harmony export (immutable) */ __webpack_exports__["a"] = CompileProgram;
function CompileVertexShader(gl, shaderSrc) {
    return CompileShader(gl, shaderSrc, WebGLRenderingContext.VERTEX_SHADER);
}
function CompileFragmentShader(gl, shaderSrc) {
    return CompileShader(gl, shaderSrc, WebGLRenderingContext.FRAGMENT_SHADER);
}
function CompileShader(gl, shaderSrc, shaderType) {
    var shader = gl.createShader(shaderType);
    gl.shaderSource(shader, shaderSrc);
    gl.compileShader(shader);
    if (!gl.getShaderParameter(shader, WebGLRenderingContext.COMPILE_STATUS)) {
        window.alert(gl.getShaderInfoLog(shader));
        return null;
    }
    return shader;
}
function CompileProgram(gl, vertexSrc, fragmentSrc) {
    var vertexShader = CompileVertexShader(gl, vertexSrc);
    var fragmentShader = CompileFragmentShader(gl, fragmentSrc);
    var shaderProgram = gl.createProgram();
    gl.attachShader(shaderProgram, vertexShader);
    gl.attachShader(shaderProgram, fragmentShader);
    gl.linkProgram(shaderProgram);
    if (!gl.getProgramParameter(shaderProgram, WebGLRenderingContext.LINK_STATUS)) {
        window.alert("Could not initialize program");
    }
    return shaderProgram;
}


/***/ }),
/* 33 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class ShaderWrapper {
    constructor(gl, program) {
        this.program = program;
        gl.useProgram(this.program);
        this.attribute = {};
        this.uniform = {};
        var cnt = gl.getProgramParameter(program, WebGLRenderingContext.ACTIVE_ATTRIBUTES);
        var i = 0;
        while (i < cnt) {
            var attrib = gl.getActiveAttrib(program, i);
            this.attribute[attrib.name] = gl.getAttribLocation(program, attrib.name);
            i++;
        }
        cnt = gl.getProgramParameter(program, WebGLRenderingContext.ACTIVE_UNIFORMS);
        i = 0;
        while (i < cnt) {
            var attrib = gl.getActiveUniform(program, i);
            this.uniform[attrib.name] = gl.getUniformLocation(program, attrib.name);
            i++;
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = ShaderWrapper;



/***/ }),
/* 34 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__ = __webpack_require__(0);

class Contact {
    constructor() {
        this.position = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.delta = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.normal = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.distance = 0;
        this.time = 0;
        this.sweepPosition = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
    }
    setTo(contact) {
        this.position.x = contact.position.x;
        this.position.y = contact.position.y;
        this.delta.x = contact.delta.x;
        this.delta.y = contact.delta.y;
        this.normal.x = contact.normal.x;
        this.normal.y = contact.normal.y;
        this.time = contact.time;
        this.distance = contact.distance;
        this.sweepPosition.x = contact.sweepPosition.x;
        this.sweepPosition.y = contact.sweepPosition.y;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Contact;



/***/ }),
/* 35 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class TileGraphics {
    constructor(tileFrameId = "") {
        this.setTileFrameId(tileFrameId);
    }
    setTileFrameId(value) {
        this.tileFrameId = value;
        if (this.onChange != null) {
            this.onChange();
        }
        return value;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = TileGraphics;



/***/ }),
/* 36 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class CollisionCounter {
    constructor(count, onCount, ignoreStatic = true) {
        this.count = count;
        this.onCount = onCount;
        this.ignoreStatic = ignoreStatic;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = CollisionCounter;



/***/ }),
/* 37 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_physics_Material__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__glaze_core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_Filters__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__glaze_physics_Body__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__glaze_core_components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__glaze_graphics_components_Graphics__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__glaze_physics_components_PhysicsBody__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__glaze_core_components_Moveable__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__glaze_physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__glaze_particle_components_ParticleEmitter__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__glaze_core_components_CollisionCouner__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__glaze_core_components_Health__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__glaze_core_components_Age__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__glaze_core_components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__glaze_util_Ballastics__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Destroy__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__glaze_particle_emitter_Explosion__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__glaze_core_components_State__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__glaze_util_CombatUtils__ = __webpack_require__(21);



















class StandardBullet {
    static create(engine, position, filter, targetPosition) {
        var bulletBody = new __WEBPACK_IMPORTED_MODULE_3__glaze_physics_Body__["a" /* Body */](__WEBPACK_IMPORTED_MODULE_0__glaze_physics_Material__["a" /* Material */].LIGHTMETAL);
        bulletBody.setMass(16 + 8);
        bulletBody.setBounces(3);
        bulletBody.globalForceFactor = 1; //0.5;
        bulletBody.isBullet = true;
        bulletBody.maxScalarVelocity = 10000;
        filter.categoryBits |= __WEBPACK_IMPORTED_MODULE_2__config_Filters__["a" /* TestFilters */].PROJECTILE_CAT;
        filter.maskBits |= __WEBPACK_IMPORTED_MODULE_2__config_Filters__["a" /* TestFilters */].PROJECTILE_COLLIDABLE_CAT;
        var bullet = engine.createEntity();
        engine.addComponentsToEntity(bullet, [
            position,
            new __WEBPACK_IMPORTED_MODULE_4__glaze_core_components_Extents__["a" /* Extents */](2, 2),
            // new LifeCycle(BULLET_LIFECYCLE),
            new __WEBPACK_IMPORTED_MODULE_5__glaze_graphics_components_Graphics__["a" /* Graphics */]("projectiles", "standard"),
            new __WEBPACK_IMPORTED_MODULE_6__glaze_physics_components_PhysicsBody__["a" /* PhysicsBody */](bulletBody, true),
            new __WEBPACK_IMPORTED_MODULE_7__glaze_core_components_Moveable__["a" /* Moveable */](),
            new __WEBPACK_IMPORTED_MODULE_8__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */](false, filter, []),
            new __WEBPACK_IMPORTED_MODULE_9__glaze_particle_components_ParticleEmitter__["a" /* ParticleEmitter */]([]),
            new __WEBPACK_IMPORTED_MODULE_17__glaze_core_components_State__["a" /* State */](StandardBullet.states, null, false),
            new __WEBPACK_IMPORTED_MODULE_10__glaze_core_components_CollisionCouner__["a" /* CollisionCounter */](3, "destroy"),
            new __WEBPACK_IMPORTED_MODULE_11__glaze_core_components_Health__["a" /* Health */](10, 10, 0, "destroy"),
            new __WEBPACK_IMPORTED_MODULE_12__glaze_core_components_Age__["a" /* Age */](1000, "destroy"),
            new __WEBPACK_IMPORTED_MODULE_13__glaze_core_components_Active__["a" /* Active */](),
        ]);
        __WEBPACK_IMPORTED_MODULE_14__glaze_util_Ballastics__["a" /* Ballistics */].calcProjectileVelocity(bulletBody, targetPosition, 2000);
        return bullet;
    }
    static onDestroy(engine, entity) {
        if (engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Destroy__["a" /* Destroy */]))
            return;
        engine.addComponentsToEntity(entity, [new __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Destroy__["a" /* Destroy */](1)]);
        engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_9__glaze_particle_components_ParticleEmitter__["a" /* ParticleEmitter */]).emitters.push(new __WEBPACK_IMPORTED_MODULE_16__glaze_particle_emitter_Explosion__["a" /* Explosion */](10, 50));
        // entity.getComponent(glaze.engine.components.ParticleEmitters).emitters.push(new glaze.particle.emitter.Explosion(10,50));
        // glaze.util.CombatUtils.explode(entity.getComponent(Position).coords,64,10000,entity);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = StandardBullet;

StandardBullet.states = {
    alive: function (engine, entity) { },
    destroy: function (engine, entity) {
        if (engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Destroy__["a" /* Destroy */]))
            return;
        engine.addComponentsToEntity(entity, [new __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Destroy__["a" /* Destroy */](1)]);
        engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_9__glaze_particle_components_ParticleEmitter__["a" /* ParticleEmitter */]).emitters.push(new __WEBPACK_IMPORTED_MODULE_16__glaze_particle_emitter_Explosion__["a" /* Explosion */](10, 50));
        __WEBPACK_IMPORTED_MODULE_18__glaze_util_CombatUtils__["a" /* CombatUtils */].explode(engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_1__glaze_core_components_Position__["a" /* Position */]).coords, 100, 10000, entity);
    },
};


/***/ }),
/* 38 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Ballistics {
    static calcProjectileVelocity(body, target, velocity) {
        var vel = target.clone();
        vel.minusEquals(body.position);
        vel.normalize();
        vel.multEquals(velocity);
        body.maxScalarVelocity = velocity;
        body.velocity.setTo(vel.x, vel.y);
    }
    static calcProjectileForce(body, target, force) {
        var newforce = target.clone();
        newforce.minusEquals(body.position);
        newforce.normalize();
        newforce.multEquals(force);
        // body.maxScalarVelocity = velocity;
        body.addForce(newforce);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Ballistics;



/***/ }),
/* 39 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Player {
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Player;



/***/ }),
/* 40 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Behavior__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__SteeringSettings__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_Random__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Seek__ = __webpack_require__(60);





class Wander extends __WEBPACK_IMPORTED_MODULE_0__Behavior__["a" /* Behavior */] {
    constructor(circleRadius = 8, circleDistance = 1, wanderChange = 4) {
        super(__WEBPACK_IMPORTED_MODULE_2__SteeringSettings__["a" /* SteeringSettings */].wanderWeight, __WEBPACK_IMPORTED_MODULE_2__SteeringSettings__["a" /* SteeringSettings */].wanderPriority);
        this.circleCenter = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]();
        this.displacement = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]();
        this.circleRadius = circleRadius;
        this.circleDistance = circleDistance;
        this.wanderAngle = Object(__WEBPACK_IMPORTED_MODULE_3__util_Random__["b" /* RandomFloat */])(0, Math.PI * 2);
        this.wanderChange = wanderChange;
    }
    calculate(agent, params, result) {
        this.wanderAngle += Object(__WEBPACK_IMPORTED_MODULE_3__util_Random__["b" /* RandomFloat */])(-this.wanderChange, this.wanderChange);
        this.circleCenter.copy(agent.velocity);
        this.circleCenter.normalize();
        this.circleCenter.multEquals(this.circleDistance);
        this.circleCenter.plusEquals(agent.position);
        // glaze.debug.DebugEngine.DrawParticle(circleCenter.x,circleCenter.y,4,0,0,255);
        var h = Math.atan2(agent.velocity.y, agent.velocity.x);
        h += Math.PI / 2;
        this.displacement.setTo(this.circleRadius * Math.cos(this.wanderAngle + h), this.circleRadius * Math.sin(this.wanderAngle + h));
        this.circleCenter.plusEquals(this.displacement);
        // glaze.debug.DebugEngine.DrawParticle(circleCenter.x,circleCenter.y,4,255,0,0);
        __WEBPACK_IMPORTED_MODULE_4__Seek__["a" /* Seek */].calc(agent, params, result, this.circleCenter, 0);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Wander;



/***/ }),
/* 41 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Held__ = __webpack_require__(42);

class Holder {
    constructor(parent) {
        this.activate = false;
        this.heldItem = null;
        this.parent = null;
        this.parent = parent;
    }
    static drop(engine, holder) {
        if (holder.heldItem != null) {
            const item = holder.heldItem;
            engine.removeComponentsFromEntity(holder.heldItem, [__WEBPACK_IMPORTED_MODULE_0__Held__["a" /* Held */]]);
            holder.heldItem = null;
            return item;
        }
        return null;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Holder;



/***/ }),
/* 42 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Held {
    constructor(holder) {
        this.holder = holder;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Held;



/***/ }),
/* 43 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__ = __webpack_require__(0);

class ForceData {
    constructor(direction, minForce, maxForce, minDuration, maxDuration) {
        this.direction = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.direction.setUnitRotation(direction - 90);
        this.minForce = minForce;
        this.maxForce = maxForce;
        this.minDuration = minDuration;
        this.maxDuration = maxDuration;
    }
}
/* harmony export (immutable) */ __webpack_exports__["b"] = ForceData;

class EnvironmentForce {
    constructor(data) {
        this.direction = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.power = 0;
        this.ttl = 0;
        this.data = data;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = EnvironmentForce;



/***/ }),
/* 44 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["b"] = TMXObjectPosition;
/* harmony export (immutable) */ __webpack_exports__["a"] = TMXObjectExtents;
/* unused harmony export SCALE */
/* unused harmony export TMXObjectGetCSVParams */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_components_Extents__ = __webpack_require__(5);


function TMXObjectPosition(tmxObject) {
    return new __WEBPACK_IMPORTED_MODULE_0__core_components_Position__["a" /* Position */](SCALE(tmxObject.x + tmxObject.width / 2), SCALE(tmxObject.y + tmxObject.height / 2));
}
function TMXObjectExtents(tmxObject) {
    return new __WEBPACK_IMPORTED_MODULE_1__core_components_Extents__["a" /* Extents */](SCALE(tmxObject.width / 2), SCALE(tmxObject.height / 2));
}
function SCALE(v) {
    return v * 2;
}
function TMXObjectGetCSVParams(csv) {
    var parsedParams = new Array();
    if (csv == null)
        return parsedParams;
    var params = csv.split(",");
    params.forEach(param => {
        var f = parseFloat(param);
        if (f != null) {
            parsedParams.push(f);
            return;
        }
        parsedParams.push(param);
    });
    return parsedParams;
}


/***/ }),
/* 45 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class IntervalDelay {
    constructor(intervalTime = 0) {
        this.reset(intervalTime);
    }
    reset(intervalTime = 0) {
        this.current = 0;
        this.intervalTime = intervalTime;
        this.intervals = 0;
    }
    tick(delta) {
        this.current += delta;
        if (this.current > this.intervalTime) {
            this.current = 0;
            this.intervals++;
            return true;
        }
        return false;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = IntervalDelay;



/***/ }),
/* 46 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class StateUpdater {
    constructor(channel, sequence) {
        this.channel = channel;
        this.sequence = sequence;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = StateUpdater;



/***/ }),
/* 47 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Holdable {
    constructor() { }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Holdable;



/***/ }),
/* 48 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Pool {
    constructor(factory) {
        this.pool = [];
        this.factory = factory;
        this.nextAvailableIndex = -1;
        this.totalAllocationCount = 0;
    }
    addCapacity(capacity) {
        this.pool = [...entityRange(this.pool.length, capacity, this.factory), ...this.pool];
        this.nextAvailableIndex += capacity;
    }
    reserve() {
        const item = this.pool[this.nextAvailableIndex];
        this.pool[this.nextAvailableIndex] = null;
        this.nextAvailableIndex--;
        this.totalAllocationCount++;
        return item;
    }
    free(item) {
        this.nextAvailableIndex++;
        this.pool[this.nextAvailableIndex] = item;
    }
    get capacity() {
        return this.pool.length;
    }
    get assigned() {
        return this.pool.length - this.nextAvailableIndex;
    }
    get totalAllocations() {
        return this.totalAllocationCount;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Pool;

const emptyNullArray = count => Array(count).fill(null);
const reverseOrder = (a, b) => b - a;
const entityRange = (start, len, factory) => emptyNullArray(len)
    .map((_, i) => factory(start + i))
    .sort(reverseOrder);


/***/ }),
/* 49 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class BaseTexture {
    constructor(gl, width, height, floatingPonumber = false) {
        this.gl = gl;
        this.powerOfTwo = false;
        this.width = width;
        this.height = height;
        this.RegisterTexture(floatingPonumber);
    }
    RegisterTexture(fp) {
        if (this.texture == null)
            this.texture = this.gl.createTexture();
        this.gl.bindTexture(WebGLRenderingContext.TEXTURE_2D, this.texture);
        this.gl.pixelStorei(WebGLRenderingContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 0);
        // this.gl.pixelStorei(WebGLRenderingContext.UNPACK_FLIP_Y_WEBGL, 1);
        this.gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_MAG_FILTER, WebGLRenderingContext.NEAREST);
        this.gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_MIN_FILTER, WebGLRenderingContext.NEAREST);
        if (this.powerOfTwo) {
            this.gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_WRAP_S, WebGLRenderingContext.REPEAT);
            this.gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_WRAP_T, WebGLRenderingContext.REPEAT);
        }
        else {
            this.gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_WRAP_S, WebGLRenderingContext.CLAMP_TO_EDGE);
            this.gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_WRAP_T, WebGLRenderingContext.CLAMP_TO_EDGE);
        }
        // this.gl.bindTexture(WebGLRenderingContext.TEXTURE_2D,null);
        //this.gl.texImage2D(WebGLRenderingContext.TEXTURE_2D,0,WebGLRenderingContext.RGBA,WebGLRenderingContext.RGBA,WebGLRenderingContext.UNSIGNED_BYTE,source);
        this.gl.texImage2D(WebGLRenderingContext.TEXTURE_2D, 0, WebGLRenderingContext.RGBA, this.width, this.height, 0, WebGLRenderingContext.RGBA, fp ? WebGLRenderingContext.FLOAT : WebGLRenderingContext.UNSIGNED_BYTE, null);
    }
    static FromImage(gl, image) {
        var texture = new BaseTexture(gl, image.width, image.height);
        gl.texImage2D(WebGLRenderingContext.TEXTURE_2D, 0, WebGLRenderingContext.RGBA, WebGLRenderingContext.RGBA, WebGLRenderingContext.UNSIGNED_BYTE, image);
        return texture;
    }
    bind(unit) {
        this.gl.activeTexture(WebGLRenderingContext.TEXTURE0 + unit);
        this.gl.bindTexture(WebGLRenderingContext.TEXTURE_2D, this.texture);
    }
    unbind(unit) {
        this.gl.activeTexture(WebGLRenderingContext.TEXTURE0 + unit);
        this.gl.bindTexture(WebGLRenderingContext.TEXTURE_2D, null);
    }
    drawTo(callback) {
        //var v = this.gl.getParameter(WebGLRenderingContext.VIEWPORT);
        if (this.framebuffer == null)
            this.framebuffer = this.gl.createFramebuffer();
        if (this.renderbuffer == null)
            this.renderbuffer = this.gl.createRenderbuffer();
        this.gl.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER, this.framebuffer);
        this.gl.bindRenderbuffer(WebGLRenderingContext.RENDERBUFFER, this.renderbuffer);
        if (this.width != this.renderbuffer.width || this.height != this.renderbuffer.height) {
            this.renderbuffer.width = this.width;
            this.renderbuffer.height = this.height;
            this.gl.renderbufferStorage(WebGLRenderingContext.RENDERBUFFER, WebGLRenderingContext.DEPTH_COMPONENT16, this.width, this.height);
            this.gl.framebufferTexture2D(WebGLRenderingContext.FRAMEBUFFER, WebGLRenderingContext.COLOR_ATTACHMENT0, WebGLRenderingContext.TEXTURE_2D, this.texture, 0);
            this.gl.framebufferRenderbuffer(WebGLRenderingContext.FRAMEBUFFER, WebGLRenderingContext.DEPTH_ATTACHMENT, WebGLRenderingContext.RENDERBUFFER, this.renderbuffer);
        }
        this.gl.viewport(0, 0, this.width, this.height);
        callback();
        this.gl.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER, null);
        this.gl.bindRenderbuffer(WebGLRenderingContext.RENDERBUFFER, null);
        // this.gl.viewport(v[0], v[1], v[2], v[3]);
        // this.gl.viewport(0, 0, 800, 640);
        this.gl.viewport(0, 0, 1280, 720);
    }
    UnregisterTexture(gl) {
        if (this.texture != null) {
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = BaseTexture;



/***/ }),
/* 50 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Rectangle__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__ = __webpack_require__(0);


class Texture {
    constructor(baseTexture, frame, pivot = null) {
        this.noFrame = false;
        this.baseTexture = baseTexture;
        if (frame == null) {
            this.noFrame = true;
            this.frame = new __WEBPACK_IMPORTED_MODULE_0__geom_Rectangle__["a" /* Rectangle */](0, 0, 1, 1);
        }
        else {
            this.frame = frame;
        }
        this.trim = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]();
        this.pivot = pivot == null ? new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]() : pivot;
        this.uvs = new Float32Array(8);
        this.updateUVS();
    }
    updateUVS() {
        var tw = this.baseTexture.width;
        var th = this.baseTexture.height;
        this.uvs[0] = this.frame.x / tw;
        this.uvs[1] = this.frame.y / th;
        this.uvs[2] = (this.frame.x + this.frame.width) / tw;
        this.uvs[3] = this.frame.y / th;
        this.uvs[4] = (this.frame.x + this.frame.width) / tw;
        this.uvs[5] = (this.frame.y + this.frame.height) / th;
        this.uvs[6] = this.frame.x / tw;
        this.uvs[7] = (this.frame.y + this.frame.height) / th;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Texture;



/***/ }),
/* 51 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__DisplayObjectContainer__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__ = __webpack_require__(0);


class Sprite extends __WEBPACK_IMPORTED_MODULE_0__DisplayObjectContainer__["a" /* DisplayObjectContainer */] {
    constructor() {
        super();
        this.renderable = true;
        this.anchor = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]();
        this.transformedVerts = new Float32Array(8);
    }
    calcExtents() {
        var width = this.texture.frame.width;
        var height = this.texture.frame.height;
        var aX = this.anchor.x;
        var aY = this.anchor.y;
        var w0 = width * (1 - aX);
        var w1 = width * -aX;
        var h0 = height * (1 - aY);
        var h1 = height * -aY;
        var a = this.worldTransform[0];
        var b = this.worldTransform[3];
        var c = this.worldTransform[1];
        var d = this.worldTransform[4];
        var tx = this.worldTransform[2];
        var ty = this.worldTransform[5];
        this.transformedVerts[0] = a * w1 + c * h1 + tx;
        this.transformedVerts[1] = d * h1 + b * w1 + ty;
        this.transformedVerts[2] = a * w0 + c * h1 + tx;
        this.transformedVerts[3] = d * h1 + b * w0 + ty;
        this.transformedVerts[4] = a * w0 + c * h0 + tx;
        this.transformedVerts[5] = d * h0 + b * w0 + ty;
        this.transformedVerts[6] = a * w1 + c * h0 + tx;
        this.transformedVerts[7] = d * h0 + b * w1 + ty;
        for (var i = 0; i < 4; i++) {
            this.aabb.addPoint(this.transformedVerts[i * 2], this.transformedVerts[i * 2 + 1]);
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Sprite;



/***/ }),
/* 52 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class TypedArray2D {
    constructor(width, height, buffer = null) {
        this.w = width;
        this.h = height;
        if (buffer == null)
            this.buffer = new ArrayBuffer(this.w * this.h * 4);
        else
            this.buffer = buffer;
        this.data32 = new Uint32Array(this.buffer);
        this.data8 = new Uint8Array(this.buffer);
    }
    get(x, y) {
        return this.data32[y * this.w + x];
    }
    set(x, y, v) {
        this.data32[y * this.w + x] = v;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = TypedArray2D;



/***/ }),
/* 53 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Contact__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Filter__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__geom_Vector2__ = __webpack_require__(0);



const contact = new __WEBPACK_IMPORTED_MODULE_0__Contact__["a" /* Contact */]();
const epsilon = 1e-8;
let collideCount = 0;
const Collide = function (proxyA, proxyB) {
    collideCount++;
    //Exit on static vs statics, they should never be sent but you never know
    //Sensors dont trigger other sensors
    if ((proxyA.isStatic && proxyB.isStatic) || (proxyA.isSensor && proxyB.isSensor))
        return false;
    if (!proxyA.isActive || !proxyB.isActive)
        return false;
    //Do filtering
    if (!__WEBPACK_IMPORTED_MODULE_1__Filter__["a" /* Filter */].CHECK(proxyA.filter, proxyB.filter))
        return false;
    var collided = false;
    if (proxyA.isSensor || proxyB.isSensor) {
        //One is a sensor so just check for overlap
        collided = StaticAABBvsStaticAABB(proxyA.aabb.position, proxyA.aabb.extents, proxyB.aabb.position, proxyB.aabb.extents, contact);
        //TODO should we make a special case for bullets?
    }
    else if (!proxyA.isStatic && !proxyB.isStatic) {
        //Both are dynamic, which means both have bodies
        if (proxyA.body.isBullet && proxyB.body.isBullet) {
            //Both bullets? for now nothing
            return false;
        }
        else if (proxyA.body.isBullet) {
            //Just A is a bullet
            if (StaticAABBvsSweeptAABB(proxyB.aabb.position, proxyB.aabb.extents, proxyA.aabb.position, proxyA.aabb.extents, proxyA.body.delta, contact) == true) {
                proxyA.body.respondBulletCollision(contact);
                collided = true;
            }
        }
        else if (proxyB.body.isBullet) {
            //Just B is a bullet
            if (StaticAABBvsSweeptAABB(proxyA.aabb.position, proxyA.aabb.extents, proxyB.aabb.position, proxyB.aabb.extents, proxyB.body.delta, contact) == true) {
                proxyB.body.respondBulletCollision(contact);
                collided = true;
            }
        }
        else {
            //Regular dynamic<>dynamic
            collided = StaticAABBvsStaticAABB(proxyA.aabb.position, proxyA.aabb.extents, proxyB.aabb.position, proxyB.aabb.extents, contact);
        }
    }
    else {
        //Were just left with static<>dynamic collisions
        //Order them
        var staticProxy, dynamicProxy;
        if (proxyA.isStatic) {
            staticProxy = proxyA;
            dynamicProxy = proxyB;
        }
        else {
            staticProxy = proxyB;
            dynamicProxy = proxyA;
        }
        //Test
        if (dynamicProxy.body.isBullet) {
            collided = BulletAABB(dynamicProxy, staticProxy);
            if (collided) {
                dynamicProxy.body.respondBulletCollision(contact);
            }
        }
        else {
            AABBvsStaticSolidAABB(dynamicProxy.aabb.position, dynamicProxy.aabb.extents, staticProxy.aabb.position, staticProxy.aabb.extents, staticProxy.responseBias, contact);
            //We have to the response process and get the result
            collided = dynamicProxy.body.respondStaticCollision(contact);
        }
    }
    if (collided == true) {
        proxyA.collide(proxyB, contact);
        proxyB.collide(proxyA, contact);
    }
    return collided;
};
/* harmony export (immutable) */ __webpack_exports__["c"] = Collide;

const BulletAABB = function (segmentProxy, staticProxy) {
    // return StaticSegmentvsStaticAABB(staticProxy.aabb.position,staticProxy.aabb.extents,segmentProxy.body.position,segmentProxy.body.delta,0,0,contact);
    return StaticAABBvsSweeptAABB(staticProxy.aabb.position, staticProxy.aabb.extents, segmentProxy.aabb.position, segmentProxy.aabb.extents, segmentProxy.body.delta, contact);
};
/* unused harmony export BulletAABB */

const RayAABB = function (ray, proxy) {
    if (StaticSegmentvsStaticAABB(proxy.aabb.position, proxy.aabb.extents, ray.origin, ray.delta, 0, 0, contact)) {
        ray.report(contact.delta.x, contact.delta.y, contact.normal.x, contact.normal.y, proxy);
        return true;
    }
    return false;
};
/* harmony export (immutable) */ __webpack_exports__["e"] = RayAABB;

const Spring = function (bodyA, bodyB, length, k) {
    var dx = bodyA.position.x - bodyB.position.x;
    var dy = bodyA.position.y - bodyB.position.y;
    // But, we need to account for 'rest length' being `l` not 0
    // Normalize dx and dy to length 1; purely directional. `_n` means 'normalized' here
    var dist = Math.sqrt(dx * dx + dy * dy); //+0.000001;
    if (dist < length)
        return;
    var dx_n = dx / dist;
    var dy_n = dy / dist;
    var true_offset = dist - length;
    dx_n *= true_offset;
    dy_n *= true_offset;
    var fx = k * dx_n;
    var fy = k * dy_n;
    bodyA.addForce(new __WEBPACK_IMPORTED_MODULE_2__geom_Vector2__["a" /* Vector2 */](fx, fy));
    bodyB.addForce(new __WEBPACK_IMPORTED_MODULE_2__geom_Vector2__["a" /* Vector2 */](-fx, -fy));
    // bodyA.collisionForce.plusEquals(new Vector2(fx,fy));
    // bodyB.collisionForce.plusEquals(new Vector2(-fx,-fy));
};
/* unused harmony export Spring */

const StaticAABBvsStaticAABB = function (aabb_position_A, aabb_extents_A, aabb_position_B, aabb_extents_B, contact) {
    var dx = aabb_position_B.x - aabb_position_A.x;
    var px = aabb_extents_B.x + aabb_extents_A.x - Math.abs(dx);
    if (px <= 0)
        return false;
    var dy = aabb_position_B.y - aabb_position_A.y;
    var py = aabb_extents_B.y + aabb_extents_A.y - Math.abs(dy);
    if (py <= 0)
        return false;
    if (px < py) {
        var sx = dx < 0 ? -1 : 1;
        contact.distance = contact.delta.x = px * sx;
        contact.delta.y = 0;
        contact.normal.x = sx;
        contact.normal.y = 0;
        contact.position.x = aabb_position_A.x + aabb_extents_A.x * sx;
        contact.position.y = aabb_position_B.y;
    }
    else {
        var sy = dy < 0 ? -1 : 1;
        contact.delta.x = 0;
        contact.distance = contact.delta.y = py * sy;
        contact.normal.x = 0;
        contact.normal.y = sy;
        contact.position.x = aabb_position_B.x;
        contact.position.y = aabb_position_A.y + aabb_extents_A.y * sy;
    }
    return true;
};
/* unused harmony export StaticAABBvsStaticAABB */

const IsSegVsAABB = function (segment, aabb_position, aabb_extents, paddingX, paddingY) {
    return IsStaticSegmentvsStaticAABB(aabb_position, aabb_extents, segment.start, segment.scale, segment.sign, paddingX, paddingY);
};
/* harmony export (immutable) */ __webpack_exports__["d"] = IsSegVsAABB;

const IsStaticSegmentvsStaticAABB = function (aabb_position, aabb_extents, segment_position, scale, sign, paddingX, paddingY) {
    // var scale.x = 1/segment_delta.x;
    // var scale.y = 1/segment_delta.y;
    // var sign.x = scale.x<0 ? -1 : 1;
    // var sign.y = scale.y<0 ? -1 : 1;
    var nearTimeX = (aabb_position.x - sign.x * (aabb_extents.x + paddingX) - segment_position.x) * scale.x;
    var nearTimeY = (aabb_position.y - sign.y * (aabb_extents.y + paddingY) - segment_position.y) * scale.y;
    var farTimeX = (aabb_position.x + sign.x * (aabb_extents.x + paddingX) - segment_position.x) * scale.x;
    var farTimeY = (aabb_position.y + sign.y * (aabb_extents.y + paddingY) - segment_position.y) * scale.y;
    if (nearTimeX > farTimeY || nearTimeY > farTimeX)
        return false;
    var nearTime = Math.max(nearTimeX, nearTimeY);
    var farTime = Math.min(farTimeX, farTimeY);
    if (nearTime >= 1 || farTime <= 0)
        return false;
    return true;
};
/* unused harmony export IsStaticSegmentvsStaticAABB */

const StaticSegmentvsStaticAABB = function (aabb_position, aabb_extents, segment_position, segment_delta, paddingX, paddingY, contact) {
    var scaleX = 1 / segment_delta.x;
    var scaleY = 1 / segment_delta.y;
    var signX = scaleX < 0 ? -1 : 1;
    var signY = scaleY < 0 ? -1 : 1;
    var nearTimeX = (aabb_position.x - signX * (aabb_extents.x + paddingX) - segment_position.x) * scaleX;
    var nearTimeY = (aabb_position.y - signY * (aabb_extents.y + paddingY) - segment_position.y) * scaleY;
    var farTimeX = (aabb_position.x + signX * (aabb_extents.x + paddingX) - segment_position.x) * scaleX;
    var farTimeY = (aabb_position.y + signY * (aabb_extents.y + paddingY) - segment_position.y) * scaleY;
    if (nearTimeX > farTimeY || nearTimeY > farTimeX)
        return false;
    var nearTime = Math.max(nearTimeX, nearTimeY);
    var farTime = Math.min(farTimeX, farTimeY);
    if (nearTime >= 1 || farTime <= 0)
        return false;
    contact.time = Math.min(Math.max(nearTime, 0), 1);
    if (nearTimeX > nearTimeY) {
        contact.normal.x = -signX;
        contact.normal.y = 0;
    }
    else {
        contact.normal.x = 0;
        contact.normal.y = -signY;
    }
    contact.delta.x = contact.time * segment_delta.x;
    contact.delta.y = contact.time * segment_delta.y;
    contact.position.x = segment_position.x + contact.delta.x;
    contact.position.y = segment_position.y + contact.delta.y;
    return true;
};
/* unused harmony export StaticSegmentvsStaticAABB */

const StaticAABBvsSweeptAABB = function (aabb_position_A, aabb_extents_A, aabb_position_B, aabb_extents_B, aabb_delta_B, contact) {
    if (aabb_delta_B.x == 0 && aabb_delta_B.y == 0) {
        contact.sweepPosition.x = aabb_position_B.x;
        contact.sweepPosition.y = aabb_position_B.y;
        if (StaticAABBvsStaticAABB(aabb_position_A, aabb_extents_A, aabb_position_B, aabb_extents_B, contact)) {
            contact.time = 0;
            return true;
        }
        else {
            contact.time = 1;
            return false;
        }
    }
    else {
        if (StaticSegmentvsStaticAABB(aabb_position_A, aabb_extents_A, aabb_position_B, aabb_delta_B, aabb_extents_B.x, aabb_extents_B.y, contact)) {
            contact.time = Math.min(Math.max(contact.time - epsilon, 0), 1);
            contact.sweepPosition.x = aabb_position_B.x + aabb_delta_B.x * contact.time;
            contact.sweepPosition.y = aabb_position_B.y + aabb_delta_B.y * contact.time;
            //Inline expanded normalize to avoid object creation
            var t = Math.sqrt(aabb_delta_B.x * aabb_delta_B.x + aabb_delta_B.y * aabb_delta_B.y);
            contact.position.x += aabb_delta_B.x / t * aabb_extents_B.x;
            contact.position.y += aabb_delta_B.y / t * aabb_extents_B.y;
            return true;
        }
        else {
            contact.sweepPosition.x = aabb_position_B.x * aabb_delta_B.x;
            contact.sweepPosition.y = aabb_position_B.y * aabb_delta_B.y;
            return false;
        }
    }
};
/* harmony export (immutable) */ __webpack_exports__["f"] = StaticAABBvsSweeptAABB;

const AABBvsStaticSolidAABB = function (aabb_position_A, aabb_extents_A, aabb_position_B, aabb_extents_B, bias, contact) {
    //New overlap code, handle corners better
    var dx = aabb_position_B.x - aabb_position_A.x;
    var px = aabb_extents_B.x + aabb_extents_A.x - Math.abs(dx);
    var dy = aabb_position_B.y - aabb_position_A.y;
    var py = aabb_extents_B.y + aabb_extents_A.y - Math.abs(dy);
    if (px < py) {
        contact.normal.x = dx < 0 ? 1 : -1;
        contact.normal.y = 0;
    }
    else {
        contact.normal.x = 0;
        contact.normal.y = dy < 0 ? 1 : -1;
    }
    contact.normal.x *= bias.x;
    contact.normal.y *= bias.y;
    // var dx = aabb_position_B.x - aabb_position_A.x;
    // var dy = aabb_position_B.y - aabb_position_A.y;
    // if (dx*dx>dy*dy) {
    //     contact.normal.x = dx>=0 ? -1: 1;
    //     contact.normal.y = 0;
    // } else {
    //     contact.normal.x = 0;
    //     contact.normal.y = dy>=0 ? -1 : 1;
    // }
    var pcx = contact.normal.x * (aabb_extents_A.x + aabb_extents_B.x) + aabb_position_B.x;
    var pcy = contact.normal.y * (aabb_extents_A.y + aabb_extents_B.y) + aabb_position_B.y;
    var pdx = aabb_position_A.x - pcx;
    var pdy = aabb_position_A.y - pcy;
    contact.distance = pdx * contact.normal.x + pdy * contact.normal.y;
    return true;
};
/* harmony export (immutable) */ __webpack_exports__["a"] = AABBvsStaticSolidAABB;

// public static Stairs(aabb_position_A:Vector2,aabb_extents_A:Vector2,aabb_position_B:Vector2,aabb_extents_B:Vector2,bias:Vector2,contact:Contact):number {
//      //New overlap code, handle corners better
//      var dx = aabb_position_B.x - aabb_position_A.x;
//      var px = (aabb_extents_B.x + aabb_extents_A.x) - Math.abs(dx);
//      var dy = aabb_position_B.y - aabb_position_A.y;
//      var py = (aabb_extents_B.y + aabb_extents_A.y) - Math.abs(dy);
//      if (px<py) {
//          contact.normal.x = dx<0 ? 1 : -1;
//          contact.normal.y = 0;
//      } else {
//          contact.normal.x = 0;
//          contact.normal.y = dy<0 ? 1 : -1;
//      }
//      contact.normal.x = 0;
//      contact.normal.y = -1;
//      var pcx = (contact.normal.x * (aabb_extents_A.x+aabb_extents_B.x) ) + aabb_position_B.x;
//      var pcy = (contact.normal.y * (aabb_extents_A.y+aabb_extents_B.y) ) + aabb_position_B.y;
//      var pdx = aabb_position_A.x - pcx;
//      var pdy = aabb_position_A.y - pcy;
//      contact.distance = pdx*contact.normal.x + pdy*contact.normal.y;
//      if (px<py) {
//          return dx<0 ? 1 : -1;
//      }
//      return 0;
//  }
/*
    This is seperate to avoid overcomplicating the above with too much branching
    */
const AABBvsStaticSolidAABBFixedNormal = function (aabb_position_A, aabb_extents_A, aabb_position_B, aabb_extents_B, normal, contact) {
    contact.normal.copy(normal);
    var pcx = contact.normal.x * (aabb_extents_A.x + aabb_extents_B.x) + aabb_position_B.x;
    var pcy = contact.normal.y * (aabb_extents_A.y + aabb_extents_B.y) + aabb_position_B.y;
    var pdx = aabb_position_A.x - pcx;
    var pdy = aabb_position_A.y - pcy;
    contact.distance = pdx * contact.normal.x + pdy * contact.normal.y;
    return true;
};
/* harmony export (immutable) */ __webpack_exports__["b"] = AABBvsStaticSolidAABBFixedNormal;

const AABBvsStaticSolidAABBSlope = function (aabb_position_A, aabb_extents_A, aabb_position_B, aabb_extents_B, bias, contact) {
    var _sqr = 0.70710678118655;
    //New overlap code, handle corners better
    var dx = aabb_position_B.x - aabb_position_A.x;
    var px = aabb_extents_B.x + aabb_extents_A.x - Math.abs(dx);
    var dy = aabb_position_B.y - aabb_position_A.y;
    var py = aabb_extents_B.y + aabb_extents_A.y - Math.abs(dy);
    // if (px<py) {
    //     contact.normal.x = dx<0 ? 1 : -1;
    //     contact.normal.y = 0;
    // } else {
    //     contact.normal.x = 0;
    //     contact.normal.y = dy<0 ? 1 : -1;
    // }
    // contact.normal.x *= bias.x;
    // contact.normal.y *= bias.y;
    contact.normal.x = -_sqr;
    contact.normal.y = -_sqr;
    // var dx = aabb_position_B.x - aabb_position_A.x;
    // var dy = aabb_position_B.y - aabb_position_A.y;
    // if (dx*dx>dy*dy) {
    //     contact.normal.x = dx>=0 ? -1: 1;
    //     contact.normal.y = 0;
    // } else {
    //     contact.normal.x = 0;
    //     contact.normal.y = dy>=0 ? -1 : 1;
    // }
    var pcx = contact.normal.x * (aabb_extents_A.x + aabb_extents_B.x) + aabb_position_B.x;
    var pcy = contact.normal.y * (aabb_extents_A.y + aabb_extents_B.y) + aabb_position_B.y;
    var pdx = aabb_position_A.x - pcx - 8;
    var pdy = aabb_position_A.y - pcy;
    contact.distance = pdx * contact.normal.x + pdy * contact.normal.y;
    return true;
};


/***/ }),
/* 54 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_Random__ = __webpack_require__(8);

class Explosion {
    constructor(mass, power) {
        this.mass = mass;
        this.power = power;
    }
    update(time, c4e, position, particleEngine) {
        for (let i = 0; i < this.mass; i++) {
            var angle = Object(__WEBPACK_IMPORTED_MODULE_0__util_Random__["b" /* RandomFloat */])(0, Math.PI * 2);
            var p = Object(__WEBPACK_IMPORTED_MODULE_0__util_Random__["b" /* RandomFloat */])(0, this.power * 2);
            var vx = Math.cos(angle) * p;
            var vy = Math.sin(angle) * p;
            particleEngine.EmitParticle(position.x, position.y, vx, vy, 0, 1, Object(__WEBPACK_IMPORTED_MODULE_0__util_Random__["b" /* RandomFloat */])(50, 200), 0.99, false, true, null, 4, 255, 255, 0, 0);
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Explosion;



/***/ }),
/* 55 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Contact__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__geom_AABB2__ = __webpack_require__(11);



class Ray {
    constructor() {
        this.origin = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.target = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.range = 0;
        this.delta = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.direction = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.contact = new __WEBPACK_IMPORTED_MODULE_1__Contact__["a" /* Contact */]();
        this.bounds = new __WEBPACK_IMPORTED_MODULE_2__geom_AABB2__["a" /* AABB2 */]();
    }
    initalize(origin, target, range, callback) {
        this.reset();
        this.origin.copy(origin);
        this.target.copy(target);
        this.delta.copy(target);
        this.delta.minusEquals(origin);
        this.direction.copy(this.delta);
        this.direction.normalize();
        if (range <= 0) {
            this.range = this.delta.length();
        }
        else {
            this.range = range;
            //scale the delta correctly now
            this.delta.copy(this.direction);
            this.delta.multEquals(range);
        }
        this.bounds.addPoint(this.origin.x, this.origin.y);
        this.bounds.addPoint(this.origin.x + this.delta.x, this.origin.y + this.delta.y);
        this.callback = callback;
    }
    reset() {
        this.contact.distance = 9999999999;
        this.hit = false;
    }
    report(distX, distY, normalX, normalY, proxy = null) {
        if (this.callback != null && proxy != null) {
            if (this.callback(proxy) < 0) {
                return;
            }
        }
        var distSqrd = distX * distX + distY * distY;
        if (distSqrd < this.contact.distance * this.contact.distance) {
            this.contact.position.setTo(this.origin.x + distX, this.origin.y + distY);
            this.contact.normal.setTo(normalX, normalY);
            this.contact.distance = Math.sqrt(distSqrd);
            this.hit = true;
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Ray;



/***/ }),
/* 56 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["b"] = toRad;
/* unused harmony export toDeg */
/* unused harmony export Clamp */
/* unused harmony export ScaleRectangleWithRatio */
const ZERO_TOLERANCE = 1e-8;
/* harmony export (immutable) */ __webpack_exports__["a"] = ZERO_TOLERANCE;

const RAD_DEG = 180 / Math.PI;
/* unused harmony export RAD_DEG */

const DEG_RAD = Math.PI / 180;
/* unused harmony export DEG_RAD */

const LN2 = 0.6931471805599453;
/* unused harmony export LN2 */

const LN10 = 2.302585092994046;
/* unused harmony export LN10 */

const PIHALF = 1.5707963267948966;
/* unused harmony export PIHALF */

const PI = 3.141592653589793;
/* unused harmony export PI */

const PI2 = 6.283185307179586;
/* unused harmony export PI2 */

const EPS = 1e-6;
/* unused harmony export EPS */

const SQRT2 = 1.414213562373095;
/* unused harmony export SQRT2 */

function toRad(deg) {
    return deg * DEG_RAD;
}
function toDeg(rad) {
    return rad * RAD_DEG;
}
function Clamp(value, min, max) {
    return Math.min(Math.max(value, min), max);
}
function ScaleRectangleWithRatio(containerRect, itemRect) {
    //var sX = itemRect.x / containerRect.x;
    //var sY = itemRect.y / containerRect.y;
    var sX = containerRect.x / itemRect.x;
    var sY = containerRect.y / itemRect.y;
    var rD = containerRect.x / containerRect.y;
    var rR = itemRect.x / itemRect.y;
    return rD < rR ? sX : sY;
}


/***/ }),
/* 57 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Light {
    constructor(range, attenuation, intensity, flicker, red, green, blue) {
        this.range = range;
        this.attenuation = attenuation;
        this.intensity = intensity;
        this.flicker = flicker;
        this.red = red;
        this.green = green;
        this.blue = blue;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Light;



/***/ }),
/* 58 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_physics_Body__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__glaze_physics_Material__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__glaze_core_components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__glaze_graphics_components_Graphics__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__glaze_graphics_components_GraphicsAnimation__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__glaze_physics_components_PhysicsBody__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__glaze_physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__glaze_core_components_Moveable__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__glaze_core_components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__glaze_ai_steering_components_Steering__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__glaze_ai_steering_behaviors_Wander__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__glaze_ai_steering_behaviors_Seek__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__glaze_ai_steering_SteeringAgentParameters__ = __webpack_require__(59);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__glaze_core_components_Age__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__glaze_core_components_Health__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Destroy__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__glaze_core_components_State__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__glaze_ai_steering_behaviors_WallAvoidance__ = __webpack_require__(61);


















class BeeFactory {
    static create(engine, position) {
        var beeBody = new __WEBPACK_IMPORTED_MODULE_0__glaze_physics_Body__["a" /* Body */](new __WEBPACK_IMPORTED_MODULE_1__glaze_physics_Material__["a" /* Material */](0.1, 0.3, 0));
        beeBody.setMass(0.1);
        beeBody.setBounces(0);
        beeBody.globalForceFactor = 0.0;
        beeBody.maxScalarVelocity = 200;
        var bee = engine.createEntity();
        engine.addComponentsToEntity(bee, [
            position,
            new __WEBPACK_IMPORTED_MODULE_2__glaze_core_components_Extents__["a" /* Extents */](3 / 2 * 1, 3 / 2 * 1),
            new __WEBPACK_IMPORTED_MODULE_3__glaze_graphics_components_Graphics__["a" /* Graphics */]("insects"),
            new __WEBPACK_IMPORTED_MODULE_4__glaze_graphics_components_GraphicsAnimation__["a" /* GraphicsAnimation */]("insects", "firefly"),
            new __WEBPACK_IMPORTED_MODULE_5__glaze_physics_components_PhysicsBody__["a" /* PhysicsBody */](beeBody, true),
            new __WEBPACK_IMPORTED_MODULE_7__glaze_core_components_Moveable__["a" /* Moveable */](),
            new __WEBPACK_IMPORTED_MODULE_6__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */](false, null, []),
            new __WEBPACK_IMPORTED_MODULE_9__glaze_ai_steering_components_Steering__["a" /* Steering */]([
                new __WEBPACK_IMPORTED_MODULE_10__glaze_ai_steering_behaviors_Wander__["a" /* Wander */](80, 40, 143.5),
                new __WEBPACK_IMPORTED_MODULE_11__glaze_ai_steering_behaviors_Seek__["a" /* Seek */](position.coords.clone(), 32),
                new __WEBPACK_IMPORTED_MODULE_17__glaze_ai_steering_behaviors_WallAvoidance__["a" /* WallAvoidance */](40)
            ], __WEBPACK_IMPORTED_MODULE_12__glaze_ai_steering_SteeringAgentParameters__["b" /* HEAVY_STEERING_PARAMS */]),
            new __WEBPACK_IMPORTED_MODULE_16__glaze_core_components_State__["a" /* State */](BeeFactory.states, null, false),
            new __WEBPACK_IMPORTED_MODULE_13__glaze_core_components_Age__["a" /* Age */](10000, "destroy"),
            new __WEBPACK_IMPORTED_MODULE_14__glaze_core_components_Health__["a" /* Health */](10, 10, 0, "destroy"),
            new __WEBPACK_IMPORTED_MODULE_8__glaze_core_components_Active__["a" /* Active */](),
        ]);
        return bee;
    }
    static onDestroy(engine, entity) {
        if (engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Destroy__["a" /* Destroy */]))
            return;
        engine.addComponentsToEntity(entity, [new __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Destroy__["a" /* Destroy */](1)]);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = BeeFactory;

BeeFactory.states = {
    destroy: function (engine, entity) {
        if (engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Destroy__["a" /* Destroy */]))
            return;
        engine.addComponentsToEntity(entity, [new __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Destroy__["a" /* Destroy */](1)]);
    }
};


/***/ }),
/* 59 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class SteeringAgentParameters {
    constructor(maxAcceleration, maxSteeringForcePerStep) {
        this.maxAcceleration = maxAcceleration;
        this.maxSteeringForcePerStep = maxSteeringForcePerStep;
    }
}
/* unused harmony export SteeringAgentParameters */

SteeringAgentParameters.default_scale = 0.2;
SteeringAgentParameters.heavy_scale = 5;
SteeringAgentParameters.default_maxAcceleration = 100;
SteeringAgentParameters.default_maxSteeringForcePerStep = 100;
const DEFAULT_STEERING_PARAMS = new SteeringAgentParameters(SteeringAgentParameters.default_maxAcceleration * SteeringAgentParameters.default_scale, SteeringAgentParameters.default_maxSteeringForcePerStep * SteeringAgentParameters.default_scale);
/* harmony export (immutable) */ __webpack_exports__["a"] = DEFAULT_STEERING_PARAMS;

const HEAVY_STEERING_PARAMS = new SteeringAgentParameters(SteeringAgentParameters.default_maxAcceleration * SteeringAgentParameters.heavy_scale, SteeringAgentParameters.default_maxSteeringForcePerStep * SteeringAgentParameters.heavy_scale);
/* harmony export (immutable) */ __webpack_exports__["b"] = HEAVY_STEERING_PARAMS;



/***/ }),
/* 60 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Behavior__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__SteeringSettings__ = __webpack_require__(29);


class Seek extends __WEBPACK_IMPORTED_MODULE_0__Behavior__["a" /* Behavior */] {
    constructor(target, seekDist = 0) {
        super(__WEBPACK_IMPORTED_MODULE_1__SteeringSettings__["a" /* SteeringSettings */].seekWeight, __WEBPACK_IMPORTED_MODULE_1__SteeringSettings__["a" /* SteeringSettings */].seekPriority);
        this.target = target;
        this.seekDist = seekDist;
    }
    calculate(agent, params, result) {
        Seek.calc(agent, params, result, this.target, this.seekDist);
    }
    //Hand optimized as called so often
    static calc(agent, params, result, target, seekDist = 0) {
        var dX = target.x - agent.position.x + 0.000001;
        var dY = target.y - agent.position.y + 0.000001;
        var d = dX * dX + dY * dY;
        if (seekDist > 0 && d < seekDist * seekDist) {
            return false;
        }
        var t = Math.sqrt(d);
        result.x = dX / t;
        result.x *= params.maxSteeringForcePerStep;
        result.x -= agent.velocity.x * (60 / 1000);
        result.y = dY / t;
        result.y *= params.maxSteeringForcePerStep;
        result.y -= agent.velocity.y * (60 / 1000);
        return true;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Seek;



/***/ }),
/* 61 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Behavior__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Feeler__ = __webpack_require__(132);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__SteeringSettings__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__geom_AABB2__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__util_Maths__ = __webpack_require__(56);






class WallAvoidance extends __WEBPACK_IMPORTED_MODULE_0__Behavior__["a" /* Behavior */] {
    constructor(feelerLength) {
        super(__WEBPACK_IMPORTED_MODULE_3__SteeringSettings__["a" /* SteeringSettings */].wallAvoidanceWeight, __WEBPACK_IMPORTED_MODULE_3__SteeringSettings__["a" /* SteeringSettings */].wallAvoidancePriority);
        this.pA = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]();
        this.pB = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]();
        this.top = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */](0, -1);
        this.right = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */](1, 0);
        this.bottom = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */](0, 1);
        this.left = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */](-1, 0);
        this.searchAABB = new __WEBPACK_IMPORTED_MODULE_4__geom_AABB2__["a" /* AABB2 */]();
        this.closestFeeler = null;
        this.closestDist = Number.POSITIVE_INFINITY;
        this.feelerLength = feelerLength;
        this.ptv1 = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]();
        this.ptv2 = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]();
        this.feelers = new Array();
        this.feelers.push(new __WEBPACK_IMPORTED_MODULE_2__Feeler__["a" /* Feeler */](0, feelerLength));
        this.feelers.push(new __WEBPACK_IMPORTED_MODULE_2__Feeler__["a" /* Feeler */](Object(__WEBPACK_IMPORTED_MODULE_5__util_Maths__["b" /* toRad */])(-40), feelerLength * 0.5));
        this.feelers.push(new __WEBPACK_IMPORTED_MODULE_2__Feeler__["a" /* Feeler */](Object(__WEBPACK_IMPORTED_MODULE_5__util_Maths__["b" /* toRad */])(40), feelerLength * 0.5));
        this.lastPos = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]();
    }
    checkAABB(aabb) {
        for (var i = 0; i < this.feelers.length; i++) {
            // for (feeler in feelers) {
            const feeler = this.feelers[i];
            //top
            this.pA.setTo(aabb.l, aabb.t);
            this.pB.setTo(aabb.r, aabb.t);
            feeler.TestSegment(this.pA, this.pB, this.top);
            //right
            this.pA.setTo(aabb.r, aabb.b);
            feeler.TestSegment(this.pB, this.pA, this.right);
            //bottom
            this.pB.setTo(aabb.l, aabb.b);
            feeler.TestSegment(this.pA, this.pB, this.bottom);
            //left
            this.pA.setTo(aabb.l, aabb.t);
            feeler.TestSegment(this.pB, this.pA, this.left);
            if (feeler.distToClosestIP < this.closestDist) {
                this.closestDist = feeler.distToClosestIP;
                this.closestFeeler = feeler;
            }
        }
    }
    // function check(shape:GeometricShape, pos:Vector2):Void {
    // 	var tile:Tile = cast shape;
    // 	var tv1 : Vector2 = tile.transformedVertices[0];
    // 	var tv2 : Vector2 = tile.transformedVertices[1];
    // 	for (i in 0...tile.vertexCount) {
    // 		ptv1.x = tv1.x + pos.x;
    // 		ptv1.y = tv1.y + pos.y;
    // 		ptv2.x = tv2.x + pos.x;
    // 		ptv2.y = tv2.y + pos.y;
    // 		for (feeler in feelers) {
    // 			//if (feeler.dot(ta.n) > 0)
    // 			//	continue;
    // 			feeler.TestSegment(ptv1, ptv2, tile.transformedAxes[i].n);
    // 		}
    // 		tv1 = tv2;
    // 		tv2 = tile.transformedVertices[(i + 2) % tile.vertexCount];
    // 	}
    // }
    calculate(agent, params, result) {
        if (this.lastPos.distSqrd(agent.position) < 1)
            return;
        this.lastPos.copy(agent.position);
        var unit = agent.velocity.clone();
        unit.normalize(); //GetVelocity().unit();
        for (var i = 0; i < this.feelers.length; i++) {
            const feeler = this.feelers[i];
            feeler.Reset(unit, agent.position);
        }
        this.closestFeeler = null;
        this.closestDist = Number.POSITIVE_INFINITY;
        this.searchAABB.reset();
        this.searchAABB.addPoint(agent.position.x, agent.position.y);
        this.searchAABB.addPoint(this.feelers[0].tip.x, this.feelers[0].tip.y);
        this.searchAABB.addPoint(this.feelers[1].tip.x, this.feelers[1].tip.y);
        this.searchAABB.addPoint(this.feelers[2].tip.x, this.feelers[2].tip.y);
        // searchAABB.expand(20);
        params.map.iterateCells(this.searchAABB, this.checkAABB);
        if (this.closestFeeler != null)
            this.closestFeeler.CalculateForce(result);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = WallAvoidance;



/***/ }),
/* 62 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Wind {
    constructor(particlePerUnitPerFrame) {
        this.particlePerUnitPerFrame = particlePerUnitPerFrame;
        this.particleCount = 0.0;
        this.incPerFrame = 0.0;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Wind;



/***/ }),
/* 63 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_util_EntityGroup__ = __webpack_require__(64);

class BeeHive {
    constructor(maxBees) {
        this.group = new __WEBPACK_IMPORTED_MODULE_0__glaze_util_EntityGroup__["a" /* EntityGroup */](maxBees);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = BeeHive;



/***/ }),
/* 64 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__signals_Signal__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_state_EntityStates__ = __webpack_require__(65);


// enum GroupEvent {
// 	MemberAdded;
// 	MemberRemoved;
// }
class EntityGroup {
    constructor(maxMembers) {
        // this.groupManager = groupManager;
        this.maxMembers = maxMembers;
        this.members = new Set();
        this.messages = new __WEBPACK_IMPORTED_MODULE_0__signals_Signal__["a" /* Signal */]();
        this.onMemberMessage = this.onMemberMessage.bind(this);
    }
    addMember(entity, state) {
        if (!this.hasCapacity())
            return;
        this.members.add(entity);
        state.messages.add(this.onMemberMessage);
        // entity.messages.add(this.onMemberMessage);
        // this.messages.dispatch(GroupEvent.MemberAdded,entity);
    }
    removeMember(entity) {
        this.members.delete(entity);
    }
    onMemberMessage(entity, state) {
        switch (state) {
            case __WEBPACK_IMPORTED_MODULE_1__core_state_EntityStates__["a" /* EntityState */].Destroy:
                this.removeMember(entity);
        }
    }
    hasCapacity() {
        return this.members.size < this.maxMembers;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = EntityGroup;



/***/ }),
/* 65 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EntityState; });
var EntityState;
(function (EntityState) {
    EntityState["Destroy"] = "destroy";
})(EntityState || (EntityState = {}));


/***/ }),
/* 66 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_util_EntityGroup__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__glaze_util_IntervalDelay__ = __webpack_require__(45);


class BirdNest {
    constructor(maxBirds) {
        this.triggered = false;
        this.radius = 100;
        this.group = new __WEBPACK_IMPORTED_MODULE_0__glaze_util_EntityGroup__["a" /* EntityGroup */](maxBirds);
        this.intervalDelay = new __WEBPACK_IMPORTED_MODULE_1__glaze_util_IntervalDelay__["a" /* IntervalDelay */](1000);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = BirdNest;



/***/ }),
/* 67 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_util_IntervalDelay__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__glaze_ai_fsm_StackFSM__ = __webpack_require__(143);


class Bird {
    constructor(nest) {
        this.nest = nest;
        this.ai = new __WEBPACK_IMPORTED_MODULE_1__glaze_ai_fsm_StackFSM__["a" /* LightStackStateMachine */]();
        this.delay = new __WEBPACK_IMPORTED_MODULE_0__glaze_util_IntervalDelay__["a" /* IntervalDelay */](1000);
        this.chaseCheck = new __WEBPACK_IMPORTED_MODULE_0__glaze_util_IntervalDelay__["a" /* IntervalDelay */](500);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Bird;



/***/ }),
/* 68 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SteeringSettings__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Behavior__ = __webpack_require__(28);


class Arrival extends __WEBPACK_IMPORTED_MODULE_1__Behavior__["a" /* Behavior */] {
    constructor(target, arrivalZone = 0, seekDist = 0) {
        super(__WEBPACK_IMPORTED_MODULE_0__SteeringSettings__["a" /* SteeringSettings */].seekWeight, __WEBPACK_IMPORTED_MODULE_0__SteeringSettings__["a" /* SteeringSettings */].seekPriority);
        this.target = target;
        this.arrivalZone = arrivalZone;
        this.seekDist = seekDist;
    }
    calculate(agent, params, result) {
        Arrival.calc(agent, params, result, this.target, this.arrivalZone, this.seekDist);
    }
    //Hand optimized as called so often
    static calc(agent, params, result, target, arrivalZone = 0, seekDist = 0) {
        var dX = target.x - agent.position.x + 0.000001;
        var dY = target.y - agent.position.y + 0.000001;
        var d = dX * dX + dY * dY;
        if (seekDist > 0 && d < seekDist * seekDist) {
            return false;
        }
        var t = Math.sqrt(d);
        var scale = 1.0;
        if (t < arrivalZone) {
            scale = t / arrivalZone;
        }
        result.x = dX / t;
        result.x *= params.maxSteeringForcePerStep;
        result.x -= agent.velocity.x * (60 / 1000);
        result.x *= scale;
        result.y = dY / t;
        result.y *= params.maxSteeringForcePerStep;
        result.y -= agent.velocity.y * (60 / 1000);
        result.x *= scale;
        return true;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Arrival;



/***/ }),
/* 69 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Water {
    constructor() { }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Water;



/***/ }),
/* 70 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Door {
    constructor(type, open, triggerEvent) {
        this.type = type;
        this.open = open;
        this.triggerEvent = triggerEvent;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Door;



/***/ }),
/* 71 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Chicken {
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Chicken;



/***/ }),
/* 72 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class DebugGraphics {
    constructor() { }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = DebugGraphics;



/***/ }),
/* 73 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_util_IntervalDelay__ = __webpack_require__(45);

class GunTurret {
    constructor(interval) {
        this.intervalDelay = new __WEBPACK_IMPORTED_MODULE_0__glaze_util_IntervalDelay__["a" /* IntervalDelay */](interval);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = GunTurret;



/***/ }),
/* 74 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Teleporter {
    constructor(teleportPosition) {
        this.teleportPosition = teleportPosition;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Teleporter;



/***/ }),
/* 75 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__test_GameTestA__ = __webpack_require__(76);

const game = new __WEBPACK_IMPORTED_MODULE_0__test_GameTestA__["a" /* GameTestA */]();


/***/ }),
/* 76 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_GlazeEngine__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__glaze_graphics_systems_GraphicsRenderSystem__ = __webpack_require__(82);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__glaze_geom_AABB2__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__glaze_core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__glaze_graphics_components_Graphics__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__glaze_geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__glaze_graphics_render_sprite_SpriteRenderer__ = __webpack_require__(92);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__glaze_tmx_TMXMap__ = __webpack_require__(94);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__glaze_graphics_render_tile_TileMapRenderer__ = __webpack_require__(96);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__glaze_graphics_components_GraphicsAnimation__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__glaze_graphics_systems_AnimationSystem__ = __webpack_require__(99);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__glaze_physics_collision_broadphase_TileMapCollision__ = __webpack_require__(101);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__glaze_physics_systems_PhysicsStaticSystem__ = __webpack_require__(104);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__glaze_physics_systems_PhysicsMoveableSystem__ = __webpack_require__(106);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__glaze_physics_systems_PhysicsCollisionSystem__ = __webpack_require__(107);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__glaze_physics_systems_PhysicsMassSystem__ = __webpack_require__(108);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__glaze_physics_systems_PhysicsPositionSystem__ = __webpack_require__(109);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__glaze_core_components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__glaze_physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__glaze_physics_collision_Filter__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__glaze_physics_Material__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__glaze_physics_Body__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__glaze_physics_components_PhysicsBody__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__glaze_core_components_Moveable__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__glaze_core_components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__glaze_physics_systems_PhysicsUpdateSystem__ = __webpack_require__(110);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__glaze_core_systems_ControllerSystem__ = __webpack_require__(111);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__glaze_graphics_systems_TileGraphicsRenderSystem__ = __webpack_require__(113);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__glaze_graphics_components_TileGraphics__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__glaze_core_components_Fixed__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__glaze_particle_engines_BlockParticleEngine2__ = __webpack_require__(114);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__glaze_particle_systems_ParticleSystem__ = __webpack_require__(117);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__glaze_space_systems_FixedViewManagementSystem__ = __webpack_require__(118);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__glaze_core_systems_AgeSystem__ = __webpack_require__(122);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__glaze_core_systems_HealthSystem__ = __webpack_require__(123);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__glaze_core_systems_CollisionCountSystem__ = __webpack_require__(124);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__config_Filters__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__factories_projectile_StandardBullet__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__glaze_core_systems_DestroySystem__ = __webpack_require__(128);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__factories_character_PlayerFactory__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__systems_PlayerSystem__ = __webpack_require__(130);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__glaze_physics_systems_EnvironmentForceSystem__ = __webpack_require__(136);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__glaze_tmx_TMXFactory__ = __webpack_require__(137);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__glaze_tmx_factories_ForceFactory__ = __webpack_require__(138);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__glaze_core_components_Viewable__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__glaze_ai_steering_systems_SteeringSystem__ = __webpack_require__(139);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__components_BeeHive__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47__systems_BeeHiveSystem__ = __webpack_require__(140);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48__components_BirdNest__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__systems_BirdNestSystem__ = __webpack_require__(141);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__glaze_util_CombatUtils__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__systems_BirdSystem__ = __webpack_require__(144);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52__glaze_core_systems_WaterSystem__ = __webpack_require__(145);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53__glaze_core_systems_WindSystem__ = __webpack_require__(146);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54__glaze_tmx_factories_WaterFactory__ = __webpack_require__(147);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55__factories_item_DoorFactory__ = __webpack_require__(148);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_56__glaze_core_systems_StateSystem__ = __webpack_require__(149);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_57__glaze_util_MessageBus__ = __webpack_require__(150);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_58__glaze_core_systems_StateUpdateSystem__ = __webpack_require__(151);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_59__glaze_tools_HTMLDevTools__ = __webpack_require__(152);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_60__glaze_physics_collision_broadphase_DynamicTreeBroadphase__ = __webpack_require__(155);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_61__systems_ChickenSystem__ = __webpack_require__(157);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_62__glaze_graphics_systems_DebugRendererSystem__ = __webpack_require__(158);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_63__glaze_graphics_components_DebugGraphics__ = __webpack_require__(72);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_64__components_GunTurret__ = __webpack_require__(73);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_65__systems_GunTurretSystem__ = __webpack_require__(160);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_66__glaze_util_FnUtils__ = __webpack_require__(161);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_67__glaze_graphics_displaylist_Camera__ = __webpack_require__(162);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_68__glaze_core_components_Holdable__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_69__glaze_core_systems_HolderSystem__ = __webpack_require__(163);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_70__glaze_core_systems_HoldableSystem__ = __webpack_require__(164);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_71__glaze_core_systems_HeldSystem__ = __webpack_require__(165);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_72__glaze_ecs_Phase__ = __webpack_require__(167);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_73__factories_item_TeleporterFactory__ = __webpack_require__(168);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_74__systems_TeleporterSystem__ = __webpack_require__(170);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_75__glaze_core_components_WaterHolder__ = __webpack_require__(171);












































































const MAP_DATA = "data/16map.json";
const TEXTURE_CONFIG = "data/sprites.json";
const TEXTURE_DATA = "data/sprites.png";
const FRAMES_CONFIG = "data/frames.json";
const PARTICLE_TEXTURE_CONFIG = "data/particles.json";
const PARTICLE_TEXTURE_DATA = "data/particles.png";
const PARTICLE_FRAMES_CONFIG = "data/particleFrames.json";
const TILE_FRAMES_CONFIG = "data/tileFrames.json";
// const COL_SPRITE_SHEET:string = "data/superSet.png";
// const TILE_SPRITE_SHEET_1:string = "data/superSet.png";
// const TILE_SPRITE_SHEET_2:string = "data/superSet.png";
// const TILE_SPRITE_SHEET_B:string = "data/superSet.png";
const TILE_SPRITE_SHEET = "data/superSet.png";
const TILE_SIZE = 16;
class GameTestA extends __WEBPACK_IMPORTED_MODULE_0__glaze_GlazeEngine__["a" /* GlazeEngine */] {
    constructor() {
        const canvas = document.getElementById("view");
        super(canvas);
        this.loadAssets([TEXTURE_CONFIG, TEXTURE_DATA, FRAMES_CONFIG, MAP_DATA, TILE_SPRITE_SHEET, TILE_FRAMES_CONFIG]);
    }
    initalize() {
        this.engine.addCapacityToEngine(1000);
        const tmxMap = JSON.parse(this.assets.assets.get(MAP_DATA));
        var cameraRange = new __WEBPACK_IMPORTED_MODULE_2__glaze_geom_AABB2__["a" /* AABB2 */](0, TILE_SIZE * tmxMap.width, TILE_SIZE * tmxMap.height, 0);
        cameraRange.expand(-TILE_SIZE);
        const camera = new __WEBPACK_IMPORTED_MODULE_67__glaze_graphics_displaylist_Camera__["a" /* Camera */]();
        camera.worldExtentsAABB = cameraRange;
        const collisionData = Object(__WEBPACK_IMPORTED_MODULE_7__glaze_tmx_TMXMap__["c" /* LayerToCollisionData */])(Object(__WEBPACK_IMPORTED_MODULE_7__glaze_tmx_TMXMap__["e" /* TMXdecodeLayer */])(Object(__WEBPACK_IMPORTED_MODULE_7__glaze_tmx_TMXMap__["a" /* GetLayer */])(tmxMap, "Collision")), Object(__WEBPACK_IMPORTED_MODULE_7__glaze_tmx_TMXMap__["b" /* GetTileSet */])(tmxMap, "Collision").firstgid, TILE_SIZE);
        const tileMapCollision = new __WEBPACK_IMPORTED_MODULE_11__glaze_physics_collision_broadphase_TileMapCollision__["a" /* TileMapCollision */](collisionData);
        const blockParticleEngine = new __WEBPACK_IMPORTED_MODULE_30__glaze_particle_engines_BlockParticleEngine2__["a" /* BlockParticleEngine2 */](4000, 1000 / 60, collisionData);
        // const broadphase = new BruteforceBroadphase(tileMapCollision);
        const broadphase = new __WEBPACK_IMPORTED_MODULE_60__glaze_physics_collision_broadphase_DynamicTreeBroadphase__["a" /* DynamicTreeBroadphase */](tileMapCollision);
        this.dynamicTree = broadphase.tree;
        __WEBPACK_IMPORTED_MODULE_50__glaze_util_CombatUtils__["a" /* CombatUtils */].setup(this.engine, broadphase);
        const messageBus = new __WEBPACK_IMPORTED_MODULE_57__glaze_util_MessageBus__["a" /* MessageBus */]();
        // Just a hack for dev
        window.mb = messageBus;
        const corePhase = new __WEBPACK_IMPORTED_MODULE_72__glaze_ecs_Phase__["a" /* Phase */]();
        this.engine.addPhase(corePhase);
        // Non dynamic
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_15__glaze_physics_systems_PhysicsMassSystem__["a" /* PhysicsMassSystem */]());
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_12__glaze_physics_systems_PhysicsStaticSystem__["a" /* PhysicsStaticSystem */](broadphase));
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_13__glaze_physics_systems_PhysicsMoveableSystem__["a" /* PhysicsMoveableSystem */](broadphase));
        // Dynamic
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_25__glaze_physics_systems_PhysicsUpdateSystem__["a" /* PhysicsUpdateSystem */]());
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_14__glaze_physics_systems_PhysicsCollisionSystem__["a" /* PhysicsCollisionSystem */](broadphase));
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_16__glaze_physics_systems_PhysicsPositionSystem__["a" /* PhysicsPositionSystem */]());
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_71__glaze_core_systems_HeldSystem__["a" /* HeldSystem */]());
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_40__systems_PlayerSystem__["a" /* PlayerSystem */](this.input, blockParticleEngine));
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_45__glaze_ai_steering_systems_SteeringSystem__["a" /* SteeringSystem */](tileMapCollision));
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_26__glaze_core_systems_ControllerSystem__["a" /* ControllerSystem */](this.input));
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_31__glaze_particle_systems_ParticleSystem__["a" /* ParticleSystem */](blockParticleEngine));
        // TODO Temp
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_32__glaze_space_systems_FixedViewManagementSystem__["a" /* FixedViewManagementSystem */](camera));
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_33__glaze_core_systems_AgeSystem__["a" /* AgeSystem */]());
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_34__glaze_core_systems_HealthSystem__["a" /* HealthSystem */]());
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_35__glaze_core_systems_CollisionCountSystem__["a" /* CollsionCountSystem */]());
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_41__glaze_physics_systems_EnvironmentForceSystem__["a" /* EnvironmentForceSystem */]());
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_47__systems_BeeHiveSystem__["a" /* BeeHiveSystem */]());
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_49__systems_BirdNestSystem__["a" /* BirdNestSystem */]());
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_51__systems_BirdSystem__["a" /* BirdSystem */](__WEBPACK_IMPORTED_MODULE_50__glaze_util_CombatUtils__["a" /* CombatUtils */].bfAreaQuery));
        const chickenSystem = new __WEBPACK_IMPORTED_MODULE_61__systems_ChickenSystem__["a" /* ChickenSystem */](blockParticleEngine);
        corePhase.addSystem(chickenSystem);
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_65__systems_GunTurretSystem__["a" /* GunTurretSystem */]());
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_52__glaze_core_systems_WaterSystem__["a" /* WaterSystem */](blockParticleEngine));
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_53__glaze_core_systems_WindSystem__["a" /* WindSystem */](blockParticleEngine, 16));
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_56__glaze_core_systems_StateSystem__["a" /* StateSystem */]());
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_58__glaze_core_systems_StateUpdateSystem__["a" /* StateUpdateSystem */](messageBus));
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_69__glaze_core_systems_HolderSystem__["a" /* HolderSystem */](__WEBPACK_IMPORTED_MODULE_36__config_Filters__["a" /* TestFilters */].HOLDABLE_CAT));
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_70__glaze_core_systems_HoldableSystem__["a" /* HoldableSystem */](__WEBPACK_IMPORTED_MODULE_36__config_Filters__["a" /* TestFilters */].HOLDABLE_CAT));
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_74__systems_TeleporterSystem__["a" /* TeleporterSystem */]());
        corePhase.addSystem(new __WEBPACK_IMPORTED_MODULE_38__glaze_core_systems_DestroySystem__["a" /* DestroySystem */]());
        // BEGIN RENDER SYSTEM
        const renderPhase = new __WEBPACK_IMPORTED_MODULE_72__glaze_ecs_Phase__["a" /* Phase */]();
        this.engine.addPhase(renderPhase);
        this.renderSystem = new __WEBPACK_IMPORTED_MODULE_1__glaze_graphics_systems_GraphicsRenderSystem__["a" /* GraphicsRenderSystem */](this.canvas, camera, new __WEBPACK_IMPORTED_MODULE_5__glaze_geom_Vector2__["a" /* Vector2 */](1280, 720));
        this.renderSystem.textureManager.AddTexture(TEXTURE_DATA, this.assets.assets.get(TEXTURE_DATA));
        this.renderSystem.textureManager.AddTexture(TILE_SPRITE_SHEET, this.assets.assets.get(TILE_SPRITE_SHEET));
        this.renderSystem.textureManager.ParseTexturePackerJSON(this.assets.assets.get(TEXTURE_CONFIG), TEXTURE_DATA);
        this.renderSystem.frameListManager.ParseFrameListJSON(this.assets.assets.get(FRAMES_CONFIG));
        // TODO Move this up, later & dort out deps.
        renderPhase.addSystem(new __WEBPACK_IMPORTED_MODULE_10__glaze_graphics_systems_AnimationSystem__["a" /* AnimationSystem */](this.renderSystem.frameListManager));
        const background = Object(__WEBPACK_IMPORTED_MODULE_7__glaze_tmx_TMXMap__["d" /* LayerToCoordTexture */])(Object(__WEBPACK_IMPORTED_MODULE_7__glaze_tmx_TMXMap__["e" /* TMXdecodeLayer */])(Object(__WEBPACK_IMPORTED_MODULE_7__glaze_tmx_TMXMap__["a" /* GetLayer */])(tmxMap, "Background")));
        const foreground1 = Object(__WEBPACK_IMPORTED_MODULE_7__glaze_tmx_TMXMap__["d" /* LayerToCoordTexture */])(Object(__WEBPACK_IMPORTED_MODULE_7__glaze_tmx_TMXMap__["e" /* TMXdecodeLayer */])(Object(__WEBPACK_IMPORTED_MODULE_7__glaze_tmx_TMXMap__["a" /* GetLayer */])(tmxMap, "Foreground1")));
        const foreground2 = Object(__WEBPACK_IMPORTED_MODULE_7__glaze_tmx_TMXMap__["d" /* LayerToCoordTexture */])(Object(__WEBPACK_IMPORTED_MODULE_7__glaze_tmx_TMXMap__["e" /* TMXdecodeLayer */])(Object(__WEBPACK_IMPORTED_MODULE_7__glaze_tmx_TMXMap__["a" /* GetLayer */])(tmxMap, "Foreground2")));
        var tileMapRenderer = new __WEBPACK_IMPORTED_MODULE_8__glaze_graphics_render_tile_TileMapRenderer__["a" /* TileMapRenderer */](16 / 2, 2);
        tileMapRenderer.SetTileRenderLayer("bg", ["Background", "Foreground1"]);
        tileMapRenderer.SetTileRenderLayer("fg", ["Foreground2"]);
        this.renderSystem.renderer.AddRenderer(tileMapRenderer);
        tileMapRenderer.SetTileLayerFromData(foreground2, this.renderSystem.textureManager.baseTextures.get(TILE_SPRITE_SHEET), "Foreground2", 1, 1);
        tileMapRenderer.SetTileLayerFromData(foreground1, this.renderSystem.textureManager.baseTextures.get(TILE_SPRITE_SHEET), "Foreground1", 1, 1);
        tileMapRenderer.SetTileLayerFromData(background, this.renderSystem.textureManager.baseTextures.get(TILE_SPRITE_SHEET), "Background", 1, 1);
        const spriteRender = new __WEBPACK_IMPORTED_MODULE_6__glaze_graphics_render_sprite_SpriteRenderer__["a" /* SpriteRenderer */]();
        spriteRender.AddStage(this.renderSystem.stage);
        this.renderSystem.renderer.AddRenderer(spriteRender);
        this.renderSystem.itemContainer.addChild(tileMapRenderer.renderLayersMap.get("bg").sprite);
        this.renderSystem.camera.addChild(tileMapRenderer.renderLayersMap.get("fg").sprite);
        renderPhase.addSystem(this.renderSystem);
        const debugCanvas = document.getElementById("viewDebug");
        const debugRenderSystem = new __WEBPACK_IMPORTED_MODULE_62__glaze_graphics_systems_DebugRendererSystem__["a" /* DebugRenderSystem */](debugCanvas, this.renderSystem.camera);
        renderPhase.addSystem(debugRenderSystem);
        this.debugGraphics = debugRenderSystem.debugRender;
        renderPhase.addSystem(new __WEBPACK_IMPORTED_MODULE_27__glaze_graphics_systems_TileGraphicsRenderSystem__["a" /* TileGraphicsRenderSystem */](this.assets.assets.get(TILE_FRAMES_CONFIG), tileMapRenderer, tileMapCollision));
        this.renderSystem.renderer.AddRenderer(blockParticleEngine.renderer);
        // GPU calculated lights
        // const lightSystem = new PointLightingSystem(tileMapCollision);
        // this.renderSystem.renderer.AddRenderer(lightSystem.renderer);
        // renderPhase.addSystem(lightSystem);
        // JS calculated ights
        // const lightSystem = new FloodLightingSystem(tileMapCollision.data);
        // this.renderSystem.renderer.AddRenderer(lightSystem.renderer);
        // renderPhase.addSystem(lightSystem);
        // JS recursive lights slooooow
        // const lightSystem = new RecursiveLightingSystem(tileMapCollision.data);
        // or less slow
        // const lightSystem = new BFSLightingSystem(tileMapCollision.data);
        // const lightSystem = new WaterRenderSystem(tileMapCollision.data);
        // const lightSystem = new CALightingSystem(tileMapCollision.data);
        // this.renderSystem.renderer.AddRenderer(lightSystem.renderer);
        // renderPhase.addSystem(lightSystem);
        // END SETUP RENDER SYSTEM
        const playerPosition = this.mapPosition(33.5, 38.5); //     this.mapPosition(3, 16);
        const playerEntity = __WEBPACK_IMPORTED_MODULE_39__factories_character_PlayerFactory__["a" /* PlayerFactory */].create(this.engine, playerPosition);
        chickenSystem.scaredOf(playerEntity);
        this.renderSystem.cameraTarget = playerPosition.coords;
        let x = 0;
        let y = 0;
        let player = null;
        for (var count = 0; count < 1; count++) {
            const chicken = this.engine.createEntity();
            if (player == null) {
                player = chicken;
            }
            x += 20;
            if (x > 700) {
                x = 0;
                y += 20;
            }
            var chickenBody = new __WEBPACK_IMPORTED_MODULE_21__glaze_physics_Body__["a" /* Body */](__WEBPACK_IMPORTED_MODULE_20__glaze_physics_Material__["a" /* Material */].NORMAL);
            chickenBody.setBounces(3);
            chickenBody.maxScalarVelocity = 1000;
            this.engine.addComponentsToEntity(chicken, [
                new __WEBPACK_IMPORTED_MODULE_3__glaze_core_components_Position__["a" /* Position */](100 + x, 200 + y),
                new __WEBPACK_IMPORTED_MODULE_17__glaze_core_components_Extents__["a" /* Extents */](12, 12),
                new __WEBPACK_IMPORTED_MODULE_4__glaze_graphics_components_Graphics__["a" /* Graphics */]("chicken"),
                new __WEBPACK_IMPORTED_MODULE_9__glaze_graphics_components_GraphicsAnimation__["a" /* GraphicsAnimation */]("chicken", "walk"),
                new __WEBPACK_IMPORTED_MODULE_18__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */](false, new __WEBPACK_IMPORTED_MODULE_19__glaze_physics_collision_Filter__["a" /* Filter */](), []),
                new __WEBPACK_IMPORTED_MODULE_22__glaze_physics_components_PhysicsBody__["a" /* PhysicsBody */](chickenBody, true),
                new __WEBPACK_IMPORTED_MODULE_23__glaze_core_components_Moveable__["a" /* Moveable */](),
                new __WEBPACK_IMPORTED_MODULE_24__glaze_core_components_Active__["a" /* Active */](),
                // new Light(64, 1, 1, 1, 255, 255, 255),
                new __WEBPACK_IMPORTED_MODULE_44__glaze_core_components_Viewable__["a" /* Viewable */](),
                new __WEBPACK_IMPORTED_MODULE_63__glaze_graphics_components_DebugGraphics__["a" /* DebugGraphics */](),
            ]);
        }
        const factories = new Map();
        factories.set(__WEBPACK_IMPORTED_MODULE_43__glaze_tmx_factories_ForceFactory__["a" /* ForceFactory */].mapping, __WEBPACK_IMPORTED_MODULE_43__glaze_tmx_factories_ForceFactory__["a" /* ForceFactory */].createTMXEntity);
        factories.set(__WEBPACK_IMPORTED_MODULE_54__glaze_tmx_factories_WaterFactory__["a" /* WaterFactory */].mapping, __WEBPACK_IMPORTED_MODULE_54__glaze_tmx_factories_WaterFactory__["a" /* WaterFactory */].createTMXEntity);
        factories.set(__WEBPACK_IMPORTED_MODULE_55__factories_item_DoorFactory__["a" /* DoorFactory */].mapping, __WEBPACK_IMPORTED_MODULE_55__factories_item_DoorFactory__["a" /* DoorFactory */].createTMXEntity);
        Object(__WEBPACK_IMPORTED_MODULE_42__glaze_tmx_TMXFactory__["a" /* createTMXLayerEntities */])(this.engine, Object(__WEBPACK_IMPORTED_MODULE_7__glaze_tmx_TMXMap__["a" /* GetLayer */])(tmxMap, "Objects"), factories);
        // const pos: Position = this.engine.getComponentForEntity(player, Position);
        // this.renderSystem.cameraTarget = pos.coords; // new Vector2(400, 400);
        __WEBPACK_IMPORTED_MODULE_73__factories_item_TeleporterFactory__["a" /* TeleporterFactory */].create(this.engine, this.mapPosition(3, 23), new __WEBPACK_IMPORTED_MODULE_17__glaze_core_components_Extents__["a" /* Extents */](16, 32));
        const doorSwitch = this.engine.createEntity();
        this.engine.addComponentsToEntity(doorSwitch, [
            this.mapPosition(10.5, 18.5),
            new __WEBPACK_IMPORTED_MODULE_17__glaze_core_components_Extents__["a" /* Extents */](8, 8),
            new __WEBPACK_IMPORTED_MODULE_18__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */](false, new __WEBPACK_IMPORTED_MODULE_19__glaze_physics_collision_Filter__["a" /* Filter */](), [
                // ()=>{debugger;},
                Object(__WEBPACK_IMPORTED_MODULE_66__glaze_util_FnUtils__["a" /* throttle */])(() => {
                    messageBus.trigger("doorA", {});
                }, 1000),
            ]),
            new __WEBPACK_IMPORTED_MODULE_29__glaze_core_components_Fixed__["a" /* Fixed */](),
            new __WEBPACK_IMPORTED_MODULE_24__glaze_core_components_Active__["a" /* Active */](),
            new __WEBPACK_IMPORTED_MODULE_28__glaze_graphics_components_TileGraphics__["a" /* TileGraphics */]("switchOff"),
        ]);
        const beeHive = this.engine.createEntity();
        this.engine.addComponentsToEntity(beeHive, [
            this.mapPosition(20.5, 17),
            new __WEBPACK_IMPORTED_MODULE_17__glaze_core_components_Extents__["a" /* Extents */](16, 16),
            new __WEBPACK_IMPORTED_MODULE_4__glaze_graphics_components_Graphics__["a" /* Graphics */]("insects", "hive"),
            new __WEBPACK_IMPORTED_MODULE_18__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */](false, null, []),
            new __WEBPACK_IMPORTED_MODULE_29__glaze_core_components_Fixed__["a" /* Fixed */](),
            new __WEBPACK_IMPORTED_MODULE_24__glaze_core_components_Active__["a" /* Active */](),
            new __WEBPACK_IMPORTED_MODULE_46__components_BeeHive__["a" /* BeeHive */](5),
        ]);
        const birdNest = this.engine.createEntity();
        this.engine.addComponentsToEntity(birdNest, [
            this.mapPosition(34, 30),
            new __WEBPACK_IMPORTED_MODULE_17__glaze_core_components_Extents__["a" /* Extents */](7, 7),
            new __WEBPACK_IMPORTED_MODULE_29__glaze_core_components_Fixed__["a" /* Fixed */](),
            new __WEBPACK_IMPORTED_MODULE_48__components_BirdNest__["a" /* BirdNest */](5),
            new __WEBPACK_IMPORTED_MODULE_24__glaze_core_components_Active__["a" /* Active */](),
        ]);
        const turret = this.engine.createEntity();
        const turretFilter = new __WEBPACK_IMPORTED_MODULE_19__glaze_physics_collision_Filter__["a" /* Filter */]();
        turretFilter.groupIndex = __WEBPACK_IMPORTED_MODULE_36__config_Filters__["a" /* TestFilters */].TURRET_GROUP;
        this.engine.addComponentsToEntity(turret, [
            this.mapPosition(25, 1.5),
            new __WEBPACK_IMPORTED_MODULE_28__glaze_graphics_components_TileGraphics__["a" /* TileGraphics */]("turret"),
            new __WEBPACK_IMPORTED_MODULE_17__glaze_core_components_Extents__["a" /* Extents */](12, 12),
            new __WEBPACK_IMPORTED_MODULE_18__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */](false, turretFilter, []),
            new __WEBPACK_IMPORTED_MODULE_29__glaze_core_components_Fixed__["a" /* Fixed */](),
            new __WEBPACK_IMPORTED_MODULE_64__components_GunTurret__["a" /* GunTurret */](1000),
            new __WEBPACK_IMPORTED_MODULE_24__glaze_core_components_Active__["a" /* Active */](),
        ]);
        const rock = this.engine.createEntity();
        this.engine.addComponentsToEntity(rock, [
            this.mapPosition(13, 4),
            new __WEBPACK_IMPORTED_MODULE_17__glaze_core_components_Extents__["a" /* Extents */](7, 7),
            new __WEBPACK_IMPORTED_MODULE_4__glaze_graphics_components_Graphics__["a" /* Graphics */]("items", "rock"),
            new __WEBPACK_IMPORTED_MODULE_18__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */](false, new __WEBPACK_IMPORTED_MODULE_19__glaze_physics_collision_Filter__["a" /* Filter */](), []),
            new __WEBPACK_IMPORTED_MODULE_23__glaze_core_components_Moveable__["a" /* Moveable */](),
            new __WEBPACK_IMPORTED_MODULE_22__glaze_physics_components_PhysicsBody__["a" /* PhysicsBody */](new __WEBPACK_IMPORTED_MODULE_21__glaze_physics_Body__["a" /* Body */](__WEBPACK_IMPORTED_MODULE_20__glaze_physics_Material__["a" /* Material */].ROCK), true),
            new __WEBPACK_IMPORTED_MODULE_68__glaze_core_components_Holdable__["a" /* Holdable */](),
            new __WEBPACK_IMPORTED_MODULE_24__glaze_core_components_Active__["a" /* Active */](),
        ]);
        const waterContainer = this.engine.createEntity();
        this.engine.addComponentsToEntity(waterContainer, [
            this.mapPosition(25, 57),
            new __WEBPACK_IMPORTED_MODULE_17__glaze_core_components_Extents__["a" /* Extents */](6, 14),
            new __WEBPACK_IMPORTED_MODULE_4__glaze_graphics_components_Graphics__["a" /* Graphics */]("items", "water_container"),
            new __WEBPACK_IMPORTED_MODULE_18__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */](false, new __WEBPACK_IMPORTED_MODULE_19__glaze_physics_collision_Filter__["a" /* Filter */](), []),
            new __WEBPACK_IMPORTED_MODULE_23__glaze_core_components_Moveable__["a" /* Moveable */](),
            new __WEBPACK_IMPORTED_MODULE_22__glaze_physics_components_PhysicsBody__["a" /* PhysicsBody */](new __WEBPACK_IMPORTED_MODULE_21__glaze_physics_Body__["a" /* Body */](__WEBPACK_IMPORTED_MODULE_20__glaze_physics_Material__["a" /* Material */].NORMAL), true),
            new __WEBPACK_IMPORTED_MODULE_68__glaze_core_components_Holdable__["a" /* Holdable */](),
            new __WEBPACK_IMPORTED_MODULE_75__glaze_core_components_WaterHolder__["a" /* WaterHolder */](10),
            new __WEBPACK_IMPORTED_MODULE_24__glaze_core_components_Active__["a" /* Active */]()
        ]);
        this.loop.start();
        Object(__WEBPACK_IMPORTED_MODULE_59__glaze_tools_HTMLDevTools__["a" /* listenDebugButtons */])(this.engine);
    }
    mapPosition(xTiles, yTiles) {
        return new __WEBPACK_IMPORTED_MODULE_3__glaze_core_components_Position__["a" /* Position */](xTiles * TILE_SIZE, yTiles * TILE_SIZE);
    }
    fireBullet(position, target) {
        var filter = new __WEBPACK_IMPORTED_MODULE_19__glaze_physics_collision_Filter__["a" /* Filter */]();
        filter.groupIndex = __WEBPACK_IMPORTED_MODULE_36__config_Filters__["a" /* TestFilters */].TURRET_GROUP;
        var bullet = __WEBPACK_IMPORTED_MODULE_37__factories_projectile_StandardBullet__["a" /* StandardBullet */].create(this.engine, new __WEBPACK_IMPORTED_MODULE_3__glaze_core_components_Position__["a" /* Position */](position.x, position.y), filter, target);
    }
    preUpdate() {
        this.input.Update(-this.renderSystem.camera.position.x, -this.renderSystem.camera.position.y);
    }
    postUpdate() {
        if (__WEBPACK_IMPORTED_MODULE_0__glaze_GlazeEngine__["a" /* GlazeEngine */].params.debug && this.dynamicTree)
            this.dynamicTree.debugDraw(this.debugGraphics);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = GameTestA;



/***/ }),
/* 77 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__ = __webpack_require__(0);

class DigitalInput {
    constructor() {
        this.keyMap = new Array();
        for (var i = 0; i < 256; i++) {
            this.keyMap[i] = 0;
        }
        this.mousePosition = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.mousePreviousPosition = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.mouseOffset = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.frameRef = 2;
    }
    InputTarget(target, inputCorrection) {
        this.target = target;
        target.addEventListener("keydown", this.KeyDown.bind(this), false);
        target.addEventListener("keyup", this.KeyUp.bind(this), false);
        target.addEventListener("mousedown", this.MouseDown.bind(this), false);
        //target.addEventListener("touchstart",MouseDown,false);
        target.addEventListener("mouseup", this.MouseUp.bind(this), false);
        target.addEventListener("mousemove", this.MouseMove.bind(this), false);
        // target.addEventListener(MouseEvent.RIGHT_MOUSE_DOWN, RightMouseDown, false, 0, true);
        // target.addEventListener(MouseEvent.RIGHT_MOUSE_UP, RightMouseUp, false, 0, true);
        this.inputCorrection = inputCorrection;
    }
    ViewCorrectedMousePosition() {
        var pos = this.mousePosition.clone();
        pos.plusEquals(this.mouseOffset);
        return pos;
    }
    Update(x, y) {
        this.mouseOffset.x = x;
        this.mouseOffset.y = y;
        this.frameRef++;
        // mousePreviousPosition.x = mousePosition.x;
        // mousePreviousPosition.y = mousePosition.y;
        // mousePosition.x = target.mouseX + screenOffset.x;
        // mousePosition.y = target.mouseY + screenOffset.y;
    }
    KeyDown(event) {
        if (this.keyMap[event.keyCode] == 0) {
            this.keyMap[event.keyCode] = this.frameRef;
        }
        event.preventDefault();
    }
    KeyUp(event) {
        this.keyMap[event.keyCode] = 0;
        event.preventDefault();
    }
    MouseDown(event) {
        this.keyMap[200] = this.frameRef;
        event.preventDefault();
    }
    MouseUp(event) {
        this.keyMap[200] = 0;
        event.preventDefault();
    }
    MouseMove(event) {
        this.mousePreviousPosition.x = this.mousePosition.x;
        this.mousePreviousPosition.y = this.mousePosition.y;
        this.mousePosition.x = event.clientX - this.inputCorrection.x;
        this.mousePosition.y = event.clientY - this.inputCorrection.y;
        event.preventDefault();
    }
    // public  RightMouseDown(event : MouseEvent) : Void {
    //     keyMap[201] = frameRef;
    // }
    // public  RightMouseUp(event : MouseEvent) : Void {
    //     keyMap[201] = 0;
    // }
    Pressed(keyCode) {
        return this.keyMap[keyCode] > 0;
    }
    JustPressed(keyCode) {
        return this.keyMap[keyCode] == this.frameRef - 1;
    }
    PressedDuration(keyCode) {
        var duration = this.keyMap[keyCode];
        return duration > 0 ? this.frameRef - duration : -1;
    }
    Released(keyCode) {
        return this.keyMap[keyCode] == 0;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = DigitalInput;



/***/ }),
/* 78 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_Pool__ = __webpack_require__(48);

class Engine {
    constructor() {
        this.components = new Map();
        this.phases = new Array();
        this.systems = new Array();
        this.c4e = new Map();
        this.entityPool = new __WEBPACK_IMPORTED_MODULE_0__util_Pool__["a" /* Pool */](i => i);
    }
    addCapacityToEngine(entityCount) {
        this.entityPool.addCapacity(entityCount);
        this.components.forEach((_, name) => this.components.set(name, [...this.components.get(name), ...emptyNullArray(this.entityPool.capacity)]));
    }
    createEntity() {
        const entity = this.entityPool.reserve();
        this.c4e.set(entity, createGetComponentForEntity(this, entity));
        return entity;
    }
    destroyEntity(entity) {
        this.systems.forEach(system => system.removeEntity(entity));
        this.clearAllComponentsForEntity(entity);
        this.entityPool.free(entity);
        this.c4e.delete(entity);
    }
    getComponentForEntity(entity, component) {
        const name = component.name;
        if (this.components.has(name))
            return this.components.get(name)[entity];
        return null;
    }
    addComponentsToEntity(entity, componentsToAdd) {
        componentsToAdd.forEach(component => {
            const name = component.constructor.name;
            if (!this.components.has(name)) {
                this.createComponentEntry(name);
            }
            this.components.get(name)[entity] = component;
        });
        this.matchEntity(entity);
    }
    removeComponentsFromEntity(entity, componentsToRemove) {
        componentsToRemove.forEach(component => {
            const name = component.name;
            if (this.components.has(name))
                this.components.get(name)[entity] = null;
        });
        this.matchEntity(entity);
    }
    addPhase(phase) {
        phase.engine = this;
        this.phases.push(phase);
    }
    addPhaseSystemToEngine(system) {
        system.engine = this;
        this.systems.push(system);
        system.components.forEach((name) => this.createComponentEntry(name));
    }
    update(dt, timestamp) {
        this.phases.forEach(phase => phase.updatePhase(dt, timestamp));
    }
    query(query) {
        const result = [];
        for (let i = 0; i < this.entityPool.capacity; i++) {
            if (query.every(component => this.components.get(component.name)[i] !== null)) {
                result.push(i);
            }
        }
        return result;
    }
    createComponentEntry(name) {
        this.components.set(name, emptyNullArray(this.entityPool.capacity));
    }
    matchEntity(entity) {
        this.systems.forEach(system => system.components.reduce((sum, name) => (this.components.get(name)[entity] ? sum - 1 : sum), system.components.length) === 0
            ? system.addEntity(entity, this.entityComponentsForSystem(entity, system))
            : system.removeEntity(entity));
    }
    entityComponentsForSystem(entity, system) {
        return system.components.map(name => this.components.get(name)[entity]);
    }
    addEntitiesToComponentList(componentName) {
        this.components.set(componentName, emptyNullArray(this.entityPool.capacity));
    }
    clearAllComponentsForEntity(entity) {
        this.components.forEach((entities) => (entities[entity] = null));
    }
    snapshot() {
        return {
            activeEntities: this.entityPool.assigned,
            totalEntitiesCreated: this.entityPool.totalAllocations,
        };
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Engine;

// const setIdOnComponent = (component: IComponent<any>, id: number) => (component._id_ = id);
const emptyArray = () => [];
const emptyNullArray = count => Array(count).fill(null);
const createGetComponentForEntity = (engine, entity) => (component) => engine.getComponentForEntity(entity, component);
/* unused harmony export createGetComponentForEntity */



/***/ }),
/* 79 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__signals_Signal__ = __webpack_require__(24);

class AssetLoader {
    constructor() {
        this.assets = new Map();
        this.loaded = new __WEBPACK_IMPORTED_MODULE_0__signals_Signal__["a" /* Signal */]();
        this.Reset();
    }
    Reset() {
        this.running = false;
        this.loaders = new Array();
    }
    SetImagesToLoad(urls) {
        urls.forEach(url => this.AddAsset(url));
    }
    AddAsset(url) {
        if (this.running == true)
            return;
        var loader = this.LoaderFactory(url);
        loader.Init(url);
        this.loaders.push(loader);
    }
    LoaderFactory(url) {
        var extention = url.substring(url.length - 3, url.length);
        if (extention == "png")
            return new ImageAsset(this);
        if (extention == "tmx" || extention == "xml" || extention == "son")
            return new BlobAsset(this);
        return null;
    }
    Load() {
        if (this.running == true || this.loaders.length == 0)
            return;
        this.completeCount = this.loaders.length;
        this.running = true;
        this.loaders.forEach(loader => loader.Load());
    }
    onLoad(item) {
        this.completeCount--;
        this.assets.set(item.getKey(), item.getValue());
        if (this.completeCount == 0) {
            this.loaded.dispatch();
            this.running = false;
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = AssetLoader;

class ImageAsset {
    constructor(mgr) {
        this.mgr = mgr;
    }
    Init(url) {
        this.url = url;
        this.image = new Image();
        this.image.onload = this.onLoad.bind(this);
        this.image.crossOrigin = "anonymous";
    }
    Load() {
        this.image.src = this.url + "?cb=" + Date.now();
        if (this.image.complete == true) {
            this.onLoad(null);
        }
    }
    onLoad(event) {
        if (this.mgr != null) {
            this.mgr.onLoad(this);
        }
    }
    getKey() {
        return this.url;
    }
    getValue() {
        return this.image;
    }
}
class BlobAsset {
    constructor(mgr) {
        this.mgr = mgr;
    }
    Init(url) {
        this.url = url;
        this.xhr = new XMLHttpRequest();
        this.xhr.responseType = "text";
        this.xhr.onload = this.onLoad.bind(this);
        this.xhr.open("GET", this.url + "?cb=" + Date.now(), true);
    }
    Load() {
        this.xhr.send();
    }
    onLoad(event) {
        if (this.mgr != null) {
            this.mgr.onLoad(this);
        }
    }
    getKey() {
        return this.url;
    }
    getValue() {
        return this.xhr.response;
    }
}


/***/ }),
/* 80 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class SignalBinding {
    constructor(signal, listener, isOnce, listenerContext, priority = 0) {
        this.active = true;
        this.params = null;
        this._listener = listener;
        this._isOnce = isOnce;
        this.context = listenerContext;
        this._signal = signal;
        this.priority = priority || 0;
    }
    execute(paramsArr) {
        var handlerReturn;
        var params;
        if (this.active && !!this._listener) {
            params = this.params ? this.params.concat(paramsArr) : paramsArr;
            handlerReturn = this._listener.apply(this.context, params);
            if (this._isOnce) {
                this.detach();
            }
        }
        return handlerReturn;
    }
    detach() {
        return this.isBound() ? this._signal.remove(this._listener, this.context) : null;
    }
    isBound() {
        return !!this._signal && !!this._listener;
    }
    isOnce() {
        return this._isOnce;
    }
    getListener() {
        return this._listener;
    }
    getSignal() {
        return this._signal;
    }
    _destroy() {
        delete this._signal;
        delete this._listener;
        delete this.context;
    }
    toString() {
        return ("[SignalBinding isOnce:" + this._isOnce + ", isBound:" + this.isBound() + ", active:" + this.active + "]");
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = SignalBinding;



/***/ }),
/* 81 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
const MIN_DELTA = 1000 / 60 + 1e-8;
class GameLoop {
    constructor() {
        this.isRunning = false;
        this.update = this.update.bind(this);
    }
    update(timestamp) {
        this.delta = this.prevAnimationTime == 0 ? MIN_DELTA : timestamp - this.prevAnimationTime;
        this.prevAnimationTime = timestamp;
        if (this.updateFunc != null)
            //trace(Math.max(delta,MIN_DELTA));
            //updateFunc(Math.max(delta,MIN_DELTA),Math.floor(timestamp));
            // updateFunc(1000/60,Math.floor(timestamp));
            this.updateFunc(MIN_DELTA, Math.floor(timestamp));
        this.rafID = window.requestAnimationFrame(this.update);
        return false;
    }
    start() {
        if (this.isRunning == true)
            return;
        this.isRunning = true;
        this.prevAnimationTime = 0;
        this.rafID = window.requestAnimationFrame(this.update);
    }
    stop() {
        if (this.isRunning == false)
            return;
        this.isRunning = false;
        window.cancelAnimationFrame(this.rafID);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = GameLoop;



/***/ }),
/* 82 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Graphics__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__displaylist_Stage__ = __webpack_require__(83);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__render_RenderEngine__ = __webpack_require__(86);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__texture_TextureManager__ = __webpack_require__(87);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__displaylist_DisplayObjectContainer__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__frame_FrameListManager__ = __webpack_require__(88);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__displaylist_Sprite__ = __webpack_require__(51);









class GraphicsRenderSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor(canvas, camera, screenDimension) {
        super([__WEBPACK_IMPORTED_MODULE_1__core_components_Position__["a" /* Position */], __WEBPACK_IMPORTED_MODULE_2__components_Graphics__["a" /* Graphics */]]);
        this.canvas = canvas;
        this.stage = new __WEBPACK_IMPORTED_MODULE_3__displaylist_Stage__["a" /* Stage */]();
        this.camera = camera;
        this.stage.addChild(this.camera);
        this.renderer = new __WEBPACK_IMPORTED_MODULE_4__render_RenderEngine__["a" /* RendererEngine */](this.stage, this.camera, this.canvas, screenDimension.x, screenDimension.y);
        this.camera.Resize(this.renderer.width, this.renderer.height);
        this.textureManager = new __WEBPACK_IMPORTED_MODULE_5__texture_TextureManager__["a" /* TextureManager */](this.renderer.gl);
        this.frameListManager = new __WEBPACK_IMPORTED_MODULE_7__frame_FrameListManager__["a" /* FrameListManager */](this.textureManager);
        this.itemContainer = new __WEBPACK_IMPORTED_MODULE_6__displaylist_DisplayObjectContainer__["a" /* DisplayObjectContainer */]();
        this.itemContainer.id = "itemContainer";
        this.camera.addChild(this.itemContainer);
    }
    initalize() {
    }
    onEntityAdded(entity, position, graphics) {
        if (graphics.sprite == null) {
            graphics.sprite = new __WEBPACK_IMPORTED_MODULE_8__displaylist_Sprite__["a" /* Sprite */]();
            graphics.frameList = this.frameListManager.getFrameList(graphics.frameListId);
            if (graphics.initialFrameId != null) {
                graphics.setFrame(graphics.frameList.getFrame(graphics.initialFrameId));
            }
            else {
                graphics.setFrame(graphics.frameList.frames[0]);
            }
            graphics.sprite.position = position.coords;
        }
        this.itemContainer.addChild(graphics.sprite);
    }
    onEntityRemoved(entity, position, graphics) {
        this.itemContainer.removeChild(graphics.sprite);
    }
    updateSystem() {
        this.camera.Focus(this._cameraTarget.x, this._cameraTarget.y);
        this.renderer.Render(this.camera.viewPortAABB);
    }
    set cameraTarget(target) {
        this._cameraTarget = target;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = GraphicsRenderSystem;



/***/ }),
/* 83 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__DisplayObjectContainer__ = __webpack_require__(25);

class Stage extends __WEBPACK_IMPORTED_MODULE_0__DisplayObjectContainer__["a" /* DisplayObjectContainer */] {
    constructor() {
        super();
        this.id = "Stage";
        this.worldAlpha = this.alpha;
    }
    updateTransform() {
        var child = this.head;
        while (child != null) {
            child.updateTransform();
            child = child.next;
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Stage;



/***/ }),
/* 84 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__geom_Matrix3__ = __webpack_require__(85);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__geom_AABB2__ = __webpack_require__(11);



class DisplayObject {
    constructor() {
        this.position = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.scale = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */](1, 1);
        this.pivot = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this._rotationComponents = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.rotation = 0;
        this.alpha = 1;
        this.visible = true;
        this.renderable = false;
        this.aabb = new __WEBPACK_IMPORTED_MODULE_2__geom_AABB2__["a" /* AABB2 */]();
        this.parent = null;
        this.worldTransform = Object(__WEBPACK_IMPORTED_MODULE_1__geom_Matrix3__["a" /* Create */])();
        this.localTransform = Object(__WEBPACK_IMPORTED_MODULE_1__geom_Matrix3__["a" /* Create */])();
    }
    get rotation() {
        return this._rotation;
    }
    set rotation(v) {
        this._rotation = v;
        this._rotationComponents.x = Math.cos(this._rotation);
        this._rotationComponents.y = Math.sin(this._rotation);
    }
    get visible() {
        return this._visible;
    }
    set visible(v) {
        this._visible = v;
    }
    RoundFunction(v) {
        return v;
        // return Math.round(v);
        // return Math.round( v * 10) / 10;
    }
    updateTransform() {
        //TODO Rounding at the moment...
        //position.x = Math.round(position.x);
        //position.y = Math.round(position.y);
        //JS hack, much faster...
        // var positionx:number = untyped{(0.5 + position.x) >> 0;};
        // var positiony:number = untyped{(0.5 + position.y) >> 0;};
        //positionx = cast Math.round( position.x * 10) / 10;
        //positiony = cast Math.round( position.y * 10) / 10;
        // var positionx = position.x;
        // var positiony = position.y;
        var positionx = Math.floor(this.position.x);
        var positiony = Math.floor(this.position.y);
        var sinR = this._rotationComponents.y; //Math.sin(rotation);
        var cosR = this._rotationComponents.x; //Math.cos(rotation);
        this.localTransform[0] = cosR * this.scale.x;
        this.localTransform[1] = -sinR * this.scale.y;
        this.localTransform[3] = sinR * this.scale.x;
        this.localTransform[4] = cosR * this.scale.y;
        var px = this.pivot.x;
        var py = this.pivot.y;
        var parentTransform = this.parent.worldTransform;
        var a00 = this.localTransform[0];
        var a01 = this.localTransform[1];
        var a02 = positionx - this.localTransform[0] * px - py * this.localTransform[1];
        var a10 = this.localTransform[3];
        var a11 = this.localTransform[4];
        var a12 = positiony - this.localTransform[4] * py - px * this.localTransform[3];
        var b00 = parentTransform[0];
        var b01 = parentTransform[1];
        var b02 = parentTransform[2];
        var b10 = parentTransform[3];
        var b11 = parentTransform[4];
        var b12 = parentTransform[5];
        this.localTransform[2] = a02;
        this.localTransform[5] = a12;
        this.worldTransform[0] = b00 * a00 + b01 * a10;
        this.worldTransform[1] = b00 * a01 + b01 * a11;
        this.worldTransform[2] = b00 * a02 + b01 * a12 + b02;
        this.worldTransform[3] = b10 * a00 + b11 * a10;
        this.worldTransform[4] = b10 * a01 + b11 * a11;
        this.worldTransform[5] = b10 * a02 + b11 * a12 + b12;
        this.worldAlpha = this.alpha * this.parent.worldAlpha;
    }
    calcExtents() {
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = DisplayObject;



/***/ }),
/* 85 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = Create;
/* unused harmony export Identity */
/* unused harmony export Multiply */
/* unused harmony export Clone */
/* unused harmony export Transpose */
function Create() {
    return Identity(new Float32Array(9));
}
function Identity(matrix) {
    matrix[0] = 1;
    matrix[1] = 0;
    matrix[2] = 0;
    matrix[3] = 0;
    matrix[4] = 1;
    matrix[5] = 0;
    matrix[6] = 0;
    matrix[7] = 0;
    matrix[8] = 1;
    return matrix;
}
function Multiply(mat, mat2, dest) {
    if (dest != null)
        dest = mat;
    var a00 = mat[0], a01 = mat[1], a02 = mat[2], a10 = mat[3], a11 = mat[4], a12 = mat[5], a20 = mat[6], a21 = mat[7], a22 = mat[8], b00 = mat2[0], b01 = mat2[1], b02 = mat2[2], b10 = mat2[3], b11 = mat2[4], b12 = mat2[5], b20 = mat2[6], b21 = mat2[7], b22 = mat2[8];
    dest[0] = b00 * a00 + b01 * a10 + b02 * a20;
    dest[1] = b00 * a01 + b01 * a11 + b02 * a21;
    dest[2] = b00 * a02 + b01 * a12 + b02 * a22;
    dest[3] = b10 * a00 + b11 * a10 + b12 * a20;
    dest[4] = b10 * a01 + b11 * a11 + b12 * a21;
    dest[5] = b10 * a02 + b11 * a12 + b12 * a22;
    dest[6] = b20 * a00 + b21 * a10 + b22 * a20;
    dest[7] = b20 * a01 + b21 * a11 + b22 * a21;
    dest[8] = b20 * a02 + b21 * a12 + b22 * a22;
    return dest;
}
function Clone(mat) {
    var matrix = new Float32Array(9);
    matrix[0] = mat[0];
    matrix[1] = mat[1];
    matrix[2] = mat[2];
    matrix[3] = mat[3];
    matrix[4] = mat[4];
    matrix[5] = mat[5];
    matrix[6] = mat[6];
    matrix[7] = mat[7];
    matrix[8] = mat[8];
    return matrix;
}
function Transpose(mat, dest) {
    if (dest != null || mat == dest) {
        var a01 = mat[1], a02 = mat[2], a12 = mat[5];
        mat[1] = mat[3];
        mat[2] = mat[6];
        mat[3] = a01;
        mat[5] = mat[7];
        mat[6] = a02;
        mat[7] = a12;
        return mat;
    }
    dest[0] = mat[0];
    dest[1] = mat[3];
    dest[2] = mat[6];
    dest[3] = mat[1];
    dest[4] = mat[4];
    dest[5] = mat[7];
    dest[6] = mat[2];
    dest[7] = mat[5];
    dest[8] = mat[8];
    return dest;
}


/***/ }),
/* 86 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class RendererEngine {
    constructor(stage, camera, view, width = 800, height = 600, transparent = false, antialias = false) {
        this.stage = stage;
        this.camera = camera;
        this.view = view;
        this.contextLost = false;
        this.contextAttributes = {};
        this.contextAttributes.alpha = transparent;
        this.contextAttributes.antialias = antialias;
        this.contextAttributes.premultipliedAlpha = true;
        this.contextAttributes.stencil = false;
        this.renderers = new Array();
        this.InitalizeWebGlContext();
        this.Resize(width, height);
    }
    InitalizeWebGlContext() {
        this.view.addEventListener("webglcontextlost", this.onContextLost, false);
        this.view.addEventListener("webglcontextrestored", this.onContextRestored, false);
        this.gl = this.view.getContext("webgl", this.contextAttributes);
        this.gl.disable(WebGLRenderingContext.DEPTH_TEST);
        this.gl.disable(WebGLRenderingContext.CULL_FACE);
        this.gl.enable(WebGLRenderingContext.BLEND);
        this.gl.colorMask(true, true, true, this.contextAttributes.alpha);
        this.gl.clearColor(0, 0, 0, 1);
        this.gl.blendFunc(WebGLRenderingContext.SRC_ALPHA, WebGLRenderingContext.ONE_MINUS_SRC_ALPHA);
        if (!this.gl.getExtension("OES_texture_float"))
            console.log("New browser time: Float textures not supported");
    }
    Resize(width, height) {
        this.width = width;
        this.height = height;
        this.view.width = width;
        this.view.height = height;
        this.gl.viewport(0, 0, width, height);
        this.gl.scissor(0, 0, width, height);
    }
    AddRenderer(renderer) {
        renderer.Init(this.gl, this.camera);
        renderer.Resize(this.width, this.height);
        this.renderers.push(renderer);
    }
    Render(clip) {
        if (this.contextLost)
            return;
        // this.stage.updateTransform();
        // stage.PreRender();
        // gl.viewport(0,0,width,height);
        // gl.colorMask(true,true,true,contextAttributes.alpha);
        // gl.bindFramebuffer(RenderingContext.FRAMEBUFFER,null);
        // gl.clearColor(0.2,0.2,0.2,1.0);
        // gl.clear(RenderingContext.COLOR_BUFFER_BIT);
        // this.gl.colorMask(true, true, true, true);
        // gl.clearColor(1.0, 0.0, 0.0, 1.0);
        this.gl.clearColor(159 / 255, 188 / 255, 197 / 255, 1.0);
        this.gl.clear(WebGLRenderingContext.COLOR_BUFFER_BIT);
        this.gl.colorMask(true, true, true, false);
        this.gl.blendFunc(WebGLRenderingContext.SRC_ALPHA, WebGLRenderingContext.ONE_MINUS_SRC_ALPHA);
        // this.gl.disable(WebGLRenderingContext.BLEND);
        // this.gl.disable(WebGLRenderingContext.DEPTH_TEST);
        //9FBCC5
        //159 188 197 1
        // this.gl.blendFunc(WebGLRenderingContext.SRC_ALPHA,WebGLRenderingContext.ONE_MINUS_SRC_ALPHA);
        // return;
        // console.log("----");
        this.renderers.forEach(renderer => {
            renderer.Render(clip);
        });
    }
    onContextLost(event) {
        this.contextLost = true;
        console.log("webGL Context Lost");
    }
    onContextRestored(event) {
        this.contextLost = false;
        console.log("webGL Context Restored");
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = RendererEngine;



/***/ }),
/* 87 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__BaseTexture__ = __webpack_require__(49);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Texture__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__geom_Rectangle__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__geom_Vector2__ = __webpack_require__(0);




class TextureManager {
    constructor(gl) {
        this.gl = gl;
        this.baseTextures = new Map();
        this.textures = new Map();
    }
    AddTexture(id, image) {
        var baseTexture = __WEBPACK_IMPORTED_MODULE_0__BaseTexture__["a" /* BaseTexture */].FromImage(this.gl, image);
        // baseTexture.RegisterTexture();
        this.baseTextures.set(id, baseTexture);
        return baseTexture;
    }
    ParseTexturePackerJSON(textureConfig, id) {
        if (!(typeof textureConfig === "string")) {
            return;
        }
        var baseTexture = this.baseTextures.get(id);
        var textureData = JSON.parse(textureConfig);
        //var fields = Reflect.fields(textureData.frames);
        Object.keys(textureData.frames).forEach(prop => {
            // for (let prop:any in textureData.frames) {
            var frame = textureData.frames[prop]; // Reflect.field(textureData.frames, prop);
            this.textures.set(prop, new __WEBPACK_IMPORTED_MODULE_1__Texture__["a" /* Texture */](baseTexture, new __WEBPACK_IMPORTED_MODULE_2__geom_Rectangle__["a" /* Rectangle */](frame.frame.x, frame.frame.y, frame.frame.w, frame.frame.h), new __WEBPACK_IMPORTED_MODULE_3__geom_Vector2__["a" /* Vector2 */](frame.pivot.x, frame.pivot.y)));
        });
    }
    ParseTexturesFromTiles(tileSize, id) { }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = TextureManager;



/***/ }),
/* 88 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__FrameList__ = __webpack_require__(89);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Frame__ = __webpack_require__(90);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__animation_Animaton__ = __webpack_require__(91);



class FrameListManager {
    constructor(textureManager) {
        this.textureManager = textureManager;
        this.frameLists = new Map();
    }
    getFrameList(id) {
        return this.frameLists.get(id);
    }
    ParseFrameListJSON(frameListConfig) {
        if (typeof frameListConfig !== "string")
            return;
        var frameListConfigData = JSON.parse(frameListConfig);
        Object.keys(frameListConfigData).forEach(itemName => {
            var frameList = new __WEBPACK_IMPORTED_MODULE_0__FrameList__["a" /* FrameList */]();
            this.frameLists.set(itemName, frameList);
            const framelistItem = frameListConfigData[itemName];
            if (framelistItem.frames != null) {
                framelistItem.frames.forEach(frame => {
                    frameList.addFrame(new __WEBPACK_IMPORTED_MODULE_1__Frame__["a" /* Frame */](frame.id, this.textureManager.textures.get(frame.name), frame.scale));
                });
                if (framelistItem.animations != null) {
                    Object.keys(framelistItem.animations).forEach(animationName => {
                        var animation = framelistItem.animations[animationName];
                        frameList.addAnimation(new __WEBPACK_IMPORTED_MODULE_2__animation_Animaton__["a" /* Animation */](animationName, animation.frames.map(frameIndex => frameList.frames[frameIndex]), animation.fps, animation.looped, animation.flipX, animation.flipY));
                    });
                }
            }
        });
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = FrameListManager;



/***/ }),
/* 89 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class FrameList {
    constructor() {
        this.frames = new Array();
        this.framesHash = new Map();
        this.animationsHash = new Map();
    }
    addFrame(frame) {
        this.frames.push(frame);
        this.framesHash.set(frame.name, frame);
    }
    getFrame(id) {
        return this.framesHash.get(id);
    }
    addAnimation(animation) {
        this.animationsHash.set(animation.name, animation);
    }
    getAnimation(id) {
        return this.animationsHash.get(id);
    }
    get numFrames() {
        return frames.length;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = FrameList;



/***/ }),
/* 90 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Frame {
    constructor(name, texture, scale) {
        this.name = name;
        this.texture = texture;
        this.scale = scale;
    }
    updateSprite(sprite, flipX = 1, flipY = 1) {
        sprite.texture = this.texture;
        sprite.pivot.x = sprite.texture.frame.width * sprite.texture.pivot.x;
        sprite.pivot.y = (sprite.texture.frame.height + 2) * sprite.texture.pivot.y;
        sprite.scale.x = this.scale.x * flipX;
        sprite.scale.y = this.scale.y * flipY;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Frame;



/***/ }),
/* 91 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Animation {
    constructor(name, frames, frameRate = 0, looped = true, flipX = false, flipY = false) {
        this.name = name;
        this.frameRate = frameRate;
        this.frames = frames;
        this.looped = looped;
        this.flipX = flipX;
        this.flipY = flipY;
        this.msPerFrame = 1000 / this.frameRate;
        this.length = this.frames.length;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Animation;



/***/ }),
/* 92 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_WebGLShaderUtil__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_ShaderWrapper__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__SpriteBatch__ = __webpack_require__(93);




class SpriteRenderer {
    constructor() {
        this.first = true;
    }
    Init(gl, camera) {
        this.gl = gl;
        this.camera = camera;
        this.projection = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.spriteShader = new __WEBPACK_IMPORTED_MODULE_2__util_ShaderWrapper__["a" /* ShaderWrapper */](gl, __WEBPACK_IMPORTED_MODULE_1__util_WebGLShaderUtil__["a" /* CompileProgram */](gl, SpriteRenderer.SPRITE_VERTEX_SHADER, SpriteRenderer.SPRITE_FRAGMENT_SHADER));
        this.spriteBatch = new __WEBPACK_IMPORTED_MODULE_3__SpriteBatch__["a" /* WebGLBatch */](gl);
        this.spriteBatch.ResizeBatch(1000);
    }
    Resize(width, height) {
        this.projection.x = width / 2;
        this.projection.y = height / 2;
    }
    AddStage(stage) {
        this.stage = stage;
    }
    Render(clip) {
        this.stage.updateTransform();
        this.gl.useProgram(this.spriteShader.program);
        // if (first) {
        this.gl.uniform2f(this.spriteShader.uniform.projectionVector, this.projection.x, this.projection.y);
        this.gl.enableVertexAttribArray(this.spriteShader.attribute.aVertexPosition);
        this.gl.enableVertexAttribArray(this.spriteShader.attribute.aTextureCoord);
        this.gl.enableVertexAttribArray(this.spriteShader.attribute.aColor);
        //     first=false;
        // }
        this.gl.vertexAttribPointer(this.spriteShader.attribute.aVertexPosition, 2, WebGLRenderingContext.FLOAT, false, 20, 0);
        this.gl.vertexAttribPointer(this.spriteShader.attribute.aTextureCoord, 2, WebGLRenderingContext.FLOAT, false, 20, 8);
        this.gl.vertexAttribPointer(this.spriteShader.attribute.aColor, 1, WebGLRenderingContext.FLOAT, false, 20, 16);
        this.spriteBatch.Render(this.spriteShader, this.stage, this.camera.viewPortAABB);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = SpriteRenderer;

SpriteRenderer.SPRITE_VERTEX_SHADER = `
        precision mediump float;
        attribute vec2 aVertexPosition;
        attribute vec2 aTextureCoord;
        attribute float aColor;
        uniform vec2 projectionVector;
        varying vec2 vTextureCoord;
        varying float vColor;
        void main(void) {
            gl_Position = vec4( aVertexPosition.x / projectionVector.x -1.0, aVertexPosition.y / -projectionVector.y + 1.0 , 0.0, 1.0);
            vTextureCoord = aTextureCoord;
            vColor = aColor;
        }`;
SpriteRenderer.SPRITE_FRAGMENT_SHADER = `
        precision mediump float;
        varying vec2 vTextureCoord;
        varying float vColor;
        uniform sampler2D uSampler;
        void main(void) {
            gl_FragColor = texture2D(uSampler,vTextureCoord) * vColor;
        }`;


/***/ }),
/* 93 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class WebGLBatch {
    constructor(gl) {
        this.gl = gl;
        this.size = 1;
        this.indexBuffer = gl.createBuffer();
        this.dataBuffer = gl.createBuffer();
        this.blendMode = 0;
        this.dynamicSize = 1;
    }
    Clean() { }
    ResizeBatch(size) {
        this.size = size;
        this.dynamicSize = size;
        this.data = new Float32Array(this.dynamicSize * 20);
        this.gl.bindBuffer(WebGLRenderingContext.ARRAY_BUFFER, this.dataBuffer);
        this.gl.bufferData(WebGLRenderingContext.ARRAY_BUFFER, this.data, WebGLRenderingContext.DYNAMIC_DRAW);
        this.indices = new Uint16Array(this.dynamicSize * 6);
        for (let i = 0; i < this.dynamicSize; i++) {
            const index2 = i * 6;
            const index3 = i * 4;
            this.indices[index2 + 0] = index3 + 0;
            this.indices[index2 + 1] = index3 + 1;
            this.indices[index2 + 2] = index3 + 2;
            this.indices[index2 + 3] = index3 + 0;
            this.indices[index2 + 4] = index3 + 2;
            this.indices[index2 + 5] = index3 + 3;
        }
        this.gl.bindBuffer(WebGLRenderingContext.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
        this.gl.bufferData(WebGLRenderingContext.ELEMENT_ARRAY_BUFFER, this.indices, WebGLRenderingContext.STATIC_DRAW);
    }
    Flush(shader, texture, size) {
        this.gl.bindBuffer(WebGLRenderingContext.ARRAY_BUFFER, this.dataBuffer);
        // this.gl.bufferData(WebGLRenderingContext.ARRAY_BUFFER,data,WebGLRenderingContext.STATIC_DRAW);
        this.gl.bufferSubData(WebGLRenderingContext.ARRAY_BUFFER, 0, this.data);
        this.gl.vertexAttribPointer(shader.attribute.aVertexPosition, 2, WebGLRenderingContext.FLOAT, false, 20, 0);
        this.gl.vertexAttribPointer(shader.attribute.aTextureCoord, 2, WebGLRenderingContext.FLOAT, false, 20, 8);
        this.gl.vertexAttribPointer(shader.attribute.aColor, 1, WebGLRenderingContext.FLOAT, false, 20, 16);
        this.gl.activeTexture(WebGLRenderingContext.TEXTURE0);
        this.gl.bindTexture(WebGLRenderingContext.TEXTURE_2D, texture);
        this.gl.drawElements(WebGLRenderingContext.TRIANGLES, size * 6, WebGLRenderingContext.UNSIGNED_SHORT, 0);
    }
    AddSpriteToBatch(sprite, indexRun) {
        const index = indexRun * 20;
        const frame = sprite.texture.frame;
        const tw = sprite.texture.baseTexture.width;
        const th = sprite.texture.baseTexture.height;
        const uvs = sprite.texture.uvs;
        //0
        //Verts
        this.data[index + 0] = sprite.transformedVerts[0];
        this.data[index + 1] = sprite.transformedVerts[1];
        //UV
        this.data[index + 2] = uvs[0]; //frame.x / tw;
        this.data[index + 3] = uvs[1]; //frame.y / th;
        //Colour
        this.data[index + 4] = sprite.worldAlpha;
        //1
        //Verts
        this.data[index + 5] = sprite.transformedVerts[2];
        this.data[index + 6] = sprite.transformedVerts[3];
        //UV
        this.data[index + 7] = uvs[2]; //(frame.x + frame.width) / tw;
        this.data[index + 8] = uvs[3]; //frame.y / th;
        //Colour
        this.data[index + 9] = sprite.worldAlpha;
        //2
        //Verts
        this.data[index + 10] = sprite.transformedVerts[4];
        this.data[index + 11] = sprite.transformedVerts[5];
        //UV
        this.data[index + 12] = uvs[4]; //(frame.x + frame.width) / tw;
        this.data[index + 13] = uvs[5]; //(frame.y + frame.height) / th;
        //Colour
        this.data[index + 14] = sprite.worldAlpha;
        //3
        //Verts
        this.data[index + 15] = sprite.transformedVerts[6];
        this.data[index + 16] = sprite.transformedVerts[7];
        //UV
        this.data[index + 17] = uvs[6]; //frame.x / tw;
        this.data[index + 18] = uvs[7]; //(frame.y + frame.height) / th;
        //Colour
        this.data[index + 19] = sprite.worldAlpha;
    }
    Render(shader, stage, clip) {
        // this.gl.useProgram(shader.program);
        var node;
        var stack;
        var top;
        node = stage;
        stack = new Array();
        stack[0] = node;
        top = 1;
        var indexRun = 0;
        var currentTexture = null;
        while (top > 0) {
            var thisNode = stack[--top];
            //If there is an adjacent node, push it to the stack
            if (thisNode.next != null)
                stack[top++] = thisNode.next; //Big assumption is only DisplayListContainers, which it is for now.
            //If there is a child list, push the head (this will get processed first)
            if (thisNode.head != null)
                stack[top++] = thisNode.head; //Same assumption.
            //return the result
            if (thisNode.visible && thisNode.renderable) {
                var sprite = thisNode;
                if (sprite.texture.baseTexture.texture != currentTexture || indexRun == this.size) {
                    this.Flush(shader, currentTexture, indexRun);
                    indexRun = 0;
                    currentTexture = sprite.texture.baseTexture.texture;
                }
                if (clip == null || sprite.aabb.intersect(clip)) {
                    this.AddSpriteToBatch(sprite, indexRun);
                    indexRun++;
                }
            }
        }
        if (indexRun > 0)
            this.Flush(shader, currentTexture, indexRun);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = WebGLBatch;



/***/ }),
/* 94 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["e"] = TMXdecodeLayer;
/* harmony export (immutable) */ __webpack_exports__["a"] = GetLayer;
/* harmony export (immutable) */ __webpack_exports__["b"] = GetTileSet;
/* harmony export (immutable) */ __webpack_exports__["d"] = LayerToCoordTexture;
/* harmony export (immutable) */ __webpack_exports__["c"] = LayerToCollisionData;
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ds_TypedArray2D__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ds_Bytes2D__ = __webpack_require__(95);


const decodeBase64 = function (input) {
    return window.atob(input.replace(/[^A-Za-z0-9\+\/\=]/g, ""));
};
const encode = function (input) {
    // make sure our input string has the right format
    return window.btoa(input.replace(/\r\n/g, "\n"));
};
const decodeBase64AsArray = function (input, bytes = 4) {
    var dec = decodeBase64(input), i, j, len;
    var ar = new Uint32Array(dec.length / bytes);
    for (i = 0, len = dec.length / bytes; i < len; i++) {
        ar[i] = 0;
        for (j = bytes - 1; j >= 0; --j) {
            ar[i] += dec.charCodeAt(i * bytes + j) << (j << 3);
        }
    }
    return ar;
};
function TMXdecodeLayer(layer) {
    const d = decodeBase64AsArray(layer.data);
    return new __WEBPACK_IMPORTED_MODULE_1__ds_Bytes2D__["a" /* Bytes2D */](layer.width, layer.height, 16, 4, d.buffer);
}
function GetLayer(map, name) {
    const layer = map.layers.filter(layer => layer.name === name);
    return layer.length === 1 ? layer[0] : null;
}
function GetTileSet(map, name) {
    const tileSet = map.tilesets.filter(tileSet => tileSet.name === name);
    return tileSet.length === 1 ? tileSet[0] : null;
}
function LayerToCoordTexture(layer) {
    //Assumes all tiles are from same set...function
    var tileSet = null;
    var textureData = new __WEBPACK_IMPORTED_MODULE_0__ds_TypedArray2D__["a" /* TypedArray2D */](layer.width, layer.height);
    for (var xp = 0; xp < layer.width; xp++) {
        for (var yp = 0; yp < layer.height; yp++) {
            var source = (layer.get(xp, yp, 3) << 24) |
                (layer.get(xp, yp, 2) << 16) |
                (layer.get(xp, yp, 1) << 8) |
                layer.get(xp, yp, 0);
            if (source > 0) {
                var superSet = Math.floor(source / 1024);
                var superY = Math.floor(superSet / 8);
                var superX = superSet % 8;
                var relativeID = source - superSet * 1024;
                relativeID--; //Not sure why ATM
                var y = Math.floor(relativeID / 32);
                var x = relativeID - 32 * y;
                var v = (superY << 24) | (superX << 16) | (y << 8) | x;
                textureData.set(xp, yp, v);
            }
            else {
                textureData.set(xp, yp, 0xffffffff);
            }
        }
    }
    return textureData;
}
function LayerToCollisionData(layer, guidOffset, tileSize) {
    //Assumes all tiles are from same set...function
    var collisionData = new __WEBPACK_IMPORTED_MODULE_1__ds_Bytes2D__["a" /* Bytes2D */](layer.width, layer.height, tileSize, 1);
    for (var xp = 0; xp < layer.width; xp++) {
        for (var yp = 0; yp < layer.height; yp++) {
            var source = layer.get(xp, yp, 0);
            if (source > 0) {
                var relativeID = source - guidOffset; //tileSet.firstGID;
                collisionData.set(xp, yp, 0, 1 << relativeID); //Implicit +1
            }
            else {
                collisionData.set(xp, yp, 0, 0);
            }
        }
    }
    for (var y = 0; y < 30; y++) {
        let row = "";
        for (var x = 0; x < 30; x++) {
            row += collisionData.get(x, y, 0) ? "X" : "0";
        }
    }
    return collisionData;
}


/***/ }),
/* 95 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Bytes2D {
    constructor(width, height, cellSize, bytesPerCell, data) {
        this.initalize(width, height, cellSize, bytesPerCell, data);
    }
    initalize(width, height, cellSize, bytesPerCell, data) {
        this.width = width;
        this.height = height;
        this.numberernalWidth = width * bytesPerCell;
        this.cellSize = cellSize;
        this.invCellSize = 1 / cellSize;
        this.bytesPerCell = bytesPerCell;
        if (data == null)
            this.data = new ArrayBuffer(width * height * bytesPerCell);
        else
            this.data = data;
        this.data8 = new Uint8Array(this.data);
    }
    get(x, y, offset) {
        return this.data8[y * this.numberernalWidth + x * this.bytesPerCell + offset];
    }
    set(x, y, offset, value) {
        this.data8[y * this.numberernalWidth + x * this.bytesPerCell + offset] = value;
    }
    getReal(x, y, offset) {
        return this.get(this.Index(x), this.Index(y), offset);
    }
    Index(value) {
        return (value * this.invCellSize) | 0;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Bytes2D;



/***/ }),
/* 96 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__TileLayer__ = __webpack_require__(97);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__TileLayerRenderProxy__ = __webpack_require__(98);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_ShaderWrapper__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ds_TypedArray2D__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__util_WebGLShaderUtil__ = __webpack_require__(32);






class TileMapRenderer {
    constructor(tileSize, tileScale) {
        this.tileSize = tileSize;
        this.tileScale = tileScale;
        this.layers = new Array();
        this.layersMap = new Map();
        this.renderLayers = new Array();
        this.renderLayersMap = new Map();
    }
    Init(gl, camera) {
        if (this.gl != null)
            return;
        this.gl = gl;
        this.camera = camera;
        //tileScale = 1.0;
        this.filtered = false;
        this.spriteSheet = this.gl.createTexture();
        this.viewportSize = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.scaledViewportSize = new Float32Array(2);
        this.inverseTileTextureSize = new Float32Array(2);
        this.inverseSpriteTextureSize = new Float32Array(2);
        this.quadVertBuffer = this.gl.createBuffer();
        this.gl.bindBuffer(WebGLRenderingContext.ARRAY_BUFFER, this.quadVertBuffer);
        var quadVerts = new Float32Array([
            -1,
            -1,
            0,
            1,
            1,
            -1,
            1,
            1,
            1,
            1,
            1,
            0,
            -1,
            -1,
            0,
            1,
            1,
            1,
            1,
            0,
            -1,
            1,
            0,
            0,
        ]);
        gl.bufferData(WebGLRenderingContext.ARRAY_BUFFER, quadVerts, WebGLRenderingContext.STATIC_DRAW);
        this.tilemapShader = new __WEBPACK_IMPORTED_MODULE_3__util_ShaderWrapper__["a" /* ShaderWrapper */](gl, __WEBPACK_IMPORTED_MODULE_5__util_WebGLShaderUtil__["a" /* CompileProgram */](gl, TileMapRenderer.TILEMAP_VERTEX_SHADER, TileMapRenderer.TILEMAP_FRAGMENT_SHADER));
        this.flip = false;
        this.writebuffer2 = new __WEBPACK_IMPORTED_MODULE_4__ds_TypedArray2D__["a" /* TypedArray2D */](3, 3); //Max 3x3 tileset changes
        this.renderLayers.forEach(renderLayer => renderLayer.Init(gl, camera));
    }
    Resize(width, height) {
        var expandedWidth = (Math.floor(width / (this.tileSize * this.tileScale)) + 2) * this.tileSize;
        var expandedHeight = (Math.floor(height / (this.tileSize * this.tileScale)) + 2) * this.tileSize;
        this.viewportSize.x = expandedWidth * this.tileScale;
        this.viewportSize.y = expandedHeight * this.tileScale;
        this.scaledViewportSize[0] = this.viewportSize.x / this.tileScale;
        this.scaledViewportSize[1] = this.viewportSize.y / this.tileScale;
        this.renderLayers.forEach(renderLayer => renderLayer.Resize(Math.floor(expandedWidth), Math.floor(expandedHeight)));
    }
    // public  TileScale(scale:Float) {
    //     this.tileScale = scale;
    //     scaledViewportSize[0] = viewportSize.x/scale;
    //     scaledViewportSize[1] = viewportSize.y/scale;
    // }
    SetSpriteSheet(image) {
        this.gl.bindTexture(WebGLRenderingContext.TEXTURE_2D, this.spriteSheet);
        this.gl.pixelStorei(WebGLRenderingContext.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 0);
        // gl.texParameteri(WebGLRenderingContext.TEXTURE_2D,WebGLRenderingContext.TEXTURE_MAG_FILTER,WebGLRenderingContext.NEAREST);
        // gl.texParameteri(WebGLRenderingContext.TEXTURE_2D,WebGLRenderingContext.TEXTURE_MIN_FILTER,WebGLRenderingContext.NEAREST);
        this.gl.texImage2D(WebGLRenderingContext.TEXTURE_2D, 0, WebGLRenderingContext.RGBA, WebGLRenderingContext.RGBA, WebGLRenderingContext.UNSIGNED_BYTE, image);
        if (!this.filtered) {
            this.gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_MAG_FILTER, WebGLRenderingContext.NEAREST);
            this.gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_MIN_FILTER, WebGLRenderingContext.NEAREST);
        }
        else {
            this.gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_MAG_FILTER, WebGLRenderingContext.LINEAR);
            this.gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_MIN_FILTER, WebGLRenderingContext.LINEAR); // Worth it to mipmap here?
        }
        this.inverseSpriteTextureSize[0] = 1 / image.width;
        this.inverseSpriteTextureSize[1] = 1 / image.height;
    }
    SetTileLayer(image, layerId, scrollScaleX, scrollScaleY) {
        var layer = new __WEBPACK_IMPORTED_MODULE_1__TileLayer__["a" /* TileLayer */]();
        layer.setTexture(this.gl, image, false);
        layer.scrollScale.x = scrollScaleX;
        layer.scrollScale.y = scrollScaleY;
        this.layers.push(layer);
    }
    SetTileLayerFromData(data, sprite, layerId, scrollScaleX, scrollScaleY) {
        var layer = new __WEBPACK_IMPORTED_MODULE_1__TileLayer__["a" /* TileLayer */]();
        layer.setTextureFromMap(this.gl, data);
        layer.setSpriteTexture(sprite);
        layer.scrollScale.x = scrollScaleX;
        layer.scrollScale.y = scrollScaleY;
        this.layers.push(layer);
        this.layersMap.set(layerId, layer);
    }
    SetTileRenderLayer(id, layers) {
        var tileRenderLayer = new __WEBPACK_IMPORTED_MODULE_2__TileLayerRenderProxy__["a" /* TileLayerRenderProxy */](this, layers);
        this.renderLayers.push(tileRenderLayer);
        this.renderLayersMap.set(id, tileRenderLayer);
    }
    updateMap(x, y, data) {
        var startX = data[0];
        var startY = data[1];
        var width = data[2];
        var height = data[3];
        var centerX = data[4];
        var centerY = data[5];
        var superY = Math.floor(data[6] / 8);
        var superX = data[6] % 8;
        this.writebuffer2.h = height;
        this.writebuffer2.w = width;
        for (var ypos = 0; ypos < height; ypos++) {
            // for (ypos in 0...height) {
            // for (xpos in 0...width) {
            for (var xpos = 0; xpos < width; xpos++) {
                var _x = startX + xpos;
                var _y = startY + ypos;
                var value = (superY << 24) | (superX << 16) | (_y << 8) | _x;
                this.writebuffer2.set(xpos, ypos, value);
            }
        }
        var writeLayer = this.layers[2].tileDataTexture;
        this.gl.bindTexture(WebGLRenderingContext.TEXTURE_2D, writeLayer);
        this.gl.texSubImage2D(WebGLRenderingContext.TEXTURE_2D, 0, x - centerX, y - centerY, width, height, WebGLRenderingContext.RGBA, WebGLRenderingContext.UNSIGNED_BYTE, this.writebuffer2.data8);
    }
    Render(clip) {
        this.renderLayers.forEach(renderLayer => renderLayer.Render(clip));
    }
    RenderLayers(renderLayer) {
        this.gl.clearColor(0.0, 0.0, 0.0, 0.0);
        this.gl.colorMask(true, true, true, true);
        this.gl.clear(WebGLRenderingContext.COLOR_BUFFER_BIT);
        this.gl.useProgram(this.tilemapShader.program);
        this.gl.bindBuffer(WebGLRenderingContext.ARRAY_BUFFER, this.quadVertBuffer);
        this.gl.enableVertexAttribArray(this.tilemapShader.attribute.position);
        this.gl.enableVertexAttribArray(this.tilemapShader.attribute.texture);
        this.gl.vertexAttribPointer(this.tilemapShader.attribute.position, 2, WebGLRenderingContext.FLOAT, false, 16, 0);
        this.gl.vertexAttribPointer(this.tilemapShader.attribute.texture, 2, WebGLRenderingContext.FLOAT, false, 16, 8);
        this.gl.uniform2fv(this.tilemapShader.uniform.viewportSize, this.scaledViewportSize);
        this.gl.uniform1f(this.tilemapShader.uniform.tileSize, this.tileSize);
        this.gl.uniform1f(this.tilemapShader.uniform.inverseTileSize, 1 / this.tileSize);
        this.gl.uniform1i(this.tilemapShader.uniform.sprites, 0);
        this.gl.uniform1i(this.tilemapShader.uniform.tiles, 1);
        // for (i in renderLayer.layers) {
        for (var i = 0; i < renderLayer.layers.length; i++) {
            // var layer = this.layers[i];
            const layer = this.layersMap.get(renderLayer.layers[i]);
            const pX = renderLayer.thisSnap.x / 2;
            const pY = renderLayer.thisSnap.y / 2;
            this.gl.uniform2f(this.tilemapShader.uniform.viewOffset, pX, pY);
            this.gl.uniform2fv(this.tilemapShader.uniform.inverseSpriteTextureSize, layer.inverseSpriteTextureSize);
            this.gl.uniform2fv(this.tilemapShader.uniform.inverseTileTextureSize, layer.inverseTileDataTextureSize);
            this.gl.activeTexture(WebGLRenderingContext.TEXTURE0);
            this.gl.bindTexture(WebGLRenderingContext.TEXTURE_2D, layer.spriteTexture);
            this.gl.activeTexture(WebGLRenderingContext.TEXTURE1);
            this.gl.bindTexture(WebGLRenderingContext.TEXTURE_2D, layer.tileDataTexture);
            this.gl.drawArrays(WebGLRenderingContext.TRIANGLES, 0, 6);
        }
        this.gl.colorMask(true, true, true, false);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = TileMapRenderer;

/*

256*8=2048

8x8 supertiles = 64 supertiles

of

16*16 8*8 pixel tiles = 256 tiles

total = 64 * 256 = 16k tiles

p.y = index % 8;
p.x = Math.floor(index / 8);

*/
TileMapRenderer.TILEMAP_VERTEX_SHADER = `
        precision mediump float;
        attribute vec2 position;
        attribute vec2 texture;

        varying vec2 pixelCoord;
        varying vec2 texCoord;

        uniform vec2 viewOffset;
        uniform vec2 viewportSize;
        uniform vec2 inverseTileTextureSize;
        uniform float inverseTileSize;

        void main(void) {
           pixelCoord = (texture * viewportSize) + viewOffset;
           texCoord = pixelCoord * inverseTileTextureSize * inverseTileSize;
           gl_Position = vec4(position, 0.0, 1.0);
        }`;
TileMapRenderer.TILEMAP_FRAGMENT_SHADER = `
        precision mediump float;

        varying vec2 pixelCoord;
        varying vec2 texCoord;

        uniform sampler2D tiles;
        uniform sampler2D sprites;

        uniform vec2 inverseTileTextureSize;
        uniform vec2 inverseSpriteTextureSize;
        uniform float tileSize;

        void main(void) {
           vec4 tile = texture2D(tiles, texCoord);
            // if(tile.x == 1.0 && tile.y == 1.0) { discard; }
            if (tile.x == 1.0 && tile.y == 1.0) { 
                discard;
                // gl_FragColor = vec4(0.0,0.0,0.0,0.0);
            } else {
                vec2 superSpriteOffset = floor(tile.zw * 256.0) * 256.0;
                vec2 spriteOffset = floor(tile.xy * 256.0) * tileSize;
                vec2 spriteCoord = mod(pixelCoord, tileSize);

                //Works
                //    spriteCoord.x = (-1.0+(2.0* 0.0)) * (( 0.0*tileSize) - spriteCoord.x); //normal  0
                //    spriteCoord.x = (-1.0+(2.0* 1.0)) * (( 1.0*tileSize) - spriteCoord.x); //flip   1

                gl_FragColor = texture2D(sprites, (superSpriteOffset + spriteOffset + spriteCoord) * inverseSpriteTextureSize);
            }
        }`;


/***/ }),
/* 97 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__ = __webpack_require__(0);

class TileLayer {
    constructor() {
        this.scrollScale = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */](1, 1);
        this.inverseTileDataTextureSize = new Float32Array(2);
        this.inverseSpriteTextureSize = new Float32Array(2);
    }
    setSpriteTexture(spriteTexture) {
        this.spriteTexture = spriteTexture.texture;
        this.inverseSpriteTextureSize[0] = 1 / spriteTexture.width;
        this.inverseSpriteTextureSize[1] = 1 / spriteTexture.height;
    }
    setTextureFromMap(gl, data) {
        if (this.tileDataTexture == null)
            this.tileDataTexture = gl.createTexture();
        gl.bindTexture(WebGLRenderingContext.TEXTURE_2D, this.tileDataTexture);
        gl.texImage2D(WebGLRenderingContext.TEXTURE_2D, 0, WebGLRenderingContext.RGBA, data.w, data.h, 0, WebGLRenderingContext.RGBA, WebGLRenderingContext.UNSIGNED_BYTE, data.data8);
        gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_MAG_FILTER, WebGLRenderingContext.NEAREST);
        gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_MIN_FILTER, WebGLRenderingContext.NEAREST);
        gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_WRAP_S, WebGLRenderingContext.CLAMP_TO_EDGE);
        gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_WRAP_T, WebGLRenderingContext.CLAMP_TO_EDGE);
        this.inverseTileDataTextureSize[0] = 1 / data.w;
        this.inverseTileDataTextureSize[1] = 1 / data.h;
    }
    setTexture(gl, image, repeat) {
        if (this.tileDataTexture == null)
            this.tileDataTexture = gl.createTexture();
        gl.bindTexture(WebGLRenderingContext.TEXTURE_2D, this.tileDataTexture);
        gl.texImage2D(WebGLRenderingContext.TEXTURE_2D, 0, WebGLRenderingContext.RGBA, WebGLRenderingContext.RGBA, WebGLRenderingContext.UNSIGNED_BYTE, image);
        gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_MAG_FILTER, WebGLRenderingContext.NEAREST);
        gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_MIN_FILTER, WebGLRenderingContext.NEAREST);
        if (repeat) {
            gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_WRAP_S, WebGLRenderingContext.REPEAT);
            gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_WRAP_T, WebGLRenderingContext.REPEAT);
        }
        else {
            gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_WRAP_S, WebGLRenderingContext.CLAMP_TO_EDGE);
            gl.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGLRenderingContext.TEXTURE_WRAP_T, WebGLRenderingContext.CLAMP_TO_EDGE);
        }
        this.inverseTileDataTextureSize[0] = 1 / image.width;
        this.inverseTileDataTextureSize[1] = 1 / image.height;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = TileLayer;



/***/ }),
/* 98 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__texture_BaseTexture__ = __webpack_require__(49);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__texture_Texture__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__displaylist_Sprite__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__geom_Rectangle__ = __webpack_require__(31);





//TODO: Get rid of this class eventually
//Its only to be able to split the tilemap renderer in the short term
class TileLayerRenderProxy {
    constructor(tileMap, layers) {
        this.tileMap = tileMap;
        this.layers = layers;
        this.lastSnap = new __WEBPACK_IMPORTED_MODULE_3__geom_Vector2__["a" /* Vector2 */](0, 0);
        this.thisSnap = new __WEBPACK_IMPORTED_MODULE_3__geom_Vector2__["a" /* Vector2 */](-1000, -1000);
        this.snapChanged = false;
        this.size = new __WEBPACK_IMPORTED_MODULE_3__geom_Vector2__["a" /* Vector2 */]();
        this.renderSurface = this.renderSurface.bind(this);
    }
    Init(gl, camera) {
        this.sprite = new __WEBPACK_IMPORTED_MODULE_2__displaylist_Sprite__["a" /* Sprite */]();
        this.sprite.id = "renderTexture";
    }
    Resize(width, height) {
        this.size.setTo(width, height);
        this.surface = new __WEBPACK_IMPORTED_MODULE_0__texture_BaseTexture__["a" /* BaseTexture */](this.tileMap.gl, width, height);
        this.texture = new __WEBPACK_IMPORTED_MODULE_1__texture_Texture__["a" /* Texture */](this.surface, new __WEBPACK_IMPORTED_MODULE_4__geom_Rectangle__["a" /* Rectangle */](0, 0, width, height), new __WEBPACK_IMPORTED_MODULE_3__geom_Vector2__["a" /* Vector2 */](0, 0));
        this.sprite.texture = this.texture;
        this.sprite.scale.setTo(2, -2);
        this.sprite.pivot.setTo(width / 2, height / 2);
    }
    calcSnap(cameraPos) {
        this.lastSnap.copy(this.thisSnap);
        this.thisSnap.x = (Math.floor(cameraPos.x / -16) - 1) * 16;
        this.thisSnap.y = (Math.floor(cameraPos.y / -16) - 1) * 16;
        this.snapChanged = this.lastSnap.x != this.thisSnap.x || this.lastSnap.y != this.thisSnap.y;
        return this.snapChanged;
    }
    Render(clip) {
        // if (calcSnap(tileMap.camera.position)) {
        this.calcSnap(this.tileMap.camera.position);
        this.sprite.position.copy(this.size);
        this.sprite.position.plusEquals(this.thisSnap);
        // sprite.position.setTo(416+thisSnap.x,336+thisSnap.y);
        this.surface.drawTo(this.renderSurface);
        // }
    }
    renderSurface() {
        this.tileMap.RenderLayers(this);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = TileLayerRenderProxy;



/***/ }),
/* 99 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Graphics__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_GraphicsAnimation__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__animation_AnimationController__ = __webpack_require__(100);





class AnimationSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor(frameListManager) {
        super([__WEBPACK_IMPORTED_MODULE_1__core_components_Position__["a" /* Position */], __WEBPACK_IMPORTED_MODULE_2__components_Graphics__["a" /* Graphics */], __WEBPACK_IMPORTED_MODULE_3__components_GraphicsAnimation__["a" /* GraphicsAnimation */]]);
        this.frameListManager = frameListManager;
    }
    onEntityAdded(entity, position, graphics, graphicsAnimation) {
        const newAnimation = this.frameListManager
            .getFrameList(graphicsAnimation.frameListId)
            .getAnimation(graphicsAnimation.animationId);
        graphicsAnimation.dirty = false;
        graphicsAnimation.animationController = new __WEBPACK_IMPORTED_MODULE_4__animation_AnimationController__["a" /* AnimationController */](newAnimation);
    }
    updateEntity(entity, position, graphics, graphicsAnimation) {
        if (graphicsAnimation.dirty)
            this.playAnimation(graphicsAnimation);
        graphicsAnimation.animationController
            .update(this.dt)
            .updateSprite(graphics.sprite, position.direction.x, position.direction.y);
    }
    playAnimation(graphicsAnimation) {
        graphicsAnimation.dirty = false;
        const animation = this.frameListManager
            .getFrameList(graphicsAnimation.frameListId)
            .getAnimation(graphicsAnimation.animationId);
        graphicsAnimation.animationController.play(animation);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = AnimationSystem;



/***/ }),
/* 100 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class AnimationController {
    constructor(animation) {
        this.play(animation);
    }
    update(dt) {
        this.accumulatedTime += dt;
        if (this.accumulatedTime > this.animation.msPerFrame) {
            this.frameIndex = ++this.frameIndex % this.animation.length;
            this.accumulatedTime = 0;
        }
        return this.animation.frames[this.frameIndex];
    }
    play(animation) {
        this.animation = animation;
        this.frameIndex = 0;
        this.accumulatedTime = 0;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = AnimationController;



/***/ }),
/* 101 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__geom_Segment__ = __webpack_require__(102);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Contact__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Intersect__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__geom_Plane__ = __webpack_require__(103);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__geom_AABB__ = __webpack_require__(22);






const SOLID = 0x1 << 0;
const ONE_WAY = 0x1 << 1;
const STEP = 0x1 << 2;
const AABBCOLLIDABLE = SOLID | ONE_WAY | STEP;
const ONE_WAY_TOLLERANCE = -4.0;
const CORRECTION = 0.0;
const ROUNDDOWN = 0.01;
const ROUNDUP = 0.5;
class TileMapCollision {
    // public  debug:Int->Int->Void;
    constructor(data) {
        this.tilePosition = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.tileExtents = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.halftilePosition = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.halftileExtents = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.bias = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */](1, 1);
        this.step = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */](0, -1);
        this.plane = new __WEBPACK_IMPORTED_MODULE_4__geom_Plane__["a" /* Plane */]();
        this.segment = new __WEBPACK_IMPORTED_MODULE_1__geom_Segment__["a" /* Segment */]();
        this.data = data;
        this.tileSize = data.cellSize;
        this.tileHalfSize = this.tileSize / 2;
        this.tileExtents.setTo(this.tileHalfSize, this.tileHalfSize);
        this.halftileExtents.setTo(this.tileHalfSize / 4, this.tileHalfSize / 4);
        this.contact = new __WEBPACK_IMPORTED_MODULE_2__Contact__["a" /* Contact */]();
        this.closestContact = new __WEBPACK_IMPORTED_MODULE_2__Contact__["a" /* Contact */]();
    }
    //TODO
    //Can be improved
    testCollision(proxy) {
        var body = proxy.body;
        var startX = this.data.Index(Math.min(body.position.x, body.predictedPosition.x) - proxy.aabb.extents.x - CORRECTION);
        var startY = this.data.Index(Math.min(body.position.y, body.predictedPosition.y) - proxy.aabb.extents.y - CORRECTION);
        var endX = this.data.Index(Math.max(body.position.x, body.predictedPosition.x) + proxy.aabb.extents.x + CORRECTION - ROUNDDOWN) + 1;
        var endY = this.data.Index(Math.max(body.position.y, body.predictedPosition.y) + proxy.aabb.extents.y + CORRECTION) +
            1;
        var c = 0;
        if (body.isBullet) {
            this.plane.setFromSegment(body.predictedPosition, body.position);
            this.closestContact.time = Number.POSITIVE_INFINITY;
            for (var y = startY; y < endY; y++) {
                for (var x = startX; x < endX; x++) {
                    var cell = this.data.get(x, y, 0);
                    //Bullets dont collide with 1 ways at all
                    if ((cell & SOLID) == 1 && (cell & ONE_WAY) == 0) {
                        this.tilePosition.x = x * this.tileSize + this.tileHalfSize;
                        this.tilePosition.y = y * this.tileSize + this.tileHalfSize;
                        //yuk fix this,
                        c++;
                        if (Math.abs(this.plane.distancePoint(this.tilePosition)) < 40) {
                            if (Object(__WEBPACK_IMPORTED_MODULE_3__Intersect__["f" /* StaticAABBvsSweeptAABB */])(this.tilePosition, this.tileExtents, body.position, proxy.aabb.extents, body.delta, this.contact) == true) {
                                if (body.respondBulletCollision(this.contact)) {
                                    this.closestContact.setTo(this.contact);
                                }
                            }
                        }
                    }
                }
            }
            if (this.closestContact.time < Number.POSITIVE_INFINITY) {
                proxy.collide(null, this.contact);
            }
        }
        else {
            // plane.setFromSegment(body.predictedPosition,body.position);
            for (var y = startY; y < endY; y++) {
                for (var x = startX; x < endX; x++) {
                    var cell = this.data.get(x, y, 0);
                    if ((cell & AABBCOLLIDABLE) > 0) {
                        this.tilePosition.x = x * this.tileSize + this.tileHalfSize;
                        this.tilePosition.y = y * this.tileSize + this.tileHalfSize;
                        if ((cell & STEP) == STEP && body.usesStairs) {
                            this.segment.set(body.position, body.predictedPosition);
                            // js.Lib.debug();
                            //-4,+4
                            //+4,-4
                            //step 8
                            var stairstep = 2;
                            // var stairSize = 4;
                            // var startStair = -6;
                            for (var stair = 0; stair < 8; stair++) {
                                var p = 8 - stair * stairstep;
                                this.halftilePosition.copy(this.tilePosition);
                                this.halftilePosition.x += p * -1;
                                this.halftilePosition.y += p;
                                if (Object(__WEBPACK_IMPORTED_MODULE_3__Intersect__["d" /* IsSegVsAABB */])(this.segment, this.halftilePosition, this.halftileExtents, proxy.aabb.extents.x, proxy.aabb.extents.y)) {
                                    Object(__WEBPACK_IMPORTED_MODULE_3__Intersect__["b" /* AABBvsStaticSolidAABBFixedNormal */])(body.position, proxy.aabb.extents, this.halftilePosition, this.halftileExtents, this.step, this.contact);
                                    body.respondStaticCollision(this.contact);
                                    proxy.collide(null, this.contact);
                                }
                            }
                            // Intersect.AABBvsStaticSolidAABBSlope(body.position,proxy.aabb.extents,tilePosition,tileExtents,bias,contact);
                        }
                        else {
                            Object(__WEBPACK_IMPORTED_MODULE_3__Intersect__["a" /* AABBvsStaticSolidAABB */])(body.position, proxy.aabb.extents, this.tilePosition, this.tileExtents, this.bias, this.contact);
                            // }
                            //if (Intersect.AABBvsStaticSolidAABB(body.position,proxy.aabb.extents,tilePosition,tileExtents,bias,contact)==true) {
                            //Check for 1 way platform?
                            if ((cell & ONE_WAY) == ONE_WAY) {
                                if (body.collideOneWay &&
                                    this.contact.normal.y < 0 &&
                                    this.contact.distance >= ONE_WAY_TOLLERANCE) {
                                    body.respondStaticCollision(this.contact);
                                    proxy.collide(null, this.contact);
                                }
                                // if ( contact.normal.x!=0 && contact.distance<16) {
                                //     contact.normal.setTo(0,-1);
                                // }
                                // body.respondStaticCollision(contact);
                            }
                            else {
                                var nextX = x + this.contact.normal.x;
                                var nextY = y + this.contact.normal.y;
                                var nextCell = this.data.get(nextX, nextY, 0);
                                if ((nextCell & AABBCOLLIDABLE) == 0) {
                                    body.respondStaticCollision(this.contact);
                                    proxy.collide(null, this.contact);
                                }
                            }
                        }
                        // if (cell&ONE_WAY==0 || ( contact.normal.y<0&&contact.distance>=-4 ) )
                        // {
                        // var nextX:Int = x + Std.int(contact.normal.x);
                        // var nextY:Int = y + Std.int(contact.normal.y);
                        // var nextCell = data.get(nextX,nextY,0);
                        // if (nextCell&AABBCOLLIDABLE==0) {
                        //     body.respondStaticCollision(contact);
                        //     proxy.collide(null,contact);
                        // }
                        // }
                        //}
                    }
                }
            }
        }
        // trace(c);
        // if (c>100) {
        //     trace(startX,endX,startX,endY);
        //     js.Lib.debug();
        // }
        // plane.setFromSegment(body.predictedPosition,body.position);
        // for (x in startX...endX) {
        //     for (y in startY...endY) {
        //         var cell = data.get(x,y,1);
        //         if (cell&COLLIDABLE==1) {
        //             tilePosition.x = (x*tileSize)+tileHalfSize;
        //             tilePosition.y = (y*tileSize)+tileHalfSize;
        //             if (body.isBullet) {
        //                 //FIXME
        //                 if (Math.abs(plane.distancePoint(tilePosition))<40) {
        //                     if (Intersect.StaticAABBvsSweeptAABB(tilePosition,tileExtents,body.position,proxy.aabb.extents,body.delta,contact)==true) {
        //                         body.respondBulletCollision(contact);
        //                         if (proxy.contactCallback!=null) {
        //                             proxy.contactCallback(proxy,null,contact);
        //                         }
        //                     }
        //                 }
        //             } else {
        //                 if (Intersect.AABBvsStaticSolidAABB(body.position,proxy.aabb.extents,tilePosition,tileExtents,contact)==true) {
        //                     var nextX:Int = x + Std.int(contact.normal.x);
        //                     var nextY:Int = y + Std.int(contact.normal.y);
        //                     var nextCell = data.get(nextX,nextY,1);
        //                     if (nextCell&COLLIDABLE==0) {
        //                         body.respondStaticCollision(contact);
        //                         if (proxy.contactCallback!=null) {
        //                             proxy.contactCallback(proxy,null,contact);
        //                         }
        //                     } else {
        //                     }
        //                 }
        //             }
        //         }
        //     }
        // }
    }
    iterateCells(aabb, cb) {
        var startX = this.data.Index(aabb.l);
        var startY = this.data.Index(aabb.t);
        var endX = this.data.Index(aabb.r) + 1;
        var endY = this.data.Index(aabb.b) + 1;
        var aabbArg = new __WEBPACK_IMPORTED_MODULE_5__geom_AABB__["a" /* AABB */]();
        aabbArg.extents.setTo(this.tileHalfSize, this.tileHalfSize);
        for (var y = startY; y < endY; y++) {
            for (var x = startX; x < endX; x++) {
                // for (x in startX...endX) {
                //     for (y in startY...endY) {
                var cell = this.data.get(x, y, 0);
                if ((cell & SOLID) == SOLID) {
                    aabbArg.position.setTo((x * this.tileSize) + this.tileHalfSize, (y * this.tileSize) + this.tileHalfSize);
                    cb(aabbArg);
                }
            }
        }
    }
    castRay(ray) {
        var x = this.data.Index(ray.origin.x);
        var y = this.data.Index(ray.origin.y);
        var cX = x * this.tileSize;
        var cY = y * this.tileSize;
        var d = ray.direction;
        if (d.x == 0.0 && d.y == 0.0)
            return true;
        var stepX = 0;
        var tMaxX = 100000000;
        var tDeltaX = 0;
        if (d.x < 0) {
            stepX = -1;
            tMaxX = (cX - ray.origin.x) / d.x;
            tDeltaX = this.tileSize / -d.x;
        }
        else if (d.x > 0) {
            stepX = 1;
            tMaxX = (cX + this.tileSize - ray.origin.x) / d.x;
            tDeltaX = this.tileSize / d.x;
        }
        var stepY = 0;
        var tMaxY = 100000000;
        var tDeltaY = 0;
        if (d.y < 0) {
            stepY = -1;
            tMaxY = (cY - ray.origin.y) / d.y;
            tDeltaY = this.tileSize / -d.y;
        }
        else if (d.y > 0) {
            stepY = 1;
            tMaxY = (cY + this.tileSize - ray.origin.y) / d.y;
            tDeltaY = this.tileSize / d.y;
        }
        var distX = 0.0;
        var distY = 0.0;
        var transitionEdgeNormalX = 0;
        var transitionEdgeNormalY = 0;
        while (true) {
            if (tMaxX < tMaxY) {
                distX = tMaxX * d.x;
                distY = tMaxX * d.y;
                tMaxX += tDeltaX;
                x += stepX;
            }
            else {
                distX = tMaxY * d.x;
                distY = tMaxY * d.y;
                tMaxY += tDeltaY;
                y += stepY;
            }
            if (distX * distX + distY * distY > ray.range * ray.range)
                return false;
            var tile = this.data.get(x, y, 0);
            if ((tile & SOLID) == SOLID) {
                if (tMaxX < tMaxY) {
                    transitionEdgeNormalX = stepX < 0 ? 1 : -1;
                    transitionEdgeNormalY = 0;
                }
                else {
                    transitionEdgeNormalX = 0;
                    transitionEdgeNormalY = stepY < 0 ? 1 : -1;
                }
                ray.report(distX, distY, transitionEdgeNormalX, transitionEdgeNormalY);
                return true;
            }
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = TileMapCollision;



/***/ }),
/* 102 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Vector2__ = __webpack_require__(0);

class Segment {
    constructor() {
        this.start = new __WEBPACK_IMPORTED_MODULE_0__Vector2__["a" /* Vector2 */]();
        this.end = new __WEBPACK_IMPORTED_MODULE_0__Vector2__["a" /* Vector2 */]();
        this.delta = new __WEBPACK_IMPORTED_MODULE_0__Vector2__["a" /* Vector2 */]();
        this.scale = new __WEBPACK_IMPORTED_MODULE_0__Vector2__["a" /* Vector2 */]();
        this.sign = new __WEBPACK_IMPORTED_MODULE_0__Vector2__["a" /* Vector2 */]();
    }
    set(s, e) {
        this.start.copy(s);
        this.end.copy(e);
        this.delta.copy(this.end);
        this.delta.minusEquals(this.start);
        this.scale.setTo(1 / this.delta.x, 1 / this.delta.y);
        this.sign.x = this.delta.x < 0 ? -1 : 1;
        this.sign.y = this.delta.y < 0 ? -1 : 1;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Segment;



/***/ }),
/* 103 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Vector2__ = __webpack_require__(0);

class Plane {
    constructor() {
        this.n = new __WEBPACK_IMPORTED_MODULE_0__Vector2__["a" /* Vector2 */]();
        this.d = 0;
    }
    set(n, q) {
        this.n.copy(n);
        this.d = this.n.dot(q);
    }
    setFromSegment(s, e) {
        this.n.copy(s);
        this.n.minusEquals(e);
        this.n.normalize();
        this.n.leftHandNormalEquals();
        this.d = this.n.dot(s);
    }
    distancePoint(q) {
        return this.n.dot(q) - this.d;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Plane;



/***/ }),
/* 104 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_components_Fixed__ = __webpack_require__(13);





class PhysicsStaticSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor(broadphase) {
        super([__WEBPACK_IMPORTED_MODULE_2__core_components_Position__["a" /* Position */], __WEBPACK_IMPORTED_MODULE_1__core_components_Extents__["a" /* Extents */], __WEBPACK_IMPORTED_MODULE_3__components_PhysicsCollision__["a" /* PhysicsCollision */], __WEBPACK_IMPORTED_MODULE_4__core_components_Fixed__["a" /* Fixed */]]);
        this.broadphase = broadphase;
    }
    onEntityAdded(entity, position, extents, physicsCollision, fixed) {
        // position.updatePosition = setPosition;
        physicsCollision.proxy.aabb.extents.copy(extents.halfWidths);
        physicsCollision.proxy.entity = entity;
        physicsCollision.proxy.isStatic = true;
        physicsCollision.proxy.aabb.position = position.coords; //Because its not linked to a body
        this.broadphase.addProxy(physicsCollision.proxy);
    }
    onEntityRemoved(entity, position, extents, physicsCollision, fixed) {
        this.broadphase.removeProxy(physicsCollision.proxy);
    }
    updateAllEntities() { }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = PhysicsStaticSystem;



/***/ }),
/* 105 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__geom_AABB__ = __webpack_require__(22);


class BFProxy {
    constructor() {
        this.isStatic = false;
        this.isSensor = false;
        this.isActive = true;
        this.limitToStaticCheck = false;
        this.userData1 = -1;
        this.userData2 = -1;
        this.contactCallbacks = [];
        this.aabb = new __WEBPACK_IMPORTED_MODULE_1__geom_AABB__["a" /* AABB */]();
        this.offset = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.responseBias = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */](1, 1);
        this.id = BFProxy.nextID++;
    }
    setBody(body) {
        this.body = body;
        this.aabb.position = body.position;
        this.isStatic = false; //bodies are always dynamic
    }
    collide(proxy, contact) {
        this.contactCallbacks.forEach(callback => callback(this, proxy, contact));
    }
    // public static inline  CreateStaticFeature(x:Float,y:Float,hw:Float,hh:Float,filter:Filter):BFProxy {
    //     var bfproxy = new BFProxy();
    //     bfproxy.aabb.extents.setTo(hw,hh);
    //     bfproxy.filter = filter;
    //     bfproxy.aabb.position.setTo(x,y);
    //     bfproxy.isStatic = true;
    //     return bfproxy;
    // }
    static HashBodyIDs(a, b) {
        return a < b ? (a << 16) | b : (b << 16) | a;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = BFProxy;

BFProxy.nextID = 0;


/***/ }),
/* 106 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_components_Moveable__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ecs_System__ = __webpack_require__(1);





class PhysicsMoveableSystem extends __WEBPACK_IMPORTED_MODULE_4__ecs_System__["a" /* System */] {
    constructor(broadphase) {
        super([__WEBPACK_IMPORTED_MODULE_0__core_components_Position__["a" /* Position */], __WEBPACK_IMPORTED_MODULE_1__core_components_Extents__["a" /* Extents */], __WEBPACK_IMPORTED_MODULE_2__components_PhysicsCollision__["a" /* PhysicsCollision */], __WEBPACK_IMPORTED_MODULE_3__core_components_Moveable__["a" /* Moveable */]]);
        this.broadphase = broadphase;
    }
    onEntityAdded(entity, position, extents, physicsCollision, moveable) {
        physicsCollision.proxy.aabb.extents.copy(extents.halfWidths);
        physicsCollision.proxy.isStatic = false;
        physicsCollision.proxy.entity = entity;
        physicsCollision.proxy.aabb.position = position.coords; //Because its not linked to a body BUT it could cause an issue?
        physicsCollision.proxy.userData1 = entity;
        this.broadphase.addProxy(physicsCollision.proxy);
    }
    onEntityRemoved(entity, position, extents, physicsCollision, moveable) {
        this.broadphase.removeProxy(physicsCollision.proxy);
    }
    updateAllEntities() { }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = PhysicsMoveableSystem;



/***/ }),
/* 107 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_PhysicsBody__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_components_Moveable__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ecs_System__ = __webpack_require__(1);




class PhysicsCollisionSystem extends __WEBPACK_IMPORTED_MODULE_3__ecs_System__["a" /* System */] {
    constructor(broadphase) {
        super([__WEBPACK_IMPORTED_MODULE_0__components_PhysicsCollision__["a" /* PhysicsCollision */], __WEBPACK_IMPORTED_MODULE_1__components_PhysicsBody__["a" /* PhysicsBody */], __WEBPACK_IMPORTED_MODULE_2__core_components_Moveable__["a" /* Moveable */]]);
        this.broadphase = broadphase;
    }
    onEntityAdded(entity, physicsCollision, physicsBody, moveable) {
        //All this really does is add the body to the proxy and run the physics
        physicsCollision.proxy.setBody(physicsBody.body);
    }
    updateAllEntities() {
        this.broadphase.collide();
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = PhysicsCollisionSystem;



/***/ }),
/* 108 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_PhysicsBody__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_components_Extents__ = __webpack_require__(5);



class PhysicsMassSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor() {
        super([__WEBPACK_IMPORTED_MODULE_1__components_PhysicsBody__["a" /* PhysicsBody */], __WEBPACK_IMPORTED_MODULE_2__core_components_Extents__["a" /* Extents */]]);
    }
    onEntityAdded(entity, physicsBody, extents) {
        if (physicsBody.setMassFromVolume) {
            physicsBody.body.setMassFromVolumeMaterial(extents.halfWidths.x * extents.halfWidths.y * 4);
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = PhysicsMassSystem;



/***/ }),
/* 109 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_PhysicsBody__ = __webpack_require__(6);



class PhysicsPositionSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor() {
        super([__WEBPACK_IMPORTED_MODULE_1__core_components_Position__["a" /* Position */], __WEBPACK_IMPORTED_MODULE_2__components_PhysicsBody__["a" /* PhysicsBody */]]);
    }
    updateEntity(entity, position, physicsBody) {
        physicsBody.body.updatePosition();
        position.update(physicsBody.body.position);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = PhysicsPositionSystem;



/***/ }),
/* 110 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_PhysicsBody__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_components_Active__ = __webpack_require__(4);





class PhysicsUpdateSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor() {
        super([__WEBPACK_IMPORTED_MODULE_2__core_components_Position__["a" /* Position */], __WEBPACK_IMPORTED_MODULE_3__components_PhysicsBody__["a" /* PhysicsBody */], __WEBPACK_IMPORTED_MODULE_4__core_components_Active__["a" /* Active */]]);
        this.globalForce = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */](0, 30);
        this.globalDamping = 0.99;
    }
    onEntityAdded(entity, position, physicsBody, active) {
        physicsBody.body.position.copy(position.coords);
    }
    updateEntity(entity, position, physicsBody, active) {
        physicsBody.body.update(this.dt / 1000, this.globalForce, this.globalDamping);
        position.direction.x = physicsBody.body.velocity.x > 0 ? 1 : -1;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = PhysicsUpdateSystem;



/***/ }),
/* 111 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__physics_components_PhysicsBody__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Controllable__ = __webpack_require__(112);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ecs_System__ = __webpack_require__(1);



class ControllerSystem extends __WEBPACK_IMPORTED_MODULE_2__ecs_System__["a" /* System */] {
    constructor(input) {
        super([__WEBPACK_IMPORTED_MODULE_0__physics_components_PhysicsBody__["a" /* PhysicsBody */], __WEBPACK_IMPORTED_MODULE_1__components_Controllable__["a" /* Controllable */]]);
        this.input = input;
    }
    onEntityAdded(entity, physicsBody, controllable) { }
    updateEntity(entity, physicsBody, controllable) {
        this.input.Pressed(38) ? (physicsBody.body.velocity.y -= controllable.force) : 0;
        this.input.Pressed(40) ? (physicsBody.body.velocity.y += controllable.force) : 0;
        this.input.Pressed(37) ? (physicsBody.body.velocity.x -= controllable.force) : 0;
        this.input.Pressed(39) ? (physicsBody.body.velocity.x += controllable.force) : 0;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = ControllerSystem;



/***/ }),
/* 112 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Controllable {
    constructor(force) {
        this.force = 1;
        this.force = force;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Controllable;



/***/ }),
/* 113 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_TileGraphics__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_components_Position__ = __webpack_require__(3);



class TileGraphicsRenderSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor(tileFramesConfig, tileMap, map) {
        super([__WEBPACK_IMPORTED_MODULE_2__core_components_Position__["a" /* Position */], __WEBPACK_IMPORTED_MODULE_1__components_TileGraphics__["a" /* TileGraphics */]]);
        this.updates = new Array();
        this.frames = new Map();
        this.tileMap = tileMap;
        this.map = map;
        this.parseFramesConfig(tileFramesConfig);
    }
    //Format
    // "switchOn":[x,y,w,h,cx,cy] 64 32 32 32 32
    //                               5  4 4 4 4
    //                              16 12 8 4 0
    parseFramesConfig(config) {
        var data = JSON.parse(config);
        data.sheets.forEach((sheet, i) => {
            Object.keys(sheet).forEach(frameId => {
                sheet[frameId].push(i);
                this.frames.set(frameId, sheet[frameId]);
            });
        });
    }
    onEntityAdded(entity, position, tileGraphics) {
        tileGraphics.onChange = this.onChange.bind(this, entity);
        if (tileGraphics.tileFrameId != null)
            this.onChange(entity);
    }
    onChange(entity) {
        this.updates.push(entity);
    }
    updateAllEntities() {
        while (this.updates.length > 0) {
            var entity = this.updates.pop();
            var position = this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_2__core_components_Position__["a" /* Position */]);
            var tileDisplay = this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_1__components_TileGraphics__["a" /* TileGraphics */]);
            if (tileDisplay.tileFrameId != "")
                this.tileMap.updateMap(this.map.data.Index(position.coords.x), this.map.data.Index(position.coords.y), this.frames.get(tileDisplay.tileFrameId));
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = TileGraphicsRenderSystem;



/***/ }),
/* 114 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__graphics_render_particle_PointBlockParticleRender__ = __webpack_require__(115);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__BlockParticle__ = __webpack_require__(116);



class BlockParticleEngine2 {
    constructor(particleCount, deltaTime, map) {
        this.particleCount = particleCount;
        this.deltaTime = deltaTime;
        this.invDeltaTime = deltaTime / 1000;
        this.map = map;
        this.ZERO_FORCE = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]();
        this.activeParticles = new Array();
        this.activeParticles[0] = new Array(this.particleCount);
        this.activeParticles[1] = new Array(this.particleCount);
        this.cachedParticles = new Array(this.particleCount);
        for (let i = 0; i < particleCount; i++) {
            this.cachedParticles[i] = new __WEBPACK_IMPORTED_MODULE_2__BlockParticle__["a" /* BlockParticle */]();
        }
        this.availableParticleCount = this.particleCount;
        this.activeParticlesCount = 0;
        this.activePool = 0;
        this.renderer = new __WEBPACK_IMPORTED_MODULE_0__graphics_render_particle_PointBlockParticleRender__["a" /* PointBlockParticleRender */](particleCount);
    }
    EmitParticle(x, y, vX, vY, fX, fY, ttl, damping, decayable, top, externalForce, data1, data2, data3, data4, data5) {
        if (this.availableParticleCount == 0)
            return false;
        var particle = this.cachedParticles[--this.availableParticleCount];
        this.activeParticles[this.activePool][this.activeParticlesCount++] = particle;
        particle.Initalize(x, y, vX, vY, fX, fY, ttl, damping, decayable ? this.deltaTime / ttl : 0, top, externalForce != null ? externalForce : this.ZERO_FORCE, data1, data2, data3, data4, data5);
        return true;
    }
    Update() {
        this.renderer.ResetBatch();
        const poolA = this.activeParticles[this.activePool];
        const poolB = this.activeParticles[this.activePool === 1 ? 0 : 1];
        let newCount = 0;
        for (var i = 0; i < this.activeParticlesCount; i++) {
            const particle = poolA[i];
            if (particle.Update(this.deltaTime, this.invDeltaTime) &&
                (this.map.getReal(particle.pX, particle.pY, 0) & 1) != 1) {
                this.renderer.AddSpriteToBatch(particle.pX, particle.pY, particle.size, (particle.alpha * 255) | 0, particle.red, particle.green, particle.blue);
                poolB[newCount++] = particle;
            }
            else {
                this.cachedParticles[this.availableParticleCount++] = particle;
            }
        }
        this.activeParticlesCount = newCount;
        this.activePool = this.activePool === 1 ? 0 : 1;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = BlockParticleEngine2;



/***/ }),
/* 115 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_ShaderWrapper__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_WebGLShaderUtil__ = __webpack_require__(32);



class PointBlockParticleRender {
    constructor(size) {
        this.first = true;
        this.maxSprites = size;
    }
    Init(gl, camera) {
        this.gl = gl;
        this.camera = camera;
        this.projection = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.pointSpriteShader = new __WEBPACK_IMPORTED_MODULE_1__util_ShaderWrapper__["a" /* ShaderWrapper */](gl, Object(__WEBPACK_IMPORTED_MODULE_2__util_WebGLShaderUtil__["a" /* CompileProgram */])(gl, PointBlockParticleRender.SPRITE_VERTEX_SHADER, PointBlockParticleRender.SPRITE_FRAGMENT_SHADER));
        this.dataBuffer = this.gl.createBuffer();
        this.arrayBuffer = new ArrayBuffer(20 * 4 * this.maxSprites);
        this.data = new Float32Array(this.arrayBuffer);
        this.data8 = new Uint8ClampedArray(this.arrayBuffer);
        this.gl.bindBuffer(WebGLRenderingContext.ARRAY_BUFFER, this.dataBuffer);
        this.gl.bufferData(WebGLRenderingContext.ARRAY_BUFFER, this.data, WebGLRenderingContext.DYNAMIC_DRAW);
        this.ResetBatch();
    }
    Resize(width, height) {
        this.projection.x = width / 2;
        this.projection.y = height / 2;
    }
    AddStage(stage) {
        this.stage = stage;
    }
    ResetBatch() {
        this.indexRun = 0;
    }
    AddSpriteToBatch(x, y, size, alpha, red, green, blue) {
        var index = this.indexRun * 4;
        this.data[index + 0] = x; //Math.floor(x);// + camera.position.x);
        this.data[index + 1] = y; //Math.floor(y);// + camera.position.y);
        this.data[index + 2] = size;
        index *= 4;
        this.data8[index + 12] = red;
        this.data8[index + 13] = green;
        this.data8[index + 14] = blue;
        this.data8[index + 15] = alpha;
        this.indexRun++;
    }
    Render(clip) {
        if (this.indexRun == 0)
            return;
        // this.gl.enable(WebGLRenderingContext.BLEND);
        // this.gl.blendFunc(WebGLRenderingContext.SRC_ALPHA, WebGLRenderingContext.ONE_MINUS_SRC_ALPHA);
        this.gl.useProgram(this.pointSpriteShader.program);
        this.gl.bindBuffer(WebGLRenderingContext.ARRAY_BUFFER, this.dataBuffer);
        // this.gl.bufferData(WebGLRenderingContext.ARRAY_BUFFER,data,WebGLRenderingContext.DYNAMIC_DRAW);
        this.gl.bufferSubData(WebGLRenderingContext.ARRAY_BUFFER, 0, this.data);
        this.gl.enableVertexAttribArray(this.pointSpriteShader.attribute.position);
        this.gl.enableVertexAttribArray(this.pointSpriteShader.attribute.size);
        this.gl.enableVertexAttribArray(this.pointSpriteShader.attribute.colour);
        this.gl.vertexAttribPointer(this.pointSpriteShader.attribute.position, 2, WebGLRenderingContext.FLOAT, false, 16, 0);
        this.gl.vertexAttribPointer(this.pointSpriteShader.attribute.size, 1, WebGLRenderingContext.FLOAT, false, 16, 8);
        this.gl.vertexAttribPointer(this.pointSpriteShader.attribute.colour, 4, WebGLRenderingContext.UNSIGNED_BYTE, true, 16, 12);
        this.gl.uniform2f(this.pointSpriteShader.uniform.cameraPosition, this.camera.position.x, this.camera.position.y);
        this.gl.uniform2f(this.pointSpriteShader.uniform.projectionVector, this.projection.x, this.projection.y);
        this.gl.drawArrays(WebGLRenderingContext.POINTS, 0, this.indexRun);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = PointBlockParticleRender;

PointBlockParticleRender.SPRITE_VERTEX_SHADER = `
        precision mediump float;
        uniform vec2 projectionVector;
        uniform vec2 cameraPosition;

        attribute vec2 position;
        attribute float size;
        attribute vec4 colour;
        varying vec4 vColor;
        void main() {
            gl_PointSize = size;
            vColor = colour;
            gl_Position = vec4( (cameraPosition.x + position.x) / projectionVector.x -1.0, (cameraPosition.y + position.y) / -projectionVector.y + 1.0 , 0.0, 1.0);            
        }
    `;
PointBlockParticleRender.SPRITE_FRAGMENT_SHADER = `
        precision mediump float;

        varying vec4 vColor;
        void main() {
            gl_FragColor = vColor;
        }
    `;


/***/ }),
/* 116 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
const INV_ALPHA = 1 / 255;
class BlockParticle {
    constructor() { }
    Initalize(x, y, vX, vY, fX, fY, ttl, damping, decay, top, externalForce, data1, data2, data3, data4, data5) {
        this.pX = x;
        this.pY = y;
        this.vX = vX;
        this.vY = vY;
        this.fX = fX;
        this.fY = fY;
        this.ttl = ttl;
        this.age = ttl;
        this.damping = damping;
        this.decay = decay;
        this.externalForce = externalForce;
        this.size = data1;
        this.alpha = data2 * INV_ALPHA;
        this.red = data3;
        this.green = data4;
        this.blue = data5;
    }
    Update(deltaTime, invDeltaTime) {
        this.vX += this.fX + this.externalForce.x;
        this.vY += this.fY + this.externalForce.y;
        this.vX *= this.damping;
        this.vY *= this.damping;
        this.pX += this.vX * invDeltaTime;
        this.pY += this.vY * invDeltaTime;
        this.age -= deltaTime;
        this.alpha -= this.decay;
        return this.age > 0;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = BlockParticle;



/***/ }),
/* 117 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ParticleEmitter__ = __webpack_require__(26);




class ParticleSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor(blockParticleEngine) {
        super([__WEBPACK_IMPORTED_MODULE_1__core_components_Position__["a" /* Position */], __WEBPACK_IMPORTED_MODULE_2__core_components_Active__["a" /* Active */], __WEBPACK_IMPORTED_MODULE_3__components_ParticleEmitter__["a" /* ParticleEmitter */]]);
        this.blockParticleEngine = blockParticleEngine;
    }
    updateEntity(entity, position, active, particleEmitter) {
        particleEmitter.emitters.forEach(emitter => emitter.update(this.timestamp, this.engine.c4e.get(entity), position.coords, this.blockParticleEngine));
    }
    postUpdate() {
        this.blockParticleEngine.Update();
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = ParticleSystem;



/***/ }),
/* 118 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__geom_AABB__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_components_Fixed__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__RegularGridSpaceManager__ = __webpack_require__(119);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__core_components_Viewable__ = __webpack_require__(15);







class FixedViewManagementSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor(camera) {
        super([__WEBPACK_IMPORTED_MODULE_3__core_components_Position__["a" /* Position */], __WEBPACK_IMPORTED_MODULE_2__core_components_Extents__["a" /* Extents */], __WEBPACK_IMPORTED_MODULE_4__core_components_Fixed__["a" /* Fixed */]]);
        this.camera = camera;
        this.spaceManager = new __WEBPACK_IMPORTED_MODULE_5__RegularGridSpaceManager__["a" /* RegularGridSpaceManager */](10, 10, 500);
        this.activeSpaceAABB = new __WEBPACK_IMPORTED_MODULE_1__geom_AABB__["a" /* AABB */]();
        this.activeSpaceAABB.extents.setTo(camera.viewportSize.x, camera.viewportSize.y); //800 / 2, 600 / 2);
        this.setEntityStatus = this.setEntityStatus.bind(this);
    }
    onEntityAdded(entity, position, extents, fixed) {
        this.spaceManager.addEntity(entity, position, extents);
    }
    updateAllEntities() {
        this.activeSpaceAABB.position.copy(this.camera.realPosition);
        this.spaceManager.search(this.activeSpaceAABB, this.setEntityStatus);
    }
    setEntityStatus(entity, status) {
        if (status == true) {
            this.engine.addComponentsToEntity(entity, [new __WEBPACK_IMPORTED_MODULE_6__core_components_Viewable__["a" /* Viewable */]()]);
        }
        else {
            this.engine.removeComponentsFromEntity(entity, [__WEBPACK_IMPORTED_MODULE_6__core_components_Viewable__["a" /* Viewable */]]);
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = FixedViewManagementSystem;



/***/ }),
/* 119 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ds_Array2D__ = __webpack_require__(120);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__SpaceManagerProxy__ = __webpack_require__(121);


class RegularGridSpaceManager {
    constructor(gridWidth, gridHeight, gridCellSize) {
        this.count = 1;
        this.updateDistanceDelta = 100 * 100;
        this.grid = new __WEBPACK_IMPORTED_MODULE_0__ds_Array2D__["a" /* Array2D */](gridWidth, gridHeight, gridCellSize);
        this.currentCells = new Array();
        for (let y = 0; y < this.grid.gridWidth; y++) {
            for (let x = 0; x < this.grid.gridHeight; x++) {
                this.grid.set(x, y, new Cell());
            }
        }
    }
    addEntity(entity, position, extents) {
        var proxy = new __WEBPACK_IMPORTED_MODULE_1__SpaceManagerProxy__["a" /* SpaceManagerProxy */]();
        proxy.aabb.position = position.coords;
        proxy.aabb.extents = extents.halfWidths;
        proxy.isStatic = true;
        proxy.entity = entity;
        this.hashProxy(proxy);
    }
    hashProxy(proxy) {
        var startX = this.grid.Index(proxy.aabb.position.x - proxy.aabb.extents.x);
        var startY = this.grid.Index(proxy.aabb.position.y - proxy.aabb.extents.y);
        var endX = this.grid.Index(proxy.aabb.position.x + proxy.aabb.extents.x) + 1;
        var endY = this.grid.Index(proxy.aabb.position.y + proxy.aabb.extents.y) + 1;
        for (let y = startY; y < endY; y++) {
            for (let x = startX; x < endX; x++) {
                var cell = this.grid.get(x, y);
                cell.proxies.push(proxy);
            }
        }
    }
    addActiveCell(cell, viewAABB, callback) {
        cell.proxies.forEach(proxy => {
            if (proxy.referenceCount++ == 0) {
                callback(proxy.entity, true);
            }
        });
        cell.updateCount = this.count;
    }
    removeActiveCell(cell, viewAABB, callback) {
        cell.proxies.forEach(proxy => {
            if (--proxy.referenceCount == 0) {
                callback(proxy.entity, false);
            }
        });
        //Reset the update count
        cell.updateCount = 0;
    }
    search(viewAABB, callback) {
        if (this.lastUpdatePosition == null) {
            this.lastUpdatePosition = viewAABB.position.clone();
        }
        else {
            if (this.lastUpdatePosition.distSqrd(viewAABB.position) < this.updateDistanceDelta)
                return;
            this.lastUpdatePosition.copy(viewAABB.position);
        }
        var startX = this.grid.Index(viewAABB.position.x - viewAABB.extents.x);
        var startY = this.grid.Index(viewAABB.position.y - viewAABB.extents.y);
        var endX = this.grid.Index(viewAABB.position.x + viewAABB.extents.x) + 1;
        var endY = this.grid.Index(viewAABB.position.y + viewAABB.extents.y) + 1;
        for (let y = startY; y < endY; y++) {
            for (let x = startX; x < endX; x++) {
                var cell = this.grid.get(x, y);
                if (cell == null)
                    continue;
                if (cell.updateCount == 0)
                    this.currentCells.push(cell);
                else
                    cell.updateCount = this.count;
            }
        }
        var i = this.currentCells.length;
        while (i-- > 0) {
            var cell = this.currentCells[i];
            if (cell.updateCount == 0) {
                this.addActiveCell(cell, viewAABB, callback);
            }
            else if (cell.updateCount < this.count) {
                this.removeActiveCell(cell, viewAABB, callback);
                this.currentCells.splice(i, 1);
            }
        }
        this.count++;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = RegularGridSpaceManager;

class Cell {
    constructor() {
        this.proxies = new Array();
        this.updateCount = 0;
    }
}


/***/ }),
/* 120 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Array2D {
    constructor(gridWidth, gridHeight, cellSize) {
        this.initalize(gridWidth, gridHeight, cellSize);
    }
    initalize(gridWidth, gridHeight, cellSize) {
        this.gridWidth = gridWidth;
        this.gridHeight = gridHeight;
        this.cellSize = cellSize;
        this.invCellSize = 1 / cellSize;
        this.data = new Array(this.gridWidth * this.gridHeight);
    }
    get(x, y) {
        return this.data[y * this.gridWidth + x];
    }
    getSafe(x, y) {
        return x >= this.gridWidth || y >= this.gridHeight || x < 0 || y < 0 ? null : this.data[y * this.gridWidth + x];
    }
    set(x, y, value) {
        this.data[y * this.gridWidth + x] = value;
    }
    Index(value) {
        //FIXME Not sure this always works...
        //return Std.number(value / cellSize);
        //return Math.floor(value * invCellSize);
        return (value * this.invCellSize) | 0;
    }
    Width() {
        return this.gridWidth * this.cellSize;
    }
    Height() {
        return this.gridHeight * this.cellSize;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Array2D;



/***/ }),
/* 121 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_AABB__ = __webpack_require__(22);

class SpaceManagerProxy {
    constructor() {
        this.aabb = new __WEBPACK_IMPORTED_MODULE_0__geom_AABB__["a" /* AABB */]();
        this.isStatic = false;
        this.entity = null;
        this.active = false;
        this.referenceCount = 0;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = SpaceManagerProxy;



/***/ }),
/* 122 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Age__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_State__ = __webpack_require__(7);




class AgeSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor() {
        super([__WEBPACK_IMPORTED_MODULE_1__components_Age__["a" /* Age */], __WEBPACK_IMPORTED_MODULE_3__components_State__["a" /* State */], __WEBPACK_IMPORTED_MODULE_2__components_Active__["a" /* Active */]]);
    }
    updateEntity(entity, age, state, active) {
        if (age.growOlder(this.dt)) {
            if (age.onExpire != null)
                state.setState(age.onExpire); // age.onExpire(this.engine,entity);
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = AgeSystem;



/***/ }),
/* 123 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Health__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_State__ = __webpack_require__(7);




class HealthSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor() {
        super([__WEBPACK_IMPORTED_MODULE_1__components_Health__["a" /* Health */], __WEBPACK_IMPORTED_MODULE_3__components_State__["a" /* State */], __WEBPACK_IMPORTED_MODULE_2__components_Active__["a" /* Active */]]);
    }
    updateEntity(entity, health, state, active) {
        if (health.currentHealth <= 0) {
            if (health.onNoHealth != null) {
                state.setState(health.onNoHealth);
                // health.onNoHealth(this.engine, entity);
            }
        }
        else {
            health.currentHealth = Math.min(health.maxHealth, health.currentHealth + health.recoveryPerMs * this.dt);
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = HealthSystem;



/***/ }),
/* 124 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_CollisionCouner__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_Moveable__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_State__ = __webpack_require__(7);






class CollsionCountSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor() {
        super([__WEBPACK_IMPORTED_MODULE_2__components_CollisionCouner__["a" /* CollisionCounter */], __WEBPACK_IMPORTED_MODULE_3__physics_components_PhysicsCollision__["a" /* PhysicsCollision */], __WEBPACK_IMPORTED_MODULE_5__components_State__["a" /* State */], __WEBPACK_IMPORTED_MODULE_1__components_Active__["a" /* Active */]]);
        this.callback = this.callback.bind(this);
    }
    onEntityAdded(entity, collisionCounter, physicsCollision, state, active) {
        physicsCollision.proxy.contactCallbacks.push(this.callback);
    }
    onEntityRemoved(entity, collisionCounter, physicsCollision, state, active) {
        physicsCollision.proxy.contactCallbacks.splice(physicsCollision.proxy.contactCallbacks.indexOf(this.callback), 1);
    }
    updateAllEntities() { }
    callback(a, b, contact) {
        var cc = this.engine.getComponentForEntity(a.entity, __WEBPACK_IMPORTED_MODULE_2__components_CollisionCouner__["a" /* CollisionCounter */]);
        var count = --cc.count;
        //This is the world
        if (b == null) {
            if (count <= 0 && cc.onCount != null) {
                var state = this.engine.getComponentForEntity(a.entity, __WEBPACK_IMPORTED_MODULE_5__components_State__["a" /* State */]);
                state.setState(cc.onCount);
                // cc.onCount(this.engine, a.entity);
            }
        }
        else {
            //Do nothing with sensor
            if (b.isSensor)
                return;
            //Hit Dynamic item? trigger directly
            if (this.engine.getComponentForEntity(b.entity, __WEBPACK_IMPORTED_MODULE_4__components_Moveable__["a" /* Moveable */]) && cc.onCount != null) {
                var state = this.engine.getComponentForEntity(a.entity, __WEBPACK_IMPORTED_MODULE_5__components_State__["a" /* State */]);
                state.setState(cc.onCount);
                // cc.onCount(this.engine, a.entity);
            }
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = CollsionCountSystem;



/***/ }),
/* 125 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__physics_collision_Ray__ = __webpack_require__(55);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__geom_AABB__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ds_EntityCollection__ = __webpack_require__(126);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Maths__ = __webpack_require__(56);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_components_Position__ = __webpack_require__(3);





class BroadphaseAreaQuery {
    constructor(engine, broadphase) {
        this.engine = engine;
        this.broadphase = broadphase;
        this.entityCollection = new __WEBPACK_IMPORTED_MODULE_2__ds_EntityCollection__["a" /* EntityCollection */]();
        this.aabb = new __WEBPACK_IMPORTED_MODULE_1__geom_AABB__["a" /* AABB */]();
        this.ray = new __WEBPACK_IMPORTED_MODULE_0__physics_collision_Ray__["a" /* Ray */]();
        this.addBroadphaseItem = this.addBroadphaseItem.bind(this);
    }
    query(position, range, filterEntity, visibleCheck) {
        // js.Lib.debug();
        this.entityCollection.clear();
        this.aabb.position.copy(position);
        this.aabb.extents.setTo(range, range);
        this.filterEntity = filterEntity;
        this.visibleCheck = visibleCheck;
        this.broadphase.QueryArea(this.aabb, this.addBroadphaseItem, true, true); //Check static and dynamic items
    }
    addBroadphaseItem(bfproxy) {
        console.log("found " + bfproxy.id);
        if (this.filterEntity != null && bfproxy.entity == this.filterEntity)
            return;
        var distance = bfproxy.aabb.position.distSqrd(this.aabb.position) + __WEBPACK_IMPORTED_MODULE_3__Maths__["a" /* ZERO_TOLERANCE */];
        if (distance > BroadphaseAreaQuery.RAYCAST_THRESHOLD && this.visibleCheck) {
            const pos = this.engine.getComponentForEntity(bfproxy.entity, __WEBPACK_IMPORTED_MODULE_4__core_components_Position__["a" /* Position */]);
            this.ray.initalize(this.aabb.position, pos.coords, 0, null);
            this.broadphase //js.Lib.debug();
                .CastRay(this.ray, null, false, false); //Dont check ray against static and dynamic items
            if (this.ray.hit)
                return;
        }
        var item = this.entityCollection.addItem(bfproxy.entity);
        item.distance = distance;
        item.perspective = this.aabb.position;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = BroadphaseAreaQuery;

BroadphaseAreaQuery.RAYCAST_THRESHOLD = 10;


/***/ }),
/* 126 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__EntityCollectionItem__ = __webpack_require__(127);

class EntityCollection {
    constructor() {
        this.entities = new Array();
    }
    addItem(entity) {
        const eci = new __WEBPACK_IMPORTED_MODULE_0__EntityCollectionItem__["a" /* EntityCollectionItem */](entity);
        this.entities.push(eci);
        return eci;
    }
    getItem(entity) {
        return this.entities.find(eci => eci.entity === entity);
    }
    removeItem(entity) {
        this.entities = this.entities.filter(eci => eci.entity !== entity);
    }
    filter(filterFunc) {
        this.entities = this.entities.filter(filterFunc);
    }
    clear() {
        this.entities.length = 0;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = EntityCollection;



/***/ }),
/* 127 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class EntityCollectionItem {
    constructor(entity) {
        this.entity = entity;
    }
    reset() { }
    static SortClosestFirst(a, b) {
        return a.distance - b.distance;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = EntityCollectionItem;



/***/ }),
/* 128 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Destroy__ = __webpack_require__(20);


class DestroySystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor() {
        super([__WEBPACK_IMPORTED_MODULE_1__components_Destroy__["a" /* Destroy */]]);
        this.toDelete = new Array();
    }
    updateEntity(entity, destroy) {
        if (destroy.count-- <= 0) {
            this.toDelete.push(entity);
        }
    }
    postUpdate() {
        this.toDelete.forEach(entity => this.engine.destroyEntity(entity));
        this.toDelete.length = 0;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = DestroySystem;



/***/ }),
/* 129 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_physics_collision_Filter__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__config_Filters__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__glaze_physics_Body__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__glaze_physics_Material__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__glaze_core_components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__glaze_graphics_components_Graphics__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__glaze_graphics_components_GraphicsAnimation__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__glaze_physics_components_PhysicsBody__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__glaze_physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__glaze_core_components_Moveable__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__glaze_core_components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__components_Player__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__glaze_graphics_components_Light__ = __webpack_require__(57);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__glaze_core_components_Viewable__ = __webpack_require__(15);














class PlayerFactory {
    static create(engine, position) {
        var playerFilter = new __WEBPACK_IMPORTED_MODULE_0__glaze_physics_collision_Filter__["a" /* Filter */]();
        playerFilter.categoryBits = __WEBPACK_IMPORTED_MODULE_1__config_Filters__["a" /* TestFilters */].PLAYER_CAT;
        playerFilter.maskBits |= __WEBPACK_IMPORTED_MODULE_1__config_Filters__["a" /* TestFilters */].PROJECTILE_CAT;
        playerFilter.groupIndex = __WEBPACK_IMPORTED_MODULE_1__config_Filters__["a" /* TestFilters */].PLAYER_GROUP;
        var body = new __WEBPACK_IMPORTED_MODULE_2__glaze_physics_Body__["a" /* Body */](new __WEBPACK_IMPORTED_MODULE_3__glaze_physics_Material__["a" /* Material */](1, 0.3, 0.1));
        body.maxScalarVelocity = 0;
        body.maxVelocity.setTo(1600, 1000);
        var player = engine.createEntity();
        engine.addComponentsToEntity(player, [
            new __WEBPACK_IMPORTED_MODULE_11__components_Player__["a" /* Player */](),
            position,
            new __WEBPACK_IMPORTED_MODULE_4__glaze_core_components_Extents__["a" /* Extents */](7, 20),
            new __WEBPACK_IMPORTED_MODULE_5__glaze_graphics_components_Graphics__["a" /* Graphics */]("player"),
            new __WEBPACK_IMPORTED_MODULE_6__glaze_graphics_components_GraphicsAnimation__["a" /* GraphicsAnimation */]("player", "idle"),
            new __WEBPACK_IMPORTED_MODULE_7__glaze_physics_components_PhysicsBody__["a" /* PhysicsBody */](body, true),
            new __WEBPACK_IMPORTED_MODULE_8__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */](false, playerFilter, []),
            new __WEBPACK_IMPORTED_MODULE_9__glaze_core_components_Moveable__["a" /* Moveable */](),
            new __WEBPACK_IMPORTED_MODULE_10__glaze_core_components_Active__["a" /* Active */](),
            new __WEBPACK_IMPORTED_MODULE_12__glaze_graphics_components_Light__["a" /* Light */](128, 1, 1, 1, 255, 0, 0),
            new __WEBPACK_IMPORTED_MODULE_13__glaze_core_components_Viewable__["a" /* Viewable */](),
        ]);
        return player;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = PlayerFactory;



/***/ }),
/* 130 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__glaze_physics_components_PhysicsBody__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__glaze_core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__glaze_graphics_components_GraphicsAnimation__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__glaze_util_CharacterController__ = __webpack_require__(131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__glaze_physics_collision_Filter__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_Player__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__glaze_physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__glaze_core_components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__glaze_util_Random__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__factories_projectile_StandardBullet__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__factories_character_BeeFactory__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__glaze_core_components_Holder__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__config_Filters__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__glaze_core_components_Moveable__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__glaze_util_Ballastics__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__factories_projectile_PlasmaBall__ = __webpack_require__(134);


















/*
backspace   8
tab 9
enter   13
shift   16
ctrl    17
alt 18
pause/break 19
caps lock   20
escape  27
page up 33
page down   34
end 35
home    36
left arrow  37
up arrow    38
right arrow 39
down arrow  40
insert  45
delete  46

0   48
1   49
2   50
3   51
4   52
5   53
6   54
7   55
8   56
9   57

a   65
b   66
c   67
d   68
e   69
f   70
g   71
h   72
i   73
j   74
k   75
l   76
m   77
n   78
o   79
p   80
q   81
r   82
s   83
t   84
u   85
v   86
w   87
x   88
y   89
z   90
*/
class PlayerSystem extends __WEBPACK_IMPORTED_MODULE_0__glaze_ecs_System__["a" /* System */] {
    constructor(input, particleEngine) {
        super([__WEBPACK_IMPORTED_MODULE_2__glaze_core_components_Position__["a" /* Position */], __WEBPACK_IMPORTED_MODULE_6__components_Player__["a" /* Player */], __WEBPACK_IMPORTED_MODULE_7__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */], __WEBPACK_IMPORTED_MODULE_1__glaze_physics_components_PhysicsBody__["a" /* PhysicsBody */], __WEBPACK_IMPORTED_MODULE_3__glaze_graphics_components_GraphicsAnimation__["a" /* GraphicsAnimation */], __WEBPACK_IMPORTED_MODULE_8__glaze_core_components_Extents__["a" /* Extents */]]);
        this.currentWeapon = 0;
        this.input = input;
        this.particleEngine = particleEngine;
    }
    onEntityAdded(entity, position, player, physicsCollision, physicsBody, graphicsAnimation, extents) {
        // physicsBody.body.setMass(880);
        physicsBody.body.usesStairs = true;
        // physicsBody.body.isBullet = true;
        this.characterController = new __WEBPACK_IMPORTED_MODULE_4__glaze_util_CharacterController__["a" /* CharacterController */](this.input, physicsBody.body, 800);
        // TODO
        // playerLight = engine.createEntity(
        //     [
        //     position,
        //     new Light(256,1,1,0,255,255,255),
        //     new Viewable(),
        //     new Moveable(),
        //     new Active()
        //     ],"player light");
        // TODO
        this.holder = new __WEBPACK_IMPORTED_MODULE_12__glaze_core_components_Holder__["a" /* Holder */](entity);
        // TODO
        // inventory = new Inventory(4);
        this.playerHolder = this.engine.createEntity();
        this.engine.addComponentsToEntity(this.playerHolder, [
            position,
            extents,
            this.holder,
            new __WEBPACK_IMPORTED_MODULE_7__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */](true, new __WEBPACK_IMPORTED_MODULE_5__glaze_physics_collision_Filter__["a" /* Filter */](1, 0, __WEBPACK_IMPORTED_MODULE_13__config_Filters__["a" /* TestFilters */].PLAYER_GROUP), [], false, physicsBody.body),
            new __WEBPACK_IMPORTED_MODULE_14__glaze_core_components_Moveable__["a" /* Moveable */](),
            new __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Active__["a" /* Active */](),
        ]);
        // player.addChildEntity(playerLight);
        // playerFilter = entity.getComponent(PhysicsCollision).proxy.filter;
        // animation = entity.getComponent(SpriteAnimation);
    }
    updateEntity(entity, position, player, physicsCollision, physicsBody, graphicsAnimation, extents) {
        this.characterController.update();
        // if (characterController.isWalking) {
        if (physicsBody.body.onGround && Math.abs(physicsBody.body.velocity.x) > 10) {
            graphicsAnimation.play("runright");
        }
        else if (!physicsBody.body.onGround) {
            graphicsAnimation.play("fly");
        }
        else {
            graphicsAnimation.play("idle");
        }
        if (this.characterController.left > 0)
            position.direction.x = -1;
        if (this.characterController.right > 0)
            position.direction.x = 1;
        physicsBody.body.collideOneWay = !(this.characterController.down > 0);
        var fire = this.input.JustPressed(32);
        var search = this.input.JustPressed(71);
        var hold = this.input.Pressed(72);
        var ray = this.input.Pressed(82);
        // TODO
        // if (this.input.JustPressed(84)) {
        //     var lightActive = playerLight.getComponent(Viewable);
        //     if (lightActive!=null)
        //         playerLight.removeComponent(lightActive);
        //         // playerLight.removeComponent2(Light);
        //     else
        //         playerLight.addComponent(new Viewable());
        // }
        // TODO
        if (this.input.Pressed(85)) {
            __WEBPACK_IMPORTED_MODULE_11__factories_character_BeeFactory__["a" /* BeeFactory */].create(this.engine, position.clone());
        }
        // TODO
        this.holder.activate = this.input.JustPressed(72);
        // trace("x");
        // TODO
        if (this.input.JustPressed(74)) {
            //Drop Item 'J'
            // var item = this.holder.drop();
            __WEBPACK_IMPORTED_MODULE_12__glaze_core_components_Holder__["a" /* Holder */].drop(this.engine, this.holder);
        }
        else if (this.input.JustPressed(75)) {
            //Throw Item 'K'
            const item = __WEBPACK_IMPORTED_MODULE_12__glaze_core_components_Holder__["a" /* Holder */].drop(this.engine, this.holder);
            if (item != null) {
                __WEBPACK_IMPORTED_MODULE_16__glaze_util_Ballastics__["a" /* Ballistics */].calcProjectileVelocity(this.engine.getComponentForEntity(item, __WEBPACK_IMPORTED_MODULE_1__glaze_physics_components_PhysicsBody__["a" /* PhysicsBody */]).body, this.input.ViewCorrectedMousePosition(), 700);
            }
        }
        // TODO
        // if (this.input.JustPressed(81)) { //Q
        //     if (holder.heldItem!=null) {
        //         var state = holder.heldItem.getComponent(State);
        //         if (state!=null) {
        //             state.incrementState();
        //         }
        //     }
        // }
        // if (this.input.JustPressed(90)) {
        //     // js.Lib.debug();
        //     inventory.store();
        // }
        // if (this.input.JustPressed(88)) {
        //     inventory.retrieve();
        // }
        if (fire) {
            if (this.currentWeapon == 0) {
                __WEBPACK_IMPORTED_MODULE_10__factories_projectile_StandardBullet__["a" /* StandardBullet */].create(this.engine, position.clone(), physicsCollision.proxy.filter.clone(), this.input.ViewCorrectedMousePosition());
            }
            if (this.currentWeapon == 1)
                __WEBPACK_IMPORTED_MODULE_17__factories_projectile_PlasmaBall__["a" /* PlasmaBall */].create(this.engine, position.clone(), physicsCollision.proxy.filter.clone(), this.input.ViewCorrectedMousePosition());
        }
        //'e' aim
        if (this.input.Pressed(69)) {
            var vel = this.input.ViewCorrectedMousePosition().clone();
            vel.minusEquals(position.coords);
            vel.normalize();
            vel.multEquals(2000);
            this.particleEngine.EmitParticle(position.coords.x, position.coords.y, vel.x, vel.y, 0, 0, 200, 1, false, true, null, 4, 255, 255, 255, 255);
        }
        if (this.characterController.burn > 0) {
            var ttl = 280;
            var offsetx = position.coords.x - 8 * position.direction.x;
            var velocity = 200 + Object(__WEBPACK_IMPORTED_MODULE_9__glaze_util_Random__["b" /* RandomFloat */])(-150, 150); // + physicsBody.body.velocity.y;
            var count = Math.floor((this.characterController.burn + 500) / 1000);
            if (count > 0)
                this.particleEngine.EmitParticle(offsetx, position.coords.y + 6, Object(__WEBPACK_IMPORTED_MODULE_9__glaze_util_Random__["b" /* RandomFloat */])(-10, 10), velocity, 0, 0, 40, 0.9, false, false, null, 4, 255, 255, 0, 0);
            for (var i = 0; i < count; i++) {
                this.particleEngine.EmitParticle(offsetx, position.coords.y + 6, Object(__WEBPACK_IMPORTED_MODULE_9__glaze_util_Random__["b" /* RandomFloat */])(-50, 50), velocity, 0, 0, ttl, 0.9, true, true, null, 4, 255, 255, 255, 255);
            }
        }
        if (this.input.JustPressed(49))
            this.currentWeapon = 0;
        if (this.input.JustPressed(50))
            this.currentWeapon = 1;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = PlayerSystem;



/***/ }),
/* 131 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__ = __webpack_require__(0);

class CharacterController {
    constructor(input, body, baseForce) {
        this.controlForce = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.jumpUnit = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.jumping = false;
        this.isWalking = false;
        this.originalFriction = 0;
        this.burn = 0;
        this.input = input;
        this.body = body;
        this.originalFriction = body.material.friction;
        this.originalVelocityClamp = body.maxVelocity.clone();
        this.setBaseForce(baseForce);
    }
    setBaseForce(baseForce) {
        this.BASE_FORCE = 600;
        this.WALK_FORCE = 2 * this.BASE_FORCE;
        this.AIR_CONTROL_FORCE = 1 * this.BASE_FORCE;
        this.JUMP_FORCE = 30 * this.BASE_FORCE;
        this.MAX_AIR_HORIZONTAL_VELOCITY = 0.5 * this.BASE_FORCE;
        this.MAX_BURN = 5 * this.BASE_FORCE;
        this.BOOST_FACTOR = 1.4;
    }
    update() {
        this.controlForce.setTo(0.0, 0.0);
        this.left = this.input.PressedDuration(65); //a
        this.right = this.input.PressedDuration(68); //d
        var up = this.input.JustPressed(87); //w
        var upDuration = this.input.PressedDuration(87); //w
        this.down = this.input.PressedDuration(83); //s
        this.boost = this.input.PressedDuration(16);
        //Just jumped?
        if (!this.jumping && this.body.onGround && up) {
            this.jumping = true;
            this.controlForce.y -= this.JUMP_FORCE / 5;
        }
        if ((this.jumping && this.input.Released(87)) || this.body.contactNormal.y > 0) {
            this.jumping = false;
        }
        //Just landed?
        if (this.body.onGround && !this.body.onGroundPrev) {
            this.burn = 0;
        }
        // if (this.body.inWater) {
        //     if (this.left>0)     this.controlForce.x -= WALK_FORCE;
        //     if (this.right>0)    this.controlForce.x += WALK_FORCE;
        //     if (up)         this.controlForce.y -= 400;
        //     if (down>0)       this.controlForce.y += WALK_FORCE;
        // } else
        if (this.body.onGround) {
            if (this.left > 0)
                this.controlForce.x -= this.WALK_FORCE;
            if (this.right > 0)
                this.controlForce.x += this.WALK_FORCE;
            if (up) {
                this.controlForce.y -= this.JUMP_FORCE;
                //burn = MAX_BURN;
            }
            // if (upDuration>0) this.controlForce.y -= 4000;
        }
        else {
            if (this.left > 0)
                this.controlForce.x -= this.AIR_CONTROL_FORCE;
            if (this.right > 0)
                this.controlForce.x += this.AIR_CONTROL_FORCE;
            var d = 10;
            // if (jumping&&upDuration>1&&upDuration<d) this.controlForce.y -= 800/d;//(d-upDuration);
            // if (up) burn-=10000;
            if (up)
                this.burn = this.MAX_BURN;
            if (upDuration > 0)
                this.burn += this.BASE_FORCE;
        }
        if (this.boost > 0) {
            this.burn = Math.min(this.burn, this.MAX_BURN * this.BOOST_FACTOR);
        }
        else {
            this.burn = Math.min(this.burn, this.MAX_BURN);
        }
        this.controlForce.y -= this.burn;
        this.burn *= 0.95;
        this.isWalking = this.body.onGround && (this.left > 0 || this.right > 0);
        if (this.isWalking) {
            // this.body.material.friction = or iginalFriction/2;
        }
        else {
            // this.body.material.friction = originalFriction*3;
            // originalVelocityClamp
        }
        this.body.addForce(this.controlForce);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = CharacterController;



/***/ }),
/* 132 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_Geometry__ = __webpack_require__(133);


class Feeler {
    constructor(angle, length) {
        this.angle = angle;
        this.length = length;
        this.base = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.tip = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.closestIP = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.ip = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
        this.normal = new __WEBPACK_IMPORTED_MODULE_0__geom_Vector2__["a" /* Vector2 */]();
    }
    Reset(unitDirection, position) {
        this.distToClosestIP = Number.POSITIVE_INFINITY;
        this.tip.copy(unitDirection);
        this.base.copy(position);
        if (this.angle != 0) {
            var a = Math.atan2(unitDirection.y, unitDirection.x);
            a += this.angle;
            this.tip.x = Math.cos(a);
            this.tip.y = Math.sin(a);
        }
        this.tip.multEquals(length);
        this.tip.plusEquals(this.base);
        //glaze.debug.DebugEngine.DrawParticle(tip.x,tip.y,4,255,0,0);
    }
    TestSegment(a, b, normal) {
        var distToThisIP = Object(__WEBPACK_IMPORTED_MODULE_1__util_Geometry__["a" /* lineIntersection */])(this.base, this.tip, a, b, this.ip);
        if (distToThisIP > 0 && distToThisIP < this.distToClosestIP) {
            this.distToClosestIP = distToThisIP;
            this.closestIP.copy(this.ip);
            this.normal.copy(normal);
        }
    }
    CalculateForce(force) {
        if (this.distToClosestIP != Number.POSITIVE_INFINITY) {
            //glaze.debug.DebugEngine.DrawParticle(closestIP.x,closestIP.y,4,255,255,255);
            // var sf =  normal.mult( tip.minus( closestIP ).length() );
            var sf = this.tip.clone();
            sf.minusEquals(this.closestIP);
            this.normal.multEquals(sf.length());
            force.plusEquals(this.normal);
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Feeler;



/***/ }),
/* 133 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = lineIntersection;
function lineIntersection(A, B, C, D, point) {
    var rTop = (A.y - C.y) * (D.x - C.x) - (A.x - C.x) * (D.y - C.y);
    var sTop = (A.y - C.y) * (B.x - A.x) - (A.x - C.x) * (B.y - A.y);
    var rBot = (B.x - A.x) * (D.y - C.y) - (B.y - A.y) * (D.x - C.x);
    var sBot = (B.x - A.x) * (D.y - C.y) - (B.y - A.y) * (D.x - C.x);
    if (rBot == 0 || sBot == 0) {
        //lines are parallel
        return -1;
    }
    var r = rTop / rBot;
    var s = sTop / sBot;
    if (r > 0 && r < 1 && s > 0 && s < 1) {
        //A + r * (B - A)
        point.x = A.x + r * (B.x - A.x);
        point.y = A.y + r * (B.y - A.y);
        return A.distSqrd(B) * r;
    }
    return 0;
}


/***/ }),
/* 134 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_physics_Material__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__glaze_core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_Filters__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__glaze_physics_Body__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__glaze_core_components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__glaze_graphics_components_Graphics__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__glaze_physics_components_PhysicsBody__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__glaze_core_components_Moveable__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__glaze_physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__glaze_particle_components_ParticleEmitter__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__glaze_core_components_CollisionCouner__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__glaze_core_components_Health__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__glaze_core_components_Age__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__glaze_core_components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__glaze_util_Ballastics__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Destroy__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__glaze_particle_emitter_Explosion__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__glaze_core_components_State__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__glaze_util_CombatUtils__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__glaze_particle_emitter_FireBall__ = __webpack_require__(135);




















class PlasmaBall {
    static create(engine, position, filter, targetPosition) {
        var bulletBody = new __WEBPACK_IMPORTED_MODULE_3__glaze_physics_Body__["a" /* Body */](__WEBPACK_IMPORTED_MODULE_0__glaze_physics_Material__["a" /* Material */].LIGHTMETAL);
        bulletBody.setMass(0.3);
        bulletBody.setBounces(0);
        bulletBody.globalForceFactor = 0.1; //0.5;
        bulletBody.isBullet = true;
        bulletBody.maxScalarVelocity = 10000;
        filter.categoryBits |= __WEBPACK_IMPORTED_MODULE_2__config_Filters__["a" /* TestFilters */].PROJECTILE_CAT;
        filter.maskBits |= __WEBPACK_IMPORTED_MODULE_2__config_Filters__["a" /* TestFilters */].PROJECTILE_COLLIDABLE_CAT;
        var bullet = engine.createEntity();
        engine.addComponentsToEntity(bullet, [
            position,
            new __WEBPACK_IMPORTED_MODULE_4__glaze_core_components_Extents__["a" /* Extents */](2, 2),
            // new LifeCycle(BULLET_LIFECYCLE),
            new __WEBPACK_IMPORTED_MODULE_5__glaze_graphics_components_Graphics__["a" /* Graphics */]("projectiles", "plasma"),
            new __WEBPACK_IMPORTED_MODULE_6__glaze_physics_components_PhysicsBody__["a" /* PhysicsBody */](bulletBody, true),
            new __WEBPACK_IMPORTED_MODULE_7__glaze_core_components_Moveable__["a" /* Moveable */](),
            new __WEBPACK_IMPORTED_MODULE_8__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */](false, filter, []),
            new __WEBPACK_IMPORTED_MODULE_9__glaze_particle_components_ParticleEmitter__["a" /* ParticleEmitter */]([new __WEBPACK_IMPORTED_MODULE_19__glaze_particle_emitter_FireBall__["a" /* FireBall */](0, 400)]),
            new __WEBPACK_IMPORTED_MODULE_17__glaze_core_components_State__["a" /* State */](PlasmaBall.states, null, false),
            new __WEBPACK_IMPORTED_MODULE_10__glaze_core_components_CollisionCouner__["a" /* CollisionCounter */](1, "destroy"),
            new __WEBPACK_IMPORTED_MODULE_11__glaze_core_components_Health__["a" /* Health */](10, 10, 0, "destroy"),
            new __WEBPACK_IMPORTED_MODULE_12__glaze_core_components_Age__["a" /* Age */](1000, "destroy"),
            new __WEBPACK_IMPORTED_MODULE_13__glaze_core_components_Active__["a" /* Active */](),
        ]);
        __WEBPACK_IMPORTED_MODULE_14__glaze_util_Ballastics__["a" /* Ballistics */].calcProjectileVelocity(bulletBody, targetPosition, 600);
        return bullet;
    }
    static onDestroy(engine, entity) {
        if (engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Destroy__["a" /* Destroy */]))
            return;
        engine.addComponentsToEntity(entity, [new __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Destroy__["a" /* Destroy */](1)]);
        engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_9__glaze_particle_components_ParticleEmitter__["a" /* ParticleEmitter */]).emitters.push(new __WEBPACK_IMPORTED_MODULE_16__glaze_particle_emitter_Explosion__["a" /* Explosion */](10, 50));
        // entity.getComponent(glaze.engine.components.ParticleEmitters).emitters.push(new glaze.particle.emitter.Explosion(10,50));
        // glaze.util.CombatUtils.explode(entity.getComponent(Position).coords,64,10000,entity);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = PlasmaBall;

PlasmaBall.states = {
    alive: function (engine, entity) { },
    destroy: function (engine, entity) {
        if (engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Destroy__["a" /* Destroy */]))
            return;
        engine.addComponentsToEntity(entity, [new __WEBPACK_IMPORTED_MODULE_15__glaze_core_components_Destroy__["a" /* Destroy */](1)]);
        engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_9__glaze_particle_components_ParticleEmitter__["a" /* ParticleEmitter */]).emitters.push(new __WEBPACK_IMPORTED_MODULE_16__glaze_particle_emitter_Explosion__["a" /* Explosion */](10, 50));
        __WEBPACK_IMPORTED_MODULE_18__glaze_util_CombatUtils__["a" /* CombatUtils */].explode(engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_1__glaze_core_components_Position__["a" /* Position */]).coords, 100, 10000, entity);
    },
};


/***/ }),
/* 135 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_Random__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__physics_components_PhysicsBody__ = __webpack_require__(6);


class FireBall {
    constructor(rate, speed) {
        this.rate = rate;
        this.speed = speed;
    }
    update(time, c4e, position, particleEngine) {
        const velocity = c4e(__WEBPACK_IMPORTED_MODULE_1__physics_components_PhysicsBody__["a" /* PhysicsBody */]).body.velocity;
        for (let i = 0; i < 5; i++) {
            var angle = Object(__WEBPACK_IMPORTED_MODULE_0__util_Random__["b" /* RandomFloat */])(0, 2 * Math.PI);
            var vx = velocity.x + (Math.cos(angle) * this.speed * Object(__WEBPACK_IMPORTED_MODULE_0__util_Random__["b" /* RandomFloat */])(0, 2));
            var vy = velocity.y + (Math.sin(angle) * this.speed * Object(__WEBPACK_IMPORTED_MODULE_0__util_Random__["b" /* RandomFloat */])(0, 2));
            particleEngine.EmitParticle(position.x, position.y, vx, vy, 0, 0, 100, 0.7, true, true, null, 4, 255, 229, 252, 114);
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = FireBall;



/***/ }),
/* 136 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_EnvironmentForce__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__util_Random__ = __webpack_require__(8);







class EnvironmentForceSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor() {
        super([__WEBPACK_IMPORTED_MODULE_1__components_PhysicsCollision__["a" /* PhysicsCollision */], __WEBPACK_IMPORTED_MODULE_2__core_components_Extents__["a" /* Extents */], __WEBPACK_IMPORTED_MODULE_3__components_EnvironmentForce__["a" /* EnvironmentForce */], __WEBPACK_IMPORTED_MODULE_4__core_components_Active__["a" /* Active */]]);
        this.temp = new __WEBPACK_IMPORTED_MODULE_5__geom_Vector2__["a" /* Vector2 */]();
        this.callback = this.callback.bind(this);
    }
    onEntityAdded(entity, physicsCollision, extents, environmentForce, active) {
        physicsCollision.proxy.contactCallbacks.push(this.callback);
        this.setActiveForce(environmentForce, 0);
    }
    updateEntity(entity, physicsCollision, extents, environmentForce, active) {
        if (environmentForce.ttl > 0) {
            environmentForce.ttl -= this.dt;
            if (environmentForce.ttl <= 0) {
                // Actuate.tween(environmentForce, 1, { power: 0 }).onComplete(this.onFinished, [environmentForce]);
            }
        }
    }
    onFinished(force) {
        force.currentIndex++;
        if (force.currentIndex >= force.data.length)
            force.currentIndex = 0;
        this.setActiveForce(force, force.currentIndex);
    }
    setActiveForce(envForce, index) {
        envForce.currentIndex = index;
        var item = envForce.data[index];
        envForce.direction.copy(item.direction);
        envForce.power = item.maxForce;
        envForce.ttl = item.minDuration == 0 ? -1 : Object(__WEBPACK_IMPORTED_MODULE_6__util_Random__["b" /* RandomFloat */])(item.minDuration * 1000, item.maxDuration * 1000);
    }
    callback(a, b, contact) {
        var area = a.aabb.overlapArea(b.aabb);
        var force = this.engine.getComponentForEntity(a.entity, __WEBPACK_IMPORTED_MODULE_3__components_EnvironmentForce__["a" /* EnvironmentForce */]);
        //TODO SCALE FORCE BY ACTUAL AREA!!!!!!
        this.temp.copy(force.direction);
        // temp.multEquals(force.power/40);
        // temp.multEquals(40*area);
        this.temp.multEquals(force.power * area);
        //trace(force.power);
        b.body.addForce(this.temp);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = EnvironmentForceSystem;



/***/ }),
/* 137 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = createTMXLayerEntities;
function createTMXLayerEntities(engine, layer, factories) {
    layer.objects.forEach(object => {
        const factory = factories.get(object.type);
        if (factory) {
            factory(engine, object);
        }
    });
}


/***/ }),
/* 138 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TMXComponentUtils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_components_Fixed__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__physics_components_EnvironmentForce__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__core_components_Wind__ = __webpack_require__(62);






class ForceFactory {
    static createTMXEntity(engine, object) {
        const entity = engine.createEntity();
        var components = [];
        components.push(Object(__WEBPACK_IMPORTED_MODULE_0__TMXComponentUtils__["b" /* TMXObjectPosition */])(object));
        components.push(Object(__WEBPACK_IMPORTED_MODULE_0__TMXComponentUtils__["a" /* TMXObjectExtents */])(object));
        components.push(new __WEBPACK_IMPORTED_MODULE_1__physics_components_PhysicsCollision__["a" /* PhysicsCollision */](true, null, []));
        components.push(new __WEBPACK_IMPORTED_MODULE_2__core_components_Fixed__["a" /* Fixed */]());
        components.push(new __WEBPACK_IMPORTED_MODULE_3__core_components_Active__["a" /* Active */]());
        var forceDataArray = [];
        for (var i = 0; i < 10; i++) {
            var raw = object.properties["config" + i];
            if (raw != null) {
                const config = raw.split(",").map(parseFloat);
                forceDataArray.push(new __WEBPACK_IMPORTED_MODULE_4__physics_components_EnvironmentForce__["b" /* ForceData */](config[0], config[1] * ForceFactory.FORCE_SCALE, config[2] * ForceFactory.FORCE_SCALE, config[3], config[4]));
            }
        }
        components.push(new __WEBPACK_IMPORTED_MODULE_4__physics_components_EnvironmentForce__["a" /* EnvironmentForce */](forceDataArray));
        components.push(new __WEBPACK_IMPORTED_MODULE_5__core_components_Wind__["a" /* Wind */](1 / 1000));
        engine.addComponentsToEntity(entity, components);
        return entity;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = ForceFactory;

ForceFactory.FORCE_SCALE = 1 / 100;
ForceFactory.mapping = "Force";


/***/ }),
/* 139 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__physics_components_PhysicsBody__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Steering__ = __webpack_require__(27);




class SteeringSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor(map) {
        super([__WEBPACK_IMPORTED_MODULE_2__physics_components_PhysicsBody__["a" /* PhysicsBody */], __WEBPACK_IMPORTED_MODULE_3__components_Steering__["a" /* Steering */]]);
        this.behaviorForce = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]();
        this.totalForce = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]();
        this.map = map;
    }
    updateEntity(entity, physicsBody, steering) {
        if (steering.hasChanged) {
            steering.steeringParameters.map = this.map;
            steering.behaviors.sort(this.behaviorsCompare);
            steering.hasChanged = false;
        }
        this.runningSum(steering, physicsBody.body);
        physicsBody.body.addProportionalForce(this.totalForce);
    }
    runningSum(steering, agent) {
        this.totalForce.setTo(0, 0);
        for (var i = 0; i < steering.behaviors.length; i++) {
            const behavior = steering.behaviors[i];
            if (behavior.active) {
                this.behaviorForce.setTo(0, 0);
                behavior.calculate(agent, steering.steeringParameters, this.behaviorForce);
                this.behaviorForce.multEquals(behavior.weight);
                this.totalForce.plusEquals(this.behaviorForce);
            }
        }
        this.totalForce.clampScalar(steering.steeringParameters.maxAcceleration);
    }
    behaviorsCompare(a, b) {
        if (a.priority < b.priority)
            return -1;
        if (a.priority == b.priority)
            return 0;
        return 1;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = SteeringSystem;



/***/ }),
/* 140 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_BeeHive__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__glaze_core_components_Viewable__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__glaze_core_components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__glaze_ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__glaze_util_Random__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__factories_character_BeeFactory__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__glaze_core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__glaze_core_components_State__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__glaze_core_state_EntityStates__ = __webpack_require__(65);









class BeeHiveSystem extends __WEBPACK_IMPORTED_MODULE_3__glaze_ecs_System__["a" /* System */] {
    constructor() {
        super([__WEBPACK_IMPORTED_MODULE_0__components_BeeHive__["a" /* BeeHive */], __WEBPACK_IMPORTED_MODULE_1__glaze_core_components_Viewable__["a" /* Viewable */], __WEBPACK_IMPORTED_MODULE_2__glaze_core_components_Active__["a" /* Active */]]);
    }
    onEntityRemoved(entity, beehive, viewable, active) {
        beehive.group.members.forEach(bee => {
            // this.engine.destroyEntity(bee);
            const state = this.engine.getComponentForEntity(bee, __WEBPACK_IMPORTED_MODULE_7__glaze_core_components_State__["a" /* State */]);
            state.setState(__WEBPACK_IMPORTED_MODULE_8__glaze_core_state_EntityStates__["a" /* EntityState */].Destroy);
        });
    }
    updateEntity(entity, beehive, viewable, active) {
        if (beehive.group.hasCapacity()) {
            if (Object(__WEBPACK_IMPORTED_MODULE_4__glaze_util_Random__["a" /* RandomBoolean */])(0.01)) {
                var newBee = __WEBPACK_IMPORTED_MODULE_5__factories_character_BeeFactory__["a" /* BeeFactory */].create(this.engine, this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_6__glaze_core_components_Position__["a" /* Position */]).clone());
                const state = this.engine.getComponentForEntity(newBee, __WEBPACK_IMPORTED_MODULE_7__glaze_core_components_State__["a" /* State */]);
                // newBee.parent = entity;
                beehive.group.addMember(newBee, state);
            }
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = BeeHiveSystem;



/***/ }),
/* 141 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__glaze_core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_BirdNest__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__glaze_core_components_Viewable__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__glaze_core_components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__glaze_core_components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__glaze_physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__glaze_core_components_Fixed__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__factories_character_BirdFactory__ = __webpack_require__(142);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__glaze_util_CombatUtils__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__glaze_core_components_State__ = __webpack_require__(7);











class BirdNestSystem extends __WEBPACK_IMPORTED_MODULE_0__glaze_ecs_System__["a" /* System */] {
    constructor() {
        super([__WEBPACK_IMPORTED_MODULE_1__glaze_core_components_Position__["a" /* Position */], __WEBPACK_IMPORTED_MODULE_2__components_BirdNest__["a" /* BirdNest */], __WEBPACK_IMPORTED_MODULE_3__glaze_core_components_Viewable__["a" /* Viewable */], __WEBPACK_IMPORTED_MODULE_4__glaze_core_components_Active__["a" /* Active */]]);
    }
    onEntityAdded(entity, position, birdNest, viewable, active) {
        birdNest.trigger = this.engine.createEntity();
        this.engine.addComponentsToEntity(birdNest.trigger, [
            position,
            new __WEBPACK_IMPORTED_MODULE_5__glaze_core_components_Extents__["a" /* Extents */](birdNest.radius / 2, birdNest.radius / 2),
            new __WEBPACK_IMPORTED_MODULE_6__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */](true, null, [this.triggerCallback]),
            new __WEBPACK_IMPORTED_MODULE_7__glaze_core_components_Fixed__["a" /* Fixed */](),
            new __WEBPACK_IMPORTED_MODULE_4__glaze_core_components_Active__["a" /* Active */](),
        ]);
        // entity.addChildEntity(nest.trigger);
    }
    updateEntity(entity, position, birdNest, viewable, active) {
        if (birdNest.intervalDelay.tick(this.dt)) {
            var target = this.evaluateTargets(entity);
            if (target >= 0) {
                this.releaseBird(entity, target);
            }
        }
        if (birdNest.triggered) {
            birdNest.triggered = false;
        }
        else {
        }
    }
    triggerCallback(a, b, contact) {
        // a.entity.parent.getComponent(BirdNest).triggered = true;
        // console.log("trigger");
    }
    evaluateTargets(entity) {
        const position = this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_1__glaze_core_components_Position__["a" /* Position */]);
        var entities = __WEBPACK_IMPORTED_MODULE_9__glaze_util_CombatUtils__["a" /* CombatUtils */].SearchSortAndFilter(position.coords, 200, entity, __WEBPACK_IMPORTED_MODULE_9__glaze_util_CombatUtils__["b" /* EntityFilterOptions */].ALL).entities;
        return entities.length > 0 ? entities[0].entity : -1;
    }
    releaseBird(entity, target) {
        var nest = this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_2__components_BirdNest__["a" /* BirdNest */]);
        if (nest.group.hasCapacity()) {
            const position = this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_1__glaze_core_components_Position__["a" /* Position */]);
            var bird = __WEBPACK_IMPORTED_MODULE_8__factories_character_BirdFactory__["a" /* BirdFactory */].create(this.engine, position.clone(), position, entity);
            const state = this.engine.getComponentForEntity(bird, __WEBPACK_IMPORTED_MODULE_10__glaze_core_components_State__["a" /* State */]);
            nest.group.addMember(entity, state);
            // nest.birds.push(bird);
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = BirdNestSystem;



/***/ }),
/* 142 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_physics_Body__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__glaze_physics_Material__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__glaze_core_components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__glaze_graphics_components_Graphics__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__glaze_graphics_components_GraphicsAnimation__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__glaze_physics_components_PhysicsBody__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__glaze_physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__glaze_core_components_Moveable__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__glaze_core_components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__glaze_ai_steering_components_Steering__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__glaze_ai_steering_behaviors_Wander__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__glaze_core_components_Age__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__glaze_core_components_Health__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__glaze_core_components_Destroy__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__components_Bird__ = __webpack_require__(67);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__glaze_ai_steering_behaviors_Arrival__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__glaze_ai_steering_behaviors_WallAvoidance__ = __webpack_require__(61);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__glaze_core_components_State__ = __webpack_require__(7);


















class BirdFactory {
    static create(engine, position, follow, nest) {
        var birdBody = new __WEBPACK_IMPORTED_MODULE_0__glaze_physics_Body__["a" /* Body */](new __WEBPACK_IMPORTED_MODULE_1__glaze_physics_Material__["a" /* Material */]());
        birdBody.setMass(1);
        birdBody.setBounces(0);
        birdBody.globalForceFactor = 0.0;
        birdBody.maxScalarVelocity = 200;
        var bee = engine.createEntity();
        engine.addComponentsToEntity(bee, [
            position,
            new __WEBPACK_IMPORTED_MODULE_14__components_Bird__["a" /* Bird */](nest),
            new __WEBPACK_IMPORTED_MODULE_2__glaze_core_components_Extents__["a" /* Extents */](4 * 1, 4 * 1),
            new __WEBPACK_IMPORTED_MODULE_3__glaze_graphics_components_Graphics__["a" /* Graphics */]("bird"),
            new __WEBPACK_IMPORTED_MODULE_5__glaze_physics_components_PhysicsBody__["a" /* PhysicsBody */](birdBody, false),
            new __WEBPACK_IMPORTED_MODULE_7__glaze_core_components_Moveable__["a" /* Moveable */](),
            new __WEBPACK_IMPORTED_MODULE_6__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */](false, null, []),
            new __WEBPACK_IMPORTED_MODULE_4__glaze_graphics_components_GraphicsAnimation__["a" /* GraphicsAnimation */]("bird", "fly"),
            // new Light(64,1,1,1,255,255,0),
            new __WEBPACK_IMPORTED_MODULE_9__glaze_ai_steering_components_Steering__["a" /* Steering */]([
                new __WEBPACK_IMPORTED_MODULE_10__glaze_ai_steering_behaviors_Wander__["a" /* Wander */](55, 80, 0.3),
                new __WEBPACK_IMPORTED_MODULE_15__glaze_ai_steering_behaviors_Arrival__["a" /* Arrival */](follow.coords, 256),
                //,new Seek(follow.coords,32)
                // new Arrival(follow.coords,128,32)
                new __WEBPACK_IMPORTED_MODULE_16__glaze_ai_steering_behaviors_WallAvoidance__["a" /* WallAvoidance */](60),
            ]),
            new __WEBPACK_IMPORTED_MODULE_17__glaze_core_components_State__["a" /* State */](BirdFactory.states, null, false),
            new __WEBPACK_IMPORTED_MODULE_11__glaze_core_components_Age__["a" /* Age */](15000, "destroy"),
            new __WEBPACK_IMPORTED_MODULE_12__glaze_core_components_Health__["a" /* Health */](10, 10, 0, "destroy"),
            new __WEBPACK_IMPORTED_MODULE_8__glaze_core_components_Active__["a" /* Active */](),
        ]);
        return bee;
    }
    static onDestroy(engine, entity) {
        if (engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_13__glaze_core_components_Destroy__["a" /* Destroy */]))
            return;
        engine.addComponentsToEntity(entity, [new __WEBPACK_IMPORTED_MODULE_13__glaze_core_components_Destroy__["a" /* Destroy */](1)]);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = BirdFactory;

BirdFactory.states = {
    destroy: function (engine, entity) {
        if (engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_13__glaze_core_components_Destroy__["a" /* Destroy */]))
            return;
        engine.addComponentsToEntity(entity, [new __WEBPACK_IMPORTED_MODULE_13__glaze_core_components_Destroy__["a" /* Destroy */](1)]);
    }
};


/***/ }),
/* 143 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class LightStackStateMachine {
    constructor() {
        this.stack = new Array();
    }
    update(target, delta) {
        var currentState = this.getCurrentState();
        if (currentState != null) {
            currentState(target, this, delta);
        }
    }
    popState() {
        var state = this.stack.pop();
        return state;
    }
    popAllStates() {
        while (this.stack.length > 0)
            this.popState();
    }
    pushState(state) {
        this.stack.push(state);
    }
    setState(state) {
        this.popState();
        this.pushState(state);
    }
    resetState(state) {
        this.popAllStates();
        this.pushState(state);
    }
    getCurrentState() {
        return this.stack.length > 0 ? this.stack[this.stack.length - 1] : null;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = LightStackStateMachine;



/***/ }),
/* 144 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Bird__ = __webpack_require__(67);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__glaze_physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__glaze_core_components_Health__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__glaze_ai_steering_components_Steering__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__glaze_util_CombatUtils__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__glaze_ai_steering_behaviors_Arrival__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__glaze_ai_steering_behaviors_Wander__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__glaze_core_components_Position__ = __webpack_require__(3);









class BirdSystem extends __WEBPACK_IMPORTED_MODULE_0__glaze_ecs_System__["a" /* System */] {
    constructor(bfAreaQuery) {
        super([__WEBPACK_IMPORTED_MODULE_1__components_Bird__["a" /* Bird */], __WEBPACK_IMPORTED_MODULE_2__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */], __WEBPACK_IMPORTED_MODULE_3__glaze_core_components_Health__["a" /* Health */], __WEBPACK_IMPORTED_MODULE_4__glaze_ai_steering_components_Steering__["a" /* Steering */]]);
        this.bfAreaQuery = bfAreaQuery;
        this.baseState = this.baseState.bind(this);
        this.seekState = this.seekState.bind(this);
    }
    onEntityAdded(entity, bird, physicsCollision, health, steering) {
        bird.ai.pushState(this.baseState);
    }
    updateEntity(entity, bird, physicsCollision, health, steering) {
        bird.ai.update(entity, this.dt);
    }
    baseState(entity, fsm, delta) {
        const bird = this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_1__components_Bird__["a" /* Bird */]);
        if (bird.delay.tick(delta)) {
            fsm.pushState(this.seekState);
        }
    }
    seekState(entity, fsm, delta) {
        const position = this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_8__glaze_core_components_Position__["a" /* Position */]);
        //Find enemies within 300 units
        var entities = __WEBPACK_IMPORTED_MODULE_5__glaze_util_CombatUtils__["a" /* CombatUtils */].SearchSortAndFilter(position.coords, 300, entity, __WEBPACK_IMPORTED_MODULE_5__glaze_util_CombatUtils__["b" /* EntityFilterOptions */].ALL).entities;
        //Found something
        if (entities.length > 0) {
            var bird = this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_1__components_Bird__["a" /* Bird */]);
            bird.target = entities[0].entity;
            var steering = this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_4__glaze_ai_steering_components_Steering__["a" /* Steering */]);
            var arrival = steering.getBehaviour(__WEBPACK_IMPORTED_MODULE_6__glaze_ai_steering_behaviors_Arrival__["a" /* Arrival */]);
            arrival.target = this.engine.getComponentForEntity(bird.target, __WEBPACK_IMPORTED_MODULE_8__glaze_core_components_Position__["a" /* Position */]).coords;
            arrival.arrivalZone = 1;
            var wander = steering.getBehaviour(__WEBPACK_IMPORTED_MODULE_7__glaze_ai_steering_behaviors_Wander__["a" /* Wander */]);
            wander.active = false;
            fsm.popState();
            fsm.pushState(this.chaseState);
            return;
        }
        fsm.popState();
    }
    chaseState(entity, fsm, delta) { }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = BirdSystem;



/***/ }),
/* 145 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Water__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__util_Random__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_Viewable__ = __webpack_require__(15);







class WaterSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor(particleEngine) {
        super([__WEBPACK_IMPORTED_MODULE_1__physics_components_PhysicsCollision__["a" /* PhysicsCollision */], __WEBPACK_IMPORTED_MODULE_2__components_Extents__["a" /* Extents */], __WEBPACK_IMPORTED_MODULE_3__components_Water__["a" /* Water */]]);
        this.particleEngine = particleEngine;
        this.cycle = 0;
        this.callback = this.callback.bind(this);
    }
    onEntityAdded(entity, physicsCollision, extents, water) {
        // var cb2 = new Signal();
        // cb2.add(this.callback);
        this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_1__physics_components_PhysicsCollision__["a" /* PhysicsCollision */]).proxy.contactCallbacks.push(this.callback);
    }
    updateAllEntities() {
        this.cycle = (Math.PI * 2 / 1000 * this.timestamp) % 1000;
    }
    callback(a, b, contact) {
        var area = a.aabb.overlapArea(b.aabb);
        b.body.damping = 0.9;
        // b.body.addForce(new Vector2(0, -area * 5));
        b.body.addForce(new __WEBPACK_IMPORTED_MODULE_4__geom_Vector2__["a" /* Vector2 */](0, -area * (4.5 + Math.sin(this.cycle) * 0.5)));
        // trace(-area*0.05,b.body.mass);
        if (!b.body.inWaterPrev) {
            this.particleEngine.EmitParticle(Object(__WEBPACK_IMPORTED_MODULE_5__util_Random__["b" /* RandomFloat */])(b.aabb.l, b.aabb.r), a.aabb.t, Object(__WEBPACK_IMPORTED_MODULE_5__util_Random__["b" /* RandomFloat */])(-20, 20), Object(__WEBPACK_IMPORTED_MODULE_5__util_Random__["b" /* RandomFloat */])(-5, -15), 0, 1, 500, 1, true, true, null, 4, 255, 255, 255, 255);
            this.particleEngine.EmitParticle(Object(__WEBPACK_IMPORTED_MODULE_5__util_Random__["b" /* RandomFloat */])(b.aabb.l, b.aabb.r), a.aabb.t, Object(__WEBPACK_IMPORTED_MODULE_5__util_Random__["b" /* RandomFloat */])(-20, 20), Object(__WEBPACK_IMPORTED_MODULE_5__util_Random__["b" /* RandomFloat */])(-5, -15), 0, 1, 500, 1, true, true, null, 4, 255, 255, 255, 255);
            this.particleEngine.EmitParticle(Object(__WEBPACK_IMPORTED_MODULE_5__util_Random__["b" /* RandomFloat */])(b.aabb.l, b.aabb.r), a.aabb.t, Object(__WEBPACK_IMPORTED_MODULE_5__util_Random__["b" /* RandomFloat */])(-20, 20), Object(__WEBPACK_IMPORTED_MODULE_5__util_Random__["b" /* RandomFloat */])(-5, -15), 0, 1, 500, 1, true, true, null, 4, 255, 255, 255, 255);
        }
        else if (b.aabb.t < a.aabb.t) {
            if (Object(__WEBPACK_IMPORTED_MODULE_5__util_Random__["a" /* RandomBoolean */])(0.1) && this.engine.getComponentForEntity(a.entity, __WEBPACK_IMPORTED_MODULE_6__components_Viewable__["a" /* Viewable */]) != null) {
                this.particleEngine.EmitParticle(Object(__WEBPACK_IMPORTED_MODULE_5__util_Random__["b" /* RandomFloat */])(b.aabb.l, b.aabb.r), a.aabb.t, Object(__WEBPACK_IMPORTED_MODULE_5__util_Random__["b" /* RandomFloat */])(-20, 20), Object(__WEBPACK_IMPORTED_MODULE_5__util_Random__["b" /* RandomFloat */])(-5, -15), 0, 1, 500, 1, true, true, null, 4, 255, 255, 255, 255);
            }
        }
        b.body.inWater = true;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = WaterSystem;



/***/ }),
/* 146 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__physics_components_EnvironmentForce__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Wind__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_Viewable__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__util_Random__ = __webpack_require__(8);








class WindSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor(particleEngine, tileSize) {
        super([__WEBPACK_IMPORTED_MODULE_1__components_Extents__["a" /* Extents */], __WEBPACK_IMPORTED_MODULE_2__physics_components_EnvironmentForce__["a" /* EnvironmentForce */], __WEBPACK_IMPORTED_MODULE_3__components_Wind__["a" /* Wind */], __WEBPACK_IMPORTED_MODULE_4__components_Viewable__["a" /* Viewable */], __WEBPACK_IMPORTED_MODULE_5__physics_components_PhysicsCollision__["a" /* PhysicsCollision */], __WEBPACK_IMPORTED_MODULE_6__components_Active__["a" /* Active */]]);
        this.particleEngine = particleEngine;
        this.tileSize = tileSize;
    }
    onEntityAdded(entity, extents, environmentForce, wind, viewable, physicsCollision, active) {
        //  public  entityAdded(entity:Entity) {
        var units = extents.halfWidths.x * extents.halfWidths.y * 4 / (this.tileSize * this.tileSize);
        wind.incPerFrame = wind.particlePerUnitPerFrame * units;
    }
    updateEntity(entity, extents, environmentForce, wind, viewable, physicsCollision, active) {
        wind.particleCount += wind.incPerFrame;
        while (wind.particleCount > 1) {
            this.particleEngine.EmitParticle(Object(__WEBPACK_IMPORTED_MODULE_7__util_Random__["b" /* RandomFloat */])(physicsCollision.proxy.aabb.l, physicsCollision.proxy.aabb.r), Object(__WEBPACK_IMPORTED_MODULE_7__util_Random__["b" /* RandomFloat */])(physicsCollision.proxy.aabb.t, physicsCollision.proxy.aabb.b), environmentForce.direction.x * environmentForce.power * 50, environmentForce.direction.y * environmentForce.power * 50, 0, 1, Object(__WEBPACK_IMPORTED_MODULE_7__util_Random__["c" /* RandomInteger */])(200, 400), 1, true, true, null, 4, 255, 255, 255, 255);
            //particleEngine.EmitParticle(RandomFloat(proxy.aabb.l,proxy.aabb.r),RandomFloat(proxy.aabb.t,proxy.aabb.b),RandomFloat(-20,20),RandomFloat(-20,20),0,1,1000,1,true,true,null,4,255,255,255,255);
            wind.particleCount--;
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = WindSystem;



/***/ }),
/* 147 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TMXComponentUtils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_components_Fixed__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__core_components_Water__ = __webpack_require__(69);





class WaterFactory {
    static createTMXEntity(engine, object) {
        const entity = engine.createEntity();
        var components = [];
        components.push(Object(__WEBPACK_IMPORTED_MODULE_0__TMXComponentUtils__["b" /* TMXObjectPosition */])(object));
        components.push(Object(__WEBPACK_IMPORTED_MODULE_0__TMXComponentUtils__["a" /* TMXObjectExtents */])(object));
        components.push(new __WEBPACK_IMPORTED_MODULE_1__physics_components_PhysicsCollision__["a" /* PhysicsCollision */](true, null, []));
        components.push(new __WEBPACK_IMPORTED_MODULE_2__core_components_Fixed__["a" /* Fixed */]());
        components.push(new __WEBPACK_IMPORTED_MODULE_3__core_components_Active__["a" /* Active */]());
        components.push(new __WEBPACK_IMPORTED_MODULE_4__core_components_Water__["a" /* Water */]());
        // var forceDataArray: Array<ForceData> = [];
        // for (var i = 0; i < 10; i++) {
        //     var raw = object.properties["config" + i] as string;
        //     if (raw != null) {
        //         const config = raw.split(",").map(parseFloat);
        //         forceDataArray.push(
        //             new ForceData(
        //                 config[0],
        //                 config[1] * ForceFactory.FORCE_SCALE,
        //                 config[2] * ForceFactory.FORCE_SCALE,
        //                 config[3],
        //                 config[4],
        //             ),
        //         );
        //     }
        // }
        // components.push(new EnvironmentForce(forceDataArray));
        // components.push(new Wind(1/1000));
        // const force = engine.createEntity();
        // engine.addComponentsToEntity(force,components)
        engine.addComponentsToEntity(entity, components);
        return entity;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = WaterFactory;

WaterFactory.mapping = "Water";


/***/ }),
/* 148 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_graphics_components_TileGraphics__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__glaze_physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__glaze_core_components_Fixed__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Door__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__glaze_core_components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__glaze_tmx_TMXComponentUtils__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__glaze_physics_collision_Filter__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__config_Filters__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__glaze_core_components_State__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__glaze_core_components_StateUpdater__ = __webpack_require__(46);










class DoorFactory {
    static create(engine, position, extents, open, closed) {
        var door = engine.createEntity();
        var filter = new __WEBPACK_IMPORTED_MODULE_6__glaze_physics_collision_Filter__["a" /* Filter */]();
        filter.groupIndex = __WEBPACK_IMPORTED_MODULE_7__config_Filters__["a" /* TestFilters */].SOLID_OBJECT_GROUP;
        engine.addComponentsToEntity(door, [
            position,
            extents,
            new __WEBPACK_IMPORTED_MODULE_0__glaze_graphics_components_TileGraphics__["a" /* TileGraphics */](closed),
            new __WEBPACK_IMPORTED_MODULE_1__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */](false, null, []),
            new __WEBPACK_IMPORTED_MODULE_2__glaze_core_components_Fixed__["a" /* Fixed */](),
            new __WEBPACK_IMPORTED_MODULE_3__components_Door__["a" /* Door */]("door", false, ""),
            // new State(['closed','open'],0,["doorA"]),
            new __WEBPACK_IMPORTED_MODULE_8__glaze_core_components_State__["a" /* State */](DoorFactory.states, "open", true),
            new __WEBPACK_IMPORTED_MODULE_9__glaze_core_components_StateUpdater__["a" /* StateUpdater */]("doorA", ["open", "close"]),
            new __WEBPACK_IMPORTED_MODULE_4__glaze_core_components_Active__["a" /* Active */](),
        ]);
        return door;
    }
    static onDestroy(engine, entity) { }
    static createTMXEntity(engine, object) {
        const extents = Object(__WEBPACK_IMPORTED_MODULE_5__glaze_tmx_TMXComponentUtils__["a" /* TMXObjectExtents */])(object);
        extents.halfWidths.x /= 2;
        return DoorFactory.create(engine, Object(__WEBPACK_IMPORTED_MODULE_5__glaze_tmx_TMXComponentUtils__["b" /* TMXObjectPosition */])(object), extents, "doorOpen", "doorClosed");
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = DoorFactory;

DoorFactory.mapping = "door";
DoorFactory.states = {
    open: function (engine, entity) {
        var door = engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_3__components_Door__["a" /* Door */]);
        var tileDisplay = engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_0__glaze_graphics_components_TileGraphics__["a" /* TileGraphics */]);
        tileDisplay.setTileFrameId(door.type + "Open");
        var pc = engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_1__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */]);
        pc.proxy.responseBias.x = 0;
        pc.proxy.isActive = false;
    },
    close: function (engine, entity) {
        var door = engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_3__components_Door__["a" /* Door */]);
        var tileDisplay = engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_0__glaze_graphics_components_TileGraphics__["a" /* TileGraphics */]);
        tileDisplay.setTileFrameId(door.type + "Closed");
        var pc = engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_1__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */]);
        pc.proxy.responseBias.x = 1;
        pc.proxy.isActive = true;
    },
};


/***/ }),
/* 149 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_State__ = __webpack_require__(7);


class StateSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor() {
        super([__WEBPACK_IMPORTED_MODULE_1__components_State__["a" /* State */]]);
        this.updates = new Array();
    }
    onEntityAdded(entity, state) {
        state.onChange = this.onChange.bind(this, entity);
    }
    onEntityRemoved(entity, state) { }
    updateAllEntities() {
        while (this.updates.length > 0) {
            var entity = this.updates.pop();
            var state = this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_1__components_State__["a" /* State */]);
            if (state === null || state.currentState === null)
                return;
            // if (state.states[state.currentState]) {
            state.states[state.currentState](this.engine, entity);
            state.messages.dispatch(entity, state.currentState);
            // } else {
            //     debugger;
            // }
        }
    }
    onChange(entity) {
        this.updates.push(entity);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = StateSystem;



/***/ }),
/* 150 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__signals_Signal__ = __webpack_require__(24);

class MessageBus {
    constructor() {
        this.bus = new Map();
    }
    registerChannels(channels, listener) {
        channels.forEach(name => {
            if (!this.bus.has(name)) {
                this.bus.set(name, new __WEBPACK_IMPORTED_MODULE_0__signals_Signal__["a" /* Signal */]());
            }
            this.bus.get(name).add(listener);
        });
    }
    unregisterChannels(channels, listener) {
        channels.forEach(name => {
            if (this.bus.has(name)) {
                this.bus.get(name).remove(listener);
            }
        });
    }
    trigger(channel, data) {
        if (this.bus.has(channel)) {
            this.bus.get(channel).dispatch(data);
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = MessageBus;



/***/ }),
/* 151 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_State__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_StateUpdater__ = __webpack_require__(46);



class StateUpdateSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor(bus) {
        super([__WEBPACK_IMPORTED_MODULE_1__components_State__["a" /* State */], __WEBPACK_IMPORTED_MODULE_2__components_StateUpdater__["a" /* StateUpdater */]]);
        this.bus = bus;
    }
    onEntityAdded(entity, state, stateUpdater) {
        stateUpdater.onChange = this.onChange.bind(this, entity);
        this.bus.registerChannels([stateUpdater.channel], stateUpdater.onChange);
    }
    onEntityRemoved(entity, state, stateUpdater) {
        this.bus.unregisterChannels([stateUpdater.channel], stateUpdater.onChange);
    }
    updateAllEntities() { }
    onChange(entity) {
        var state = this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_1__components_State__["a" /* State */]);
        var stateUpdater = this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_2__components_StateUpdater__["a" /* StateUpdater */]);
        let currentIndex = stateUpdater.sequence.indexOf(state.currentState);
        const nextState = ++currentIndex % stateUpdater.sequence.length;
        state.setState(stateUpdater.sequence[nextState]);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = StateUpdateSystem;



/***/ }),
/* 152 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__HTMLUtils__ = __webpack_require__(153);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__test_components_Player__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__test_factories_character_ChickenFactory__ = __webpack_require__(154);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__physics_components_PhysicsBody__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__util_Random__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__GlazeEngine__ = __webpack_require__(30);








const listenDebugButtons = (engine) => {
    document.getElementById("debugDump").addEventListener("click", () => {
        const targetNode = document.getElementById("debugResult");
        const htmlDump = Object(__WEBPACK_IMPORTED_MODULE_0__HTMLUtils__["a" /* engineToHTML */])(engine, 0, 100);
        targetNode.innerHTML = htmlDump;
    });
    document.getElementById("debugChickens").addEventListener("click", () => {
        const player = engine.query([__WEBPACK_IMPORTED_MODULE_1__test_components_Player__["a" /* Player */]])[0];
        const position = engine.getComponentForEntity(player, __WEBPACK_IMPORTED_MODULE_2__core_components_Position__["a" /* Position */]);
        for (let i = 0; i < 10; i++) {
            const chicken = __WEBPACK_IMPORTED_MODULE_3__test_factories_character_ChickenFactory__["a" /* ChickenFactory */].create(engine, position.clone());
            const physics = engine.getComponentForEntity(chicken, __WEBPACK_IMPORTED_MODULE_4__physics_components_PhysicsBody__["a" /* PhysicsBody */]);
            physics.body.addForce(new __WEBPACK_IMPORTED_MODULE_5__geom_Vector2__["a" /* Vector2 */](Object(__WEBPACK_IMPORTED_MODULE_6__util_Random__["c" /* RandomInteger */])(-100000, 100000), Object(__WEBPACK_IMPORTED_MODULE_6__util_Random__["c" /* RandomInteger */])(-100000, -5000)));
        }
    });
    document.getElementById("debugDraw").addEventListener("click", (event) => {
        __WEBPACK_IMPORTED_MODULE_7__GlazeEngine__["a" /* GlazeEngine */].params.debug = event.target.checked;
    });
};
/* harmony export (immutable) */ __webpack_exports__["a"] = listenDebugButtons;



/***/ }),
/* 153 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
const engineToHTML = (engine, start, count) => {
    const keys = [...engine.components.keys()].sort();
    return [
        `<table class="table table-header-rotated">`,
        header(keys),
        `<tbody>`,
        getEntityRange(start, count, keys, engine.components),
        `</tbody>`,
    ].join("");
};
/* harmony export (immutable) */ __webpack_exports__["a"] = engineToHTML;

const header = (keys) => {
    return [
        `<thead>`,
        `<tr>`,
        `<th></th>`,
        keys.map(key => `<th class="rotate"><div><span>${key}</span></div></th>`).join(""),
        `</tr>`,
        `</thead>`,
    ].join("");
};
const getEntityRange = (start, count, keys, components) => {
    const result = [];
    for (let entity = start; entity < start + count; entity++) {
        result.push(entityRow(entity, keys, components));
    }
    return result.join("");
};
const entityRow = (entity, keys, components) => {
    return [
        `<tr>`,
        `<th class="row-header">${entity}</th>`,
        keys.map(key => (components.get(key)[entity] === null ? "<td></td>" : "<td>X</td>")).join(""),
        `</tr>`,
    ].join("");
};


/***/ }),
/* 154 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_core_components_Destroy__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__glaze_physics_Material__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__glaze_physics_Body__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__glaze_core_components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__glaze_graphics_components_Graphics__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__glaze_graphics_components_GraphicsAnimation__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__glaze_physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__glaze_physics_components_PhysicsBody__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__glaze_core_components_Moveable__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__glaze_core_components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__glaze_graphics_components_Light__ = __webpack_require__(57);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__glaze_core_components_Viewable__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__glaze_physics_collision_Filter__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__components_Chicken__ = __webpack_require__(71);














class ChickenFactory {
    static create(engine, position) {
        const chicken = engine.createEntity();
        var chickenBody = new __WEBPACK_IMPORTED_MODULE_2__glaze_physics_Body__["a" /* Body */](__WEBPACK_IMPORTED_MODULE_1__glaze_physics_Material__["a" /* Material */].RUBBER);
        chickenBody.setMass(0.1);
        chickenBody.setBounces(7);
        chickenBody.maxScalarVelocity = 1000;
        engine.addComponentsToEntity(chicken, [
            new __WEBPACK_IMPORTED_MODULE_13__components_Chicken__["a" /* Chicken */](),
            position,
            new __WEBPACK_IMPORTED_MODULE_3__glaze_core_components_Extents__["a" /* Extents */](12, 12),
            new __WEBPACK_IMPORTED_MODULE_4__glaze_graphics_components_Graphics__["a" /* Graphics */]("chicken"),
            new __WEBPACK_IMPORTED_MODULE_5__glaze_graphics_components_GraphicsAnimation__["a" /* GraphicsAnimation */]("chicken", "walk"),
            new __WEBPACK_IMPORTED_MODULE_6__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */](false, new __WEBPACK_IMPORTED_MODULE_12__glaze_physics_collision_Filter__["a" /* Filter */](), []),
            new __WEBPACK_IMPORTED_MODULE_7__glaze_physics_components_PhysicsBody__["a" /* PhysicsBody */](chickenBody, true),
            new __WEBPACK_IMPORTED_MODULE_8__glaze_core_components_Moveable__["a" /* Moveable */](),
            new __WEBPACK_IMPORTED_MODULE_9__glaze_core_components_Active__["a" /* Active */](),
            new __WEBPACK_IMPORTED_MODULE_10__glaze_graphics_components_Light__["a" /* Light */](64, 1, 1, 1, 255, 255, 255),
            new __WEBPACK_IMPORTED_MODULE_11__glaze_core_components_Viewable__["a" /* Viewable */](),
        ]);
        return chicken;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = ChickenFactory;

ChickenFactory.states = {
    destroy: function (engine, entity) {
        if (engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_0__glaze_core_components_Destroy__["a" /* Destroy */]))
            return;
        engine.addComponentsToEntity(entity, [new __WEBPACK_IMPORTED_MODULE_0__glaze_core_components_Destroy__["a" /* Destroy */](1)]);
    },
};


/***/ }),
/* 155 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__DynamicTree__ = __webpack_require__(156);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__geom_AABB2__ = __webpack_require__(11);


class DynamicTreeBroadphase {
    constructor(map) {
        this.map = map;
        this.staticProxies = new Array();
        this.dynamicProxies = new Array();
        this.sleepingProxies = new Array();
        this.tree = new __WEBPACK_IMPORTED_MODULE_0__DynamicTree__["a" /* DynamicTree */]();
    }
    addProxy(proxy) {
        var target = proxy.isStatic ? this.staticProxies : this.dynamicProxies;
        target.push(proxy);
        this.tree.trackBody(proxy);
    }
    removeProxy(proxy) {
        var target = proxy.isStatic ? this.staticProxies : this.dynamicProxies;
        target.splice(target.indexOf(proxy), 1);
        this.tree.untrackBody(proxy);
    }
    collide() {
        //Loop back over the proxies
        var i = this.dynamicProxies.length;
        while (--i >= 0) {
            var dynamicProxy = this.dynamicProxies[i];
            //Has body (therefore is in control)
            if (dynamicProxy.body != null) {
                if (!dynamicProxy.isSensor)
                    //First test against map
                    this.map.testCollision(dynamicProxy);
                //if it can sleep, sleep it
                if (dynamicProxy.body.canSleep) {
                    this.sleep(dynamicProxy);
                }
            }
            this.tree.updateBody(dynamicProxy);
        }
        var k = this.dynamicProxies.length;
        while (--k >= 0) {
            var dynamicProxy = this.dynamicProxies[k];
            this.tree.query(dynamicProxy);
            // this.tree.query(dynamicProxy, (other: BFProxy) => {
            //     Collide(dynamicProxy, other);
            //     return false;
            // });
        }
    }
    QueryArea(aabb, result, checkDynamic = true, checkStatic = true) {
        const area = new __WEBPACK_IMPORTED_MODULE_1__geom_AABB2__["a" /* AABB2 */]();
        area.copyAABB(aabb);
        this.tree.queryArea(area, result);
    }
    CastRay(ray, result, checkDynamic = true, checkStatic = true) {
        this.map.castRay(ray);
        // TODO
        // this.tree.rayCastQuery(ray, 1000, (other: BFProxy) => {
        //     console.log("zap");
        //     return false;
        // });
        // if (checkDynamic) {
        //     for (let i = 0; i < this.sleepingProxies.length; i++) {
        //         const proxy = this.sleepingProxies[i];
        //         if (!proxy.isSensor) RayAABB(ray, proxy);
        //     }
        //     for (let i = 0; i < this.dynamicProxies.length; i++) {
        //         const proxy = this.dynamicProxies[i];
        //         if (!proxy.isSensor) RayAABB(ray, proxy);
        //     }
        // }
        // if (checkStatic) {
        //     for (let i = 0; i < this.staticProxies.length; i++) {
        //         const proxy = this.staticProxies[i];
        //         if (!proxy.isSensor) RayAABB(ray, proxy);
        //     }
        // }
    }
    wake(proxy) {
        return;
        // TODO fix sleeping
        // this.sleepingProxies.splice(this.sleepingProxies.indexOf(proxy), 1);
        // proxy.body.isSleeping = false;
        // this.dynamicProxies.push(proxy);
    }
    sleep(proxy) {
        return;
        // TODO fix sleeping
        // this.dynamicProxies.splice(this.dynamicProxies.indexOf(proxy), 1);
        // proxy.body.isSleeping = true;
        // this.sleepingProxies.push(proxy);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = DynamicTreeBroadphase;



/***/ }),
/* 156 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__geom_AABB2__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Intersect__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_Pool__ = __webpack_require__(48);



const boundsPadding = 5;
const dynamicTreeVelocityMultiplyer = 3;
class TreeNode {
    constructor(parent) {
        this.reset(parent);
    }
    reset(parent) {
        this.parent = parent || null;
        this.body = null;
        this.bounds = new __WEBPACK_IMPORTED_MODULE_0__geom_AABB2__["a" /* AABB2 */]();
        this.left = null;
        this.right = null;
        this.height = 0;
    }
    isLeaf() {
        return !this.left && !this.right;
    }
}
/* unused harmony export TreeNode */

class DynamicTree {
    constructor(worldBounds = new __WEBPACK_IMPORTED_MODULE_0__geom_AABB2__["a" /* AABB2 */](-Number.MAX_VALUE, -Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE)) {
        this.worldBounds = worldBounds;
        this.root = null;
        this.nodes = new Map(); //{};
        this.tempBounds = new __WEBPACK_IMPORTED_MODULE_0__geom_AABB2__["a" /* AABB2 */]();
        this.nodePool = new __WEBPACK_IMPORTED_MODULE_2__util_Pool__["a" /* Pool */](() => new TreeNode());
        this.nodePool.addCapacity(1000);
    }
    insertNode(leaf) {
        // If there are no nodes in the tree, make this the root leaf
        if (this.root === null) {
            this.root = leaf;
            this.root.parent = null;
            return;
        }
        // Search the tree for a node that is not a leaf and find the best place to insert
        var leafAABB = leaf.bounds;
        var currentRoot = this.root;
        while (!currentRoot.isLeaf()) {
            const left = currentRoot.left;
            const right = currentRoot.right;
            const area = currentRoot.bounds.perimeter();
            // var combinedAABB = currentRoot.bounds.combine(leafAABB);
            // var combinedArea = combinedAABB.perimeter();
            const combinedArea = this.tempBounds.combine2(currentRoot.bounds, leafAABB).perimeter();
            // Calculate cost heuristic for creating a new parent and leaf
            const cost = 2 * combinedArea;
            // Minimum cost of pushing the leaf down the tree
            const inheritanceCost = 2 * (combinedArea - area);
            // Cost of descending
            var leftCost = 0;
            const leftCombinedPerimeter = this.tempBounds.combine2(leafAABB, left.bounds).perimeter(); // leafAABB.combine(left.bounds);
            var newArea = 0;
            var oldArea = 0;
            if (left.isLeaf()) {
                leftCost = leftCombinedPerimeter + inheritanceCost;
            }
            else {
                oldArea = left.bounds.perimeter();
                newArea = leftCombinedPerimeter;
                leftCost = newArea - oldArea + inheritanceCost;
            }
            var rightCost = 0;
            const rightCombinedPerimeter = this.tempBounds.combine2(leafAABB, right.bounds).perimeter(); // leafAABB.combine(right.bounds);
            if (right.isLeaf()) {
                rightCost = rightCombinedPerimeter + inheritanceCost;
            }
            else {
                oldArea = right.bounds.perimeter();
                newArea = rightCombinedPerimeter;
                rightCost = newArea - oldArea + inheritanceCost;
            }
            // cost is acceptable
            if (cost < leftCost && cost < rightCost) {
                break;
            }
            // Descend to the depths
            if (leftCost < rightCost) {
                currentRoot = left;
            }
            else {
                currentRoot = right;
            }
        }
        // Create the new parent node and insert into the tree
        var oldParent = currentRoot.parent;
        // var newParent = new TreeNode(oldParent);
        var newParent = this.nodePool.reserve();
        newParent.reset(oldParent);
        // console.log(this.nodePool.assigned);
        // newParent.bounds = leafAABB.combine(currentRoot.bounds);
        newParent.bounds.combine2(leafAABB, currentRoot.bounds);
        newParent.height = currentRoot.height + 1;
        if (oldParent !== null) {
            // The sibling node was not the root
            if (oldParent.left === currentRoot) {
                oldParent.left = newParent;
            }
            else {
                oldParent.right = newParent;
            }
            newParent.left = currentRoot;
            newParent.right = leaf;
            currentRoot.parent = newParent;
            leaf.parent = newParent;
        }
        else {
            // The sibling node was the root
            newParent.left = currentRoot;
            newParent.right = leaf;
            currentRoot.parent = newParent;
            leaf.parent = newParent;
            this.root = newParent;
        }
        // Walk up the tree fixing heights and AABBs
        var currentNode = leaf.parent;
        while (currentNode) {
            currentNode = this.balanceNode(currentNode);
            if (!currentNode.left) {
                throw new Error("Parent of current leaf cannot have a null left child" + currentNode);
            }
            if (!currentNode.right) {
                throw new Error("Parent of current leaf cannot have a null right child" + currentNode);
            }
            currentNode.height = 1 + Math.max(currentNode.left.height, currentNode.right.height);
            // currentNode.bounds = currentNode.left.bounds.combine(currentNode.right.bounds);
            currentNode.bounds.combine2(currentNode.left.bounds, currentNode.right.bounds);
            currentNode = currentNode.parent;
        }
    }
    removeNode(leaf) {
        if (leaf === this.root) {
            this.root = null;
            return;
        }
        const parent = leaf.parent;
        const grandParent = parent.parent;
        var sibling;
        if (parent.left === leaf) {
            sibling = parent.right;
        }
        else {
            sibling = parent.left;
        }
        if (grandParent) {
            if (grandParent.left === parent) {
                grandParent.left = sibling;
            }
            else {
                grandParent.right = sibling;
            }
            sibling.parent = grandParent;
            // DELETE PARENT!!
            this.nodePool.free(parent);
            var currentNode = grandParent;
            while (currentNode) {
                currentNode = this.balanceNode(currentNode);
                // currentNode.bounds = currentNode.left.bounds.combine(currentNode.right.bounds);
                currentNode.bounds.combine2(currentNode.left.bounds, currentNode.right.bounds);
                currentNode.height = 1 + Math.max(currentNode.left.height, currentNode.right.height);
                currentNode = currentNode.parent;
            }
        }
        else {
            this.root = sibling;
            sibling.parent = null;
            //DELETE PARENT;
            this.nodePool.free(parent);
        }
    }
    /**
     * Tracks a body in the dynamic tree
     */
    trackBody(body) {
        // var node = new TreeNode();
        var node = this.nodePool.reserve();
        node.reset();
        node.body = body;
        node.bounds.copyAABB(body.aabb);
        node.bounds.expand(2);
        this.nodes.set(body.id, node);
        this.insertNode(node);
    }
    /**
     * Updates the dynamic tree given the current bounds of each body being tracked
     */
    updateBody(body) {
        var node = this.nodes.get(body.id);
        if (!node) {
            return false;
        }
        // var b = body.aabb.toAABB2();
        // body.aabb.copyToAABB2(this.tempBounds);
        this.tempBounds.copyAABB(body.aabb);
        var multdx = body.body.delta.x;
        var multdy = body.body.delta.y;
        if (multdx < 0) {
            this.tempBounds.l += multdx;
        }
        else {
            this.tempBounds.r += multdx;
        }
        if (multdy < 0) {
            this.tempBounds.t += multdy;
        }
        else {
            this.tempBounds.b += multdy;
        }
        // sqthis.tempBounds.transform(body.body.position);
        // if the body is outside the world no longer update it
        // console.log("a");
        // if (!this.worldBounds.contains(this.tempBounds)) {
        //     //    Logger.getInstance().warn('Actor with id ' + body.actor.id +
        //     //       ' is outside the world bounds and will no longer be tracked for physics');
        //     this.untrackBody(body);
        //     return false;
        // }
        // console.log("b");
        // Fixme this is wrong
        if (node.bounds.contains(this.tempBounds)) {
            return false;
        }
        this.removeNode(node);
        this.tempBounds.l -= boundsPadding;
        this.tempBounds.t -= boundsPadding;
        this.tempBounds.r += boundsPadding;
        this.tempBounds.b += boundsPadding;
        multdx = body.body.delta.x * dynamicTreeVelocityMultiplyer;
        multdy = body.body.delta.y * dynamicTreeVelocityMultiplyer;
        // TODO Fix this hack
        // var multdx = (body.body ? body.body.delta.x : 5) * dynamicTreeVelocityMultiplyer;
        // var multdy = (body.body ? body.body.delta.y : 5) * dynamicTreeVelocityMultiplyer;
        if (multdx < 0) {
            this.tempBounds.l += multdx;
        }
        else {
            this.tempBounds.r += multdx;
        }
        if (multdy < 0) {
            this.tempBounds.t += multdy;
        }
        else {
            this.tempBounds.b += multdy;
        }
        // node.bounds = b;
        node.bounds.copy(this.tempBounds);
        this.insertNode(node);
        // console.log("rebalance");
        return true;
    }
    /**
     * Untracks a body from the dynamic tree
     */
    untrackBody(body) {
        var node = this.nodes.get(body.id);
        if (!node) {
            return;
        }
        this.removeNode(node);
        // DELETE NODE
        this.nodePool.free(node);
        // this.nodes[body.id] = null;
        // delete this.nodes[body.id];
        this.nodes.delete(body.id);
    }
    /**
     * Balances the tree about a node
     */
    balanceNode(node) {
        if (node.isLeaf() || node.height < 2) {
            return node;
        }
        var left = node.left;
        var right = node.right;
        var a = node;
        var b = left;
        var c = right;
        var d = left.left;
        var e = left.right;
        var f = right.left;
        var g = right.right;
        var balance = c.height - b.height;
        // Rotate c node up
        if (balance > 1) {
            // Swap the right node with it's parent
            c.left = a;
            c.parent = a.parent;
            a.parent = c;
            // The original node's old parent should point to the right node
            // this is mega confusing
            if (c.parent) {
                if (c.parent.left === a) {
                    c.parent.left = c;
                }
                else {
                    c.parent.right = c;
                }
            }
            else {
                this.root = c;
            }
            // Rotate
            if (f.height > g.height) {
                c.right = f;
                a.right = g;
                g.parent = a;
                // a.bounds = b.bounds.combine(g.bounds);
                a.bounds.combine2(b.bounds, g.bounds);
                // c.bounds = a.bounds.combine(f.bounds);
                c.bounds.combine2(a.bounds, f.bounds);
                a.height = 1 + Math.max(b.height, g.height);
                c.height = 1 + Math.max(a.height, f.height);
            }
            else {
                c.right = g;
                a.right = f;
                f.parent = a;
                // a.bounds = b.bounds.combine(f.bounds);
                a.bounds.combine2(b.bounds, f.bounds);
                // c.bounds = a.bounds.combine(g.bounds);
                c.bounds.combine2(a.bounds, g.bounds);
                a.height = 1 + Math.max(b.height, f.height);
                c.height = 1 + Math.max(a.height, g.height);
            }
            return c;
        }
        // Rotate left node up
        if (balance < -1) {
            // swap
            b.left = a;
            b.parent = a.parent;
            a.parent = b;
            // node's old parent should point to b
            if (b.parent) {
                if (b.parent.left === a) {
                    b.parent.left = b;
                }
                else {
                    if (b.parent.right !== a) {
                        throw "Error rotating Dynamic Tree";
                    }
                    b.parent.right = b;
                }
            }
            else {
                this.root = b;
            }
            // rotate
            if (d.height > e.height) {
                b.right = d;
                a.left = e;
                e.parent = a;
                // a.bounds = c.bounds.combine(e.bounds);
                a.bounds.combine2(c.bounds, e.bounds);
                //b.bounds = a.bounds.combine(d.bounds);
                b.bounds.combine2(a.bounds, d.bounds);
                a.height = 1 + Math.max(c.height, e.height);
                b.height = 1 + Math.max(a.height, d.height);
            }
            else {
                b.right = e;
                a.left = d;
                d.parent = a;
                // a.bounds = c.bounds.combine(d.bounds);
                a.bounds.combine2(c.bounds, d.bounds);
                // b.bounds = a.bounds.combine(e.bounds);
                b.bounds.combine2(a.bounds, e.bounds);
                a.height = 1 + Math.max(c.height, d.height);
                b.height = 1 + Math.max(a.height, e.height);
            }
            return b;
        }
        return node;
    }
    /**
     * Returns the internal height of the tree, shorter trees are better. Performance drops as the tree grows
     */
    getHeight() {
        if (this.root === null) {
            return 0;
        }
        return this.root.height;
    }
    /**
     * Queries the Dynamic Axis Aligned Tree for bodies that could be colliding with the provided body.
     *
     * In the query callback, it will be passed a potential collider. Returning true from this callback indicates
     * that you are complete with your query and you do not want to continue. Returning false will continue searching
     * the tree until all possible colliders have been returned.
     */
    query(body) {
        var b = this.nodes.get(body.id);
        var bounds = b.bounds;
        //var bounds = body.aabb.toAABB2();
        DynamicTree.queryHelper(body, bounds, this.root);
    }
    // var helper = (currentNode: TreeNode): boolean => {
    //     // console.log(currentNode && currentNode.body ? currentNode.body.userData1 : "?", currentNode.bounds, body.userData1, bounds);
    //     if (currentNode && currentNode.bounds.intersect(bounds)) {
    //         if (currentNode.isLeaf() && currentNode.body !== body) {
    //             if (callback.call(body, currentNode.body)) {
    //                 return true;
    //             }
    //         } else {
    //             return helper(currentNode.left) || helper(currentNode.right);
    //         }
    //     }
    //     return false;
    // };
    // helper(this.root);
    static queryHelper(body, bounds, currentNode) {
        if (currentNode && currentNode.bounds.intersect(bounds)) {
            if (currentNode.isLeaf() && currentNode.body !== body) {
                Object(__WEBPACK_IMPORTED_MODULE_1__Intersect__["c" /* Collide */])(body, currentNode.body);
                return false;
            }
            else {
                return (DynamicTree.queryHelper(body, bounds, currentNode.left) ||
                    DynamicTree.queryHelper(body, bounds, currentNode.right));
            }
        }
        return false;
    }
    //  /**
    //   * Queries the Dynamic Axis Aligned Tree for bodies that could be intersecting. By default the raycast query uses an infinitely
    //   * long ray to test the tree specified by `max`.
    //   *
    //   * In the query callback, it will be passed a potential body that intersects with the racast. Returning true from this
    //   * callback indicates that your are complete with your query and do not want to continue. Return false will continue searching
    //   * the tree until all possible bodies that would intersect with the ray have been returned.
    //   */
    rayCastQuery(ray, max = Infinity, callback) {
        var helper = (currentNode) => {
            if (currentNode && Object(__WEBPACK_IMPORTED_MODULE_1__Intersect__["e" /* RayAABB */])(ray, currentNode.body)) {
                //if (currentNode && currentNode.bounds.rayCast(ray, max)) {
                if (currentNode.isLeaf()) {
                    if (callback.call(ray, currentNode.body)) {
                        // ray hit a leaf! return the body
                        return true;
                    }
                }
                else {
                    // ray hit but not at a leaf, recurse deeper
                    return helper(currentNode.left) || helper(currentNode.right);
                }
            }
            return false; // ray missed
        };
        helper(this.root);
    }
    queryArea(area, callback) {
        var helper = (currentNode) => {
            if (currentNode && currentNode.bounds.intersect(area)) {
                if (currentNode.isLeaf()) {
                    callback(currentNode.body);
                    return false;
                }
                else {
                    return helper(currentNode.left) || helper(currentNode.right);
                }
            }
            return false;
        };
        helper(this.root);
    }
    //  public getNodes(): TreeNode[] {
    //     var helper = (currentNode: TreeNode): TreeNode[] => {
    //        if (currentNode) {
    //           return [currentNode].concat(helper(currentNode.left), helper(currentNode.right));
    //        } else {
    //           return [];
    //        }
    //     };
    //     return helper(this.root);
    //  }
    debugDraw(render) {
        // draw all the nodes in the Dynamic Tree
        var helper = (currentNode) => {
            if (currentNode) {
                if (currentNode.isLeaf()) {
                    //  ctx.lineWidth = 1;
                    //  ctx.strokeStyle = 'green';
                    render.DrawAABB2(currentNode.bounds, "green");
                }
                else {
                    //  ctx.lineWidth = 1;
                    //  ctx.strokeStyle = 'white';
                    render.DrawAABB2(currentNode.bounds, "white");
                }
                if (currentNode.left) {
                    helper(currentNode.left);
                }
                if (currentNode.right) {
                    helper(currentNode.right);
                }
            }
        };
        helper(this.root);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = DynamicTree;



/***/ }),
/* 157 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__glaze_core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__glaze_physics_components_PhysicsBody__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Chicken__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__glaze_util_Random__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__glaze_geom_Vector2__ = __webpack_require__(0);






class ChickenSystem extends __WEBPACK_IMPORTED_MODULE_0__glaze_ecs_System__["a" /* System */] {
    constructor(particleEngine) {
        super([__WEBPACK_IMPORTED_MODULE_1__glaze_core_components_Position__["a" /* Position */], __WEBPACK_IMPORTED_MODULE_3__components_Chicken__["a" /* Chicken */], __WEBPACK_IMPORTED_MODULE_2__glaze_physics_components_PhysicsBody__["a" /* PhysicsBody */]]);
        this.particleEngine = particleEngine;
    }
    updateEntity(entity, position, chicken, physicsBody) {
        var dist = 1000 * 1000;
        var body = physicsBody.body;
        var dir = 0;
        if (this.scaredOfPosition != null) {
            dist = body.position.distSqrd(this.scaredOfPosition.coords);
            dir = body.position.x - this.scaredOfPosition.coords.x < 0 ? -1 : 1;
        }
        if (dist < 64 * 64) {
            if (Object(__WEBPACK_IMPORTED_MODULE_4__glaze_util_Random__["a" /* RandomBoolean */])(0.1)) {
                body.addForce(new __WEBPACK_IMPORTED_MODULE_5__glaze_geom_Vector2__["a" /* Vector2 */](dir * 5000, -8000));
                this.particleEngine.EmitParticle(body.position.x, body.position.y, dir * -10, -100, 0, 5, 800, 1, false, true, null, 4, 255, 255, 255, 255);
            }
        }
        else {
            if (Object(__WEBPACK_IMPORTED_MODULE_4__glaze_util_Random__["a" /* RandomBoolean */])(0.005)) {
                var dir = Object(__WEBPACK_IMPORTED_MODULE_4__glaze_util_Random__["d" /* RandomSign */])(0.5);
                position.direction.x = -dir;
                body.addForce(new __WEBPACK_IMPORTED_MODULE_5__glaze_geom_Vector2__["a" /* Vector2 */](dir * 5000, -8000));
                this.particleEngine.EmitParticle(body.position.x, body.position.y, dir * -20, -100, 0, 5, 800, 1, false, true, null, 4, 255, 255, 255, 255);
            }
        }
    }
    scaredOf(entity) {
        const position = this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_1__glaze_core_components_Position__["a" /* Position */]);
        if (position) {
            this.scaredOfPosition = position;
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = ChickenSystem;



/***/ }),
/* 158 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_DebugGraphics__ = __webpack_require__(72);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__render_debug_DebugRenderer__ = __webpack_require__(159);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__GlazeEngine__ = __webpack_require__(30);






class DebugRenderSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor(canvas, camera) {
        super([__WEBPACK_IMPORTED_MODULE_1__core_components_Position__["a" /* Position */], __WEBPACK_IMPORTED_MODULE_3__core_components_Extents__["a" /* Extents */], __WEBPACK_IMPORTED_MODULE_2__components_DebugGraphics__["a" /* DebugGraphics */]]);
        this.canvas = canvas;
        this.camera = camera;
        this.debugRender = new __WEBPACK_IMPORTED_MODULE_4__render_debug_DebugRenderer__["a" /* DebugRenderer */](canvas, camera, 1280, 768);
    }
    preUpdate() {
        if (!__WEBPACK_IMPORTED_MODULE_5__GlazeEngine__["a" /* GlazeEngine */].params.debug) {
            return false;
        }
        this.debugRender.Clear();
    }
    updateEntity(entity, position, extents, graphics) {
        this.debugRender.DrawCross(position.coords.x, position.coords.y, 15);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = DebugRenderSystem;



/***/ }),
/* 159 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class DebugRenderer {
    constructor(view, camera, width = 800, height = 600) {
        this.view = view;
        this.camera = camera;
        this.ctx = view.getContext("2d");
        this.Resize(width, height);
    }
    Resize(width, height) {
        this.width = width;
        this.height = height;
        this.view.width = width;
        this.view.height = height;
    }
    Clear() {
        this.ctx.setTransform(1, 0, 0, 1, 0, 0);
        this.ctx.clearRect(0, 0, this.width, this.height);
        this.ctx.strokeStyle = "rgba(0,255,0,1)";
        this.ctx.translate(this.camera.position.x, this.camera.position.y);
    }
    DrawRect(x, y, w, h, colour) {
        this.ctx.strokeRect(x, y, w, h);
    }
    // public DrawAABB(aabb: AABB) {
    //     this.ctx.strokeRect(aabb.l, aabb.t, aabb.width, aabb.height);
    // }
    DrawAABB(aabb, colour = "white") {
        this.ctx.strokeStyle = colour;
        this.ctx.beginPath();
        this.ctx.moveTo(aabb.l, aabb.t);
        this.ctx.lineTo(aabb.r, aabb.t);
        this.ctx.moveTo(aabb.r, aabb.b);
        this.ctx.lineTo(aabb.l, aabb.b);
        this.ctx.stroke();
    }
    DrawAABB2(aabb, colour = "white") {
        this.ctx.strokeStyle = colour;
        this.ctx.beginPath();
        this.ctx.moveTo(aabb.l, aabb.t);
        this.ctx.lineTo(aabb.r, aabb.t);
        this.ctx.lineTo(aabb.r, aabb.b);
        this.ctx.lineTo(aabb.l, aabb.b);
        this.ctx.lineTo(aabb.l, aabb.t);
        this.ctx.stroke();
    }
    DrawCross(x, y, l) {
        this.ctx.beginPath();
        this.ctx.moveTo(x - l, y);
        this.ctx.lineTo(x + l, y);
        this.ctx.moveTo(x, y - l);
        this.ctx.lineTo(x, y + l);
        this.ctx.stroke();
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = DebugRenderer;



/***/ }),
/* 160 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_GunTurret__ = __webpack_require__(73);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__glaze_core_components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__glaze_util_CombatUtils__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__glaze_physics_collision_Filter__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__config_Filters__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__factories_projectile_StandardBullet__ = __webpack_require__(37);







class GunTurretSystem extends __WEBPACK_IMPORTED_MODULE_0__glaze_ecs_System__["a" /* System */] {
    constructor() {
        super([__WEBPACK_IMPORTED_MODULE_1__components_GunTurret__["a" /* GunTurret */], __WEBPACK_IMPORTED_MODULE_2__glaze_core_components_Position__["a" /* Position */]]);
    }
    updateEntity(entity, turret, position) {
        if (turret.intervalDelay.tick(this.dt)) {
            var entities = __WEBPACK_IMPORTED_MODULE_3__glaze_util_CombatUtils__["a" /* CombatUtils */].SearchSortAndFilter(position.coords, 400, entity, __WEBPACK_IMPORTED_MODULE_3__glaze_util_CombatUtils__["b" /* EntityFilterOptions */].ENEMY)
                .entities;
            if (entities.length > 0) {
                this.fireBulletAtEntity(position, entities[0].entity);
            }
        }
    }
    fireBulletAtEntity(position, target) {
        this.fireBullet(position.coords.clone(), this.engine.getComponentForEntity(target, __WEBPACK_IMPORTED_MODULE_2__glaze_core_components_Position__["a" /* Position */]).coords.clone());
    }
    fireBullet(pos, target) {
        var filter = new __WEBPACK_IMPORTED_MODULE_4__glaze_physics_collision_Filter__["a" /* Filter */]();
        filter.groupIndex = __WEBPACK_IMPORTED_MODULE_5__config_Filters__["a" /* TestFilters */].TURRET_GROUP;
        var bullet = __WEBPACK_IMPORTED_MODULE_6__factories_projectile_StandardBullet__["a" /* StandardBullet */].create(this.engine, new __WEBPACK_IMPORTED_MODULE_2__glaze_core_components_Position__["a" /* Position */](pos.x, pos.y), filter, target);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = GunTurretSystem;



/***/ }),
/* 161 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
const throttle = function (fn, ms) {
    let lastCalled = 0;
    return function () {
        const now = Date.now();
        if (now - lastCalled > ms) {
            lastCalled = now;
            fn(...arguments);
        }
    };
};
/* harmony export (immutable) */ __webpack_exports__["a"] = throttle;



/***/ }),
/* 162 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__DisplayObjectContainer__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__geom_AABB2__ = __webpack_require__(11);



class Camera extends __WEBPACK_IMPORTED_MODULE_0__DisplayObjectContainer__["a" /* DisplayObjectContainer */] {
    constructor() {
        super();
        this.id = "Camera";
        this.realPosition = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]();
        this.viewportSize = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]();
        this.halfViewportSize = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]();
        this.shake = new __WEBPACK_IMPORTED_MODULE_1__geom_Vector2__["a" /* Vector2 */]();
        this.viewPortAABB = new __WEBPACK_IMPORTED_MODULE_2__geom_AABB2__["a" /* AABB2 */]();
        this.worldExtentsAABB = new __WEBPACK_IMPORTED_MODULE_2__geom_AABB2__["a" /* AABB2 */]();
    }
    rf(v) {
        return v;
        // return Std.number(v);
    }
    Focus(x, y) {
        //Need to move the camera container the oposite way to the actual coords
        this.realPosition.x = x;
        this.realPosition.y = y;
        // realPosition.plusEquals(shake);
        //Clamp position inside shrunk camera extents
        this.cameraExtentsAABB.fitPoint(this.realPosition);
        var positionx = -this.realPosition.x + this.halfViewportSize.x;
        var positiony = -this.realPosition.y + this.halfViewportSize.y;
        // position.x = positionx;
        if (Math.abs(positionx - this.position.x) > 2)
            this.position.x = this.position.x + (positionx - this.position.x) * 0.1;
        if (Math.abs(positiony - this.position.y) > 2)
            this.position.y = this.position.y + (positiony - this.position.y) * 0.1;
        // position.y = positiony;
        this.position.plusEquals(this.shake);
        this.position.x = this.rf(this.position.x);
        this.position.y = this.rf(this.position.y);
        this.shake.setTo(0, 0);
    }
    Resize(width, height) {
        this.viewportSize.x = width;
        this.viewportSize.y = height;
        this.halfViewportSize.x = width / 2;
        this.halfViewportSize.y = height / 2;
        this.viewPortAABB.l = this.viewPortAABB.t = 0;
        this.viewPortAABB.r = this.viewportSize.x;
        this.viewPortAABB.b = this.viewportSize.y;
        //Clone the world size, then shrink it around the center by viewport size
        this.cameraExtentsAABB = this.worldExtentsAABB.clone();
        this.cameraExtentsAABB.expand2(width, height);
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Camera;



/***/ }),
/* 163 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Holder__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_Held__ = __webpack_require__(42);






class HolderSystem extends __WEBPACK_IMPORTED_MODULE_4__ecs_System__["a" /* System */] {
    constructor(holderFilterCategory) {
        super([__WEBPACK_IMPORTED_MODULE_0__physics_components_PhysicsCollision__["a" /* PhysicsCollision */], __WEBPACK_IMPORTED_MODULE_1__components_Extents__["a" /* Extents */], __WEBPACK_IMPORTED_MODULE_2__components_Holder__["a" /* Holder */], __WEBPACK_IMPORTED_MODULE_3__components_Active__["a" /* Active */]]);
        this.holderFilterCategory = holderFilterCategory;
        this.callback = this.callback.bind(this);
    }
    onEntityAdded(entity, physicsCollision, extents, holder, active) {
        physicsCollision.proxy.contactCallbacks.push(this.callback);
        physicsCollision.proxy.filter.maskBits |= this.holderFilterCategory;
    }
    updateAllEntities() { }
    callback(a, b, contact) {
        var holder = this.engine.getComponentForEntity(a.entity, __WEBPACK_IMPORTED_MODULE_2__components_Holder__["a" /* Holder */]);
        if (holder.activate == true) {
            this.hold(holder, b.entity, a.entity);
        }
    }
    hold(holder, item, holderEntity) {
        if (holder.heldItem == null && this.engine.getComponentForEntity(item, __WEBPACK_IMPORTED_MODULE_5__components_Held__["a" /* Held */]) == null) {
            var held = new __WEBPACK_IMPORTED_MODULE_5__components_Held__["a" /* Held */](holderEntity);
            this.engine.addComponentsToEntity(item, [held]);
            holder.heldItem = item;
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = HolderSystem;



/***/ }),
/* 164 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Holdable__ = __webpack_require__(47);




class HoldableSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor(holderFilterCategory) {
        super([__WEBPACK_IMPORTED_MODULE_1__physics_components_PhysicsCollision__["a" /* PhysicsCollision */], __WEBPACK_IMPORTED_MODULE_2__components_Extents__["a" /* Extents */], __WEBPACK_IMPORTED_MODULE_3__components_Holdable__["a" /* Holdable */]]);
        this.holderFilterCategory = holderFilterCategory;
    }
    onEntityAdded(entity, physicsCollision, extents, holdable) {
        physicsCollision.proxy.filter.categoryBits |= this.holderFilterCategory;
    }
    updateAllEntities() { }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = HoldableSystem;



/***/ }),
/* 165 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Holdable__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Held__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__physics_components_PhysicsBody__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_Storeable__ = __webpack_require__(166);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_Position__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_Holder__ = __webpack_require__(41);








class HeldSystem extends __WEBPACK_IMPORTED_MODULE_0__ecs_System__["a" /* System */] {
    constructor() {
        super([__WEBPACK_IMPORTED_MODULE_6__components_Position__["a" /* Position */], __WEBPACK_IMPORTED_MODULE_1__components_Holdable__["a" /* Holdable */], __WEBPACK_IMPORTED_MODULE_2__components_Held__["a" /* Held */], __WEBPACK_IMPORTED_MODULE_3__physics_components_PhysicsBody__["a" /* PhysicsBody */], __WEBPACK_IMPORTED_MODULE_4__components_Active__["a" /* Active */]]);
    }
    onEntityAdded(entity, position, holdable, held, physicsBody, active) {
        var body = physicsBody.body;
        body.velocity.setTo(0, 0);
        body.skip = true;
        var holderPos = this.engine.getComponentForEntity(held.holder, __WEBPACK_IMPORTED_MODULE_6__components_Position__["a" /* Position */]).coords;
        position.coords.copy(holderPos);
        physicsBody.body.position.copy(holderPos);
        if (this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_5__components_Storeable__["a" /* Storeable */]) == null) {
            var holder = this.engine.getComponentForEntity(held.holder, __WEBPACK_IMPORTED_MODULE_7__components_Holder__["a" /* Holder */]);
            var holderBody = this.engine.getComponentForEntity(holder.parent, __WEBPACK_IMPORTED_MODULE_3__physics_components_PhysicsBody__["a" /* PhysicsBody */]).body;
            if (holderBody != null) {
                holderBody.setMass(holderBody.mass + body.mass);
            }
        }
    }
    onEntityRemoved(entity, position, holdable, held, physicsBody, active) {
        // var holder = held.holder;
        this.drop(held.holder);
        var body = physicsBody.body;
        body.skip = false;
        body.velocity.setTo(0, 0);
        if (this.engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_5__components_Storeable__["a" /* Storeable */]) == null) {
            var holder = this.engine.getComponentForEntity(held.holder, __WEBPACK_IMPORTED_MODULE_7__components_Holder__["a" /* Holder */]);
            var holderBody = this.engine.getComponentForEntity(holder.parent, __WEBPACK_IMPORTED_MODULE_3__physics_components_PhysicsBody__["a" /* PhysicsBody */]).body;
            //?
            // var holderBody = holder.parent.getComponent(PhysicsBody).body;
            if (holderBody != null) {
                holderBody.setMass(holderBody.mass - body.mass);
            }
        }
    }
    updateEntity(entity, position, holdable, held, physicsBody, active) {
        var holder = held.holder;
        var holderPos = this.engine.getComponentForEntity(holder, __WEBPACK_IMPORTED_MODULE_6__components_Position__["a" /* Position */]);
        var body = physicsBody.body;
        body.setStaticPosition(holderPos.coords.x + holderPos.direction.x * 4, holderPos.coords.y); //position.copy(holderPos);
        //entity.getComponent(PhysicsBody).body.position.copy(entity.getComponent(PhysicsBody).body.position);
        position.update(body.position);
    }
    drop(heldItem) {
        if (heldItem != null) {
            var _heldItem = heldItem;
            this.engine.removeComponentsFromEntity(heldItem, [__WEBPACK_IMPORTED_MODULE_2__components_Held__["a" /* Held */]]);
            heldItem = null;
            return _heldItem;
        }
        return null;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = HeldSystem;



/***/ }),
/* 166 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Storeable {
    constructor() { }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Storeable;



/***/ }),
/* 167 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class Phase {
    constructor() {
        this.systems = [];
    }
    addSystem(system) {
        this.engine.addPhaseSystemToEngine(system);
        this.systems.push(system);
    }
    updatePhase(dt, timestamp) {
        this.systems.forEach(system => system.updateSystem(dt, timestamp));
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = Phase;



/***/ }),
/* 168 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__glaze_core_components_Fixed__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Door__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__glaze_core_components_Active__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__glaze_physics_collision_Filter__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__config_Filters__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__glaze_core_components_State__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__glaze_core_components_StateUpdater__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_Teleporter__ = __webpack_require__(74);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__glaze_geom_Vector2__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__glaze_particle_components_ParticleEmitter__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__glaze_particle_emitter_ScanLine__ = __webpack_require__(169);












class TeleporterFactory {
    static create(engine, position, extents) {
        var telporter = engine.createEntity();
        var filter = new __WEBPACK_IMPORTED_MODULE_4__glaze_physics_collision_Filter__["a" /* Filter */]();
        filter.groupIndex = __WEBPACK_IMPORTED_MODULE_5__config_Filters__["a" /* TestFilters */].SOLID_OBJECT_GROUP;
        engine.addComponentsToEntity(telporter, [
            position,
            extents,
            new __WEBPACK_IMPORTED_MODULE_0__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */](true, null, []),
            new __WEBPACK_IMPORTED_MODULE_1__glaze_core_components_Fixed__["a" /* Fixed */](),
            new __WEBPACK_IMPORTED_MODULE_2__components_Door__["a" /* Door */]("door", false, ""),
            new __WEBPACK_IMPORTED_MODULE_8__components_Teleporter__["a" /* Teleporter */](new __WEBPACK_IMPORTED_MODULE_9__glaze_geom_Vector2__["a" /* Vector2 */](16 * 12, 16 * 36)),
            new __WEBPACK_IMPORTED_MODULE_6__glaze_core_components_State__["a" /* State */](TeleporterFactory.states, "on", true),
            new __WEBPACK_IMPORTED_MODULE_7__glaze_core_components_StateUpdater__["a" /* StateUpdater */]("telporterA", ["on", "off"]),
            new __WEBPACK_IMPORTED_MODULE_3__glaze_core_components_Active__["a" /* Active */](),
            new __WEBPACK_IMPORTED_MODULE_10__glaze_particle_components_ParticleEmitter__["a" /* ParticleEmitter */]([new __WEBPACK_IMPORTED_MODULE_11__glaze_particle_emitter_ScanLine__["a" /* ScanLine */](200, 100, 600, 10)])
        ]);
        return telporter;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = TeleporterFactory;

TeleporterFactory.mapping = "teleporter";
TeleporterFactory.states = {
    on: function (engine, entity) {
        var pc = engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_0__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */]);
        pc.proxy.isActive = true;
        debugger;
        engine.addComponentsToEntity(entity, []);
    },
    off: function (engine, entity) {
        var pc = engine.getComponentForEntity(entity, __WEBPACK_IMPORTED_MODULE_0__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */]);
        pc.proxy.isActive = true;
        engine.removeComponentsFromEntity(entity, [__WEBPACK_IMPORTED_MODULE_10__glaze_particle_components_ParticleEmitter__["a" /* ParticleEmitter */]]);
    },
};


/***/ }),
/* 169 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core_components_Extents__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_Random__ = __webpack_require__(8);


class ScanLine {
    constructor(interval, velocity, ttl, jitter) {
        this.velocity = velocity;
        this.interval = interval;
        this.ttl = ttl;
        this.jitter = jitter;
        this.lastTime = 0;
    }
    update(time, c4e, position, particleEngine) {
        // debugger;
        if (time - this.lastTime < this.interval)
            return;
        this.lastTime = time;
        // var position = c4e(Position).coords;
        var extents = c4e(__WEBPACK_IMPORTED_MODULE_0__core_components_Extents__["a" /* Extents */]).halfWidths;
        for (let x = 0; x < 16; x++) {
            particleEngine.EmitParticle(position.x - 16 + x * 2, position.y - extents.y, 0, this.velocity + Object(__WEBPACK_IMPORTED_MODULE_1__util_Random__["c" /* RandomInteger */])(-this.jitter, this.jitter), 0, 0, this.ttl, 0.99, true, true, null, 4, 255, 255, 255, 255);
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = ScanLine;



/***/ }),
/* 170 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__glaze_ecs_System__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__glaze_physics_components_PhysicsCollision__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Teleporter__ = __webpack_require__(74);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__glaze_util_Random__ = __webpack_require__(8);




class TeleporterSystem extends __WEBPACK_IMPORTED_MODULE_0__glaze_ecs_System__["a" /* System */] {
    constructor() {
        super([__WEBPACK_IMPORTED_MODULE_1__glaze_physics_components_PhysicsCollision__["a" /* PhysicsCollision */], __WEBPACK_IMPORTED_MODULE_2__components_Teleporter__["a" /* Teleporter */]]);
        this.onCollision = this.onCollision.bind(this);
    }
    onEntityAdded(entity, physicsCollision, teleporter, state) {
        physicsCollision.proxy.contactCallbacks.push(this.onCollision);
    }
    onCollision(a, b, c) {
        if (Object(__WEBPACK_IMPORTED_MODULE_3__glaze_util_Random__["a" /* RandomBoolean */])(0.1)) {
            b.body.position.copy(this.engine.getComponentForEntity(a.entity, __WEBPACK_IMPORTED_MODULE_2__components_Teleporter__["a" /* Teleporter */]).teleportPosition);
        }
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = TeleporterSystem;



/***/ }),
/* 171 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
class WaterHolder {
    constructor(volume) {
        this.volume = volume;
    }
}
/* harmony export (immutable) */ __webpack_exports__["a"] = WaterHolder;



/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYjA1ZDU3MmY5ZjI2ZTY0OGE4NzEiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2dlb20vVmVjdG9yMi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvZWNzL1N5c3RlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvcGh5c2ljcy9jb21wb25lbnRzL1BoeXNpY3NDb2xsaXNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2NvcmUvY29tcG9uZW50cy9Qb3NpdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL0FjdGl2ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL0V4dGVudHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3BoeXNpY3MvY29tcG9uZW50cy9QaHlzaWNzQm9keS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL1N0YXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS91dGlsL1JhbmRvbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL01vdmVhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9ncmFwaGljcy9jb21wb25lbnRzL0dyYXBoaWNzLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9nZW9tL0FBQkIyLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9GaWx0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2NvcmUvY29tcG9uZW50cy9GaXhlZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvcGh5c2ljcy9NYXRlcmlhbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL1ZpZXdhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy90ZXN0L2NvbmZpZy9GaWx0ZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9ncmFwaGljcy9jb21wb25lbnRzL0dyYXBoaWNzQW5pbWF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9waHlzaWNzL0JvZHkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2NvcmUvY29tcG9uZW50cy9IZWFsdGgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2NvcmUvY29tcG9uZW50cy9EZXN0cm95LnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS91dGlsL0NvbWJhdFV0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9nZW9tL0FBQkIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2NvcmUvY29tcG9uZW50cy9BZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3NpZ25hbHMvU2lnbmFsLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9ncmFwaGljcy9kaXNwbGF5bGlzdC9EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9wYXJ0aWNsZS9jb21wb25lbnRzL1BhcnRpY2xlRW1pdHRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvYWkvc3RlZXJpbmcvY29tcG9uZW50cy9TdGVlcmluZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvYWkvc3RlZXJpbmcvYmVoYXZpb3JzL0JlaGF2aW9yLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9haS9zdGVlcmluZy9TdGVlcmluZ1NldHRpbmdzLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9HbGF6ZUVuZ2luZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvZ2VvbS9SZWN0YW5nbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2dyYXBoaWNzL3JlbmRlci91dGlsL1dlYkdMU2hhZGVyVXRpbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvZ3JhcGhpY3MvcmVuZGVyL3V0aWwvU2hhZGVyV3JhcHBlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvcGh5c2ljcy9jb2xsaXNpb24vQ29udGFjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvZ3JhcGhpY3MvY29tcG9uZW50cy9UaWxlR3JhcGhpY3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2NvcmUvY29tcG9uZW50cy9Db2xsaXNpb25Db3VuZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rlc3QvZmFjdG9yaWVzL3Byb2plY3RpbGUvU3RhbmRhcmRCdWxsZXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3V0aWwvQmFsbGFzdGljcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdGVzdC9jb21wb25lbnRzL1BsYXllci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvYWkvc3RlZXJpbmcvYmVoYXZpb3JzL1dhbmRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL0hvbGRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL0hlbGQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3BoeXNpY3MvY29tcG9uZW50cy9FbnZpcm9ubWVudEZvcmNlLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS90bXgvVE1YQ29tcG9uZW50VXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3V0aWwvSW50ZXJ2YWxEZWxheS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL1N0YXRlVXBkYXRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL0hvbGRhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS91dGlsL1Bvb2wudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2dyYXBoaWNzL3RleHR1cmUvQmFzZVRleHR1cmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2dyYXBoaWNzL3RleHR1cmUvVGV4dHVyZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvZ3JhcGhpY3MvZGlzcGxheWxpc3QvU3ByaXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9kcy9UeXBlZEFycmF5MkQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3BoeXNpY3MvY29sbGlzaW9uL0ludGVyc2VjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvcGFydGljbGUvZW1pdHRlci9FeHBsb3Npb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3BoeXNpY3MvY29sbGlzaW9uL1JheS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvdXRpbC9NYXRocy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvZ3JhcGhpY3MvY29tcG9uZW50cy9MaWdodC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdGVzdC9mYWN0b3JpZXMvY2hhcmFjdGVyL0JlZUZhY3RvcnkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2FpL3N0ZWVyaW5nL1N0ZWVyaW5nQWdlbnRQYXJhbWV0ZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9haS9zdGVlcmluZy9iZWhhdmlvcnMvU2Vlay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvYWkvc3RlZXJpbmcvYmVoYXZpb3JzL1dhbGxBdm9pZGFuY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2NvcmUvY29tcG9uZW50cy9XaW5kLnRzIiwid2VicGFjazovLy8uL3NyYy90ZXN0L2NvbXBvbmVudHMvQmVlSGl2ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvdXRpbC9FbnRpdHlHcm91cC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9zdGF0ZS9FbnRpdHlTdGF0ZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rlc3QvY29tcG9uZW50cy9CaXJkTmVzdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdGVzdC9jb21wb25lbnRzL0JpcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2FpL3N0ZWVyaW5nL2JlaGF2aW9ycy9BcnJpdmFsLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvV2F0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rlc3QvY29tcG9uZW50cy9Eb29yLnRzIiwid2VicGFjazovLy8uL3NyYy90ZXN0L2NvbXBvbmVudHMvQ2hpY2tlbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvZ3JhcGhpY3MvY29tcG9uZW50cy9EZWJ1Z0dyYXBoaWNzLnRzIiwid2VicGFjazovLy8uL3NyYy90ZXN0L2NvbXBvbmVudHMvR3VuVHVycmV0LnRzIiwid2VicGFjazovLy8uL3NyYy90ZXN0L2NvbXBvbmVudHMvVGVsZXBvcnRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rlc3QvR2FtZVRlc3RBLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS91dGlsL0RpZ2l0YWxJbnB1dC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvZWNzL0VuZ2luZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvdXRpbC9Bc3NldExvYWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvc2lnbmFscy9TaWduYWxCaW5kaW5nLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS91dGlsL0dhbWVMb29wLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9ncmFwaGljcy9zeXN0ZW1zL0dyYXBoaWNzUmVuZGVyU3lzdGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9ncmFwaGljcy9kaXNwbGF5bGlzdC9TdGFnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvZ3JhcGhpY3MvZGlzcGxheWxpc3QvRElzcGxheU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvZ2VvbS9NYXRyaXgzLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9ncmFwaGljcy9yZW5kZXIvUmVuZGVyRW5naW5lLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9ncmFwaGljcy90ZXh0dXJlL1RleHR1cmVNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9ncmFwaGljcy9mcmFtZS9GcmFtZUxpc3RNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9ncmFwaGljcy9mcmFtZS9GcmFtZUxpc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2dyYXBoaWNzL2ZyYW1lL0ZyYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9ncmFwaGljcy9hbmltYXRpb24vQW5pbWF0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2dyYXBoaWNzL3JlbmRlci9zcHJpdGUvU3ByaXRlUmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2dyYXBoaWNzL3JlbmRlci9zcHJpdGUvU3ByaXRlQmF0Y2gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3RteC9UTVhNYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2RzL0J5dGVzMkQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2dyYXBoaWNzL3JlbmRlci90aWxlL1RpbGVNYXBSZW5kZXJlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvZ3JhcGhpY3MvcmVuZGVyL3RpbGUvVGlsZUxheWVyLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9ncmFwaGljcy9yZW5kZXIvdGlsZS9UaWxlTGF5ZXJSZW5kZXJQcm94eS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvZ3JhcGhpY3Mvc3lzdGVtcy9BbmltYXRpb25TeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2dyYXBoaWNzL2FuaW1hdGlvbi9BbmltYXRpb25Db250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9icm9hZHBoYXNlL1RpbGVNYXBDb2xsaXNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2dlb20vU2VnbWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvZ2VvbS9QbGFuZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvcGh5c2ljcy9zeXN0ZW1zL1BoeXNpY3NTdGF0aWNTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3BoeXNpY3MvY29sbGlzaW9uL0JGUHJveHkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3BoeXNpY3Mvc3lzdGVtcy9QaHlzaWNzTW92ZWFibGVTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3BoeXNpY3Mvc3lzdGVtcy9QaHlzaWNzQ29sbGlzaW9uU3lzdGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9waHlzaWNzL3N5c3RlbXMvUGh5c2ljc01hc3NTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3BoeXNpY3Mvc3lzdGVtcy9QaHlzaWNzUG9zaXRpb25TeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3BoeXNpY3Mvc3lzdGVtcy9QaHlzaWNzVXBkYXRlU3lzdGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9jb3JlL3N5c3RlbXMvQ29udHJvbGxlclN5c3RlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL0NvbnRyb2xsYWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvZ3JhcGhpY3Mvc3lzdGVtcy9UaWxlR3JhcGhpY3NSZW5kZXJTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3BhcnRpY2xlL2VuZ2luZXMvQmxvY2tQYXJ0aWNsZUVuZ2luZTIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2dyYXBoaWNzL3JlbmRlci9wYXJ0aWNsZS9Qb2ludEJsb2NrUGFydGljbGVSZW5kZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3BhcnRpY2xlL2VuZ2luZXMvQmxvY2tQYXJ0aWNsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvcGFydGljbGUvc3lzdGVtcy9QYXJ0aWNsZVN5c3RlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvc3BhY2Uvc3lzdGVtcy9GaXhlZFZpZXdNYW5hZ2VtZW50U3lzdGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9zcGFjZS9SZWd1bGFyR3JpZFNwYWNlTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvZHMvQXJyYXkyRC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvc3BhY2UvU3BhY2VNYW5hZ2VyUHJveHkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2NvcmUvc3lzdGVtcy9BZ2VTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2NvcmUvc3lzdGVtcy9IZWFsdGhTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2NvcmUvc3lzdGVtcy9Db2xsaXNpb25Db3VudFN5c3RlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvdXRpbC9Ccm9hZHBoYXNlQXJlYVF1ZXJ5LnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9kcy9FbnRpdHlDb2xsZWN0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9kcy9FbnRpdHlDb2xsZWN0aW9uSXRlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9zeXN0ZW1zL0Rlc3Ryb3lTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rlc3QvZmFjdG9yaWVzL2NoYXJhY3Rlci9QbGF5ZXJGYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy90ZXN0L3N5c3RlbXMvUGxheWVyU3lzdGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS91dGlsL0NoYXJhY3RlckNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2FpL3N0ZWVyaW5nL2JlaGF2aW9ycy9GZWVsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3V0aWwvR2VvbWV0cnkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rlc3QvZmFjdG9yaWVzL3Byb2plY3RpbGUvUGxhc21hQmFsbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvcGFydGljbGUvZW1pdHRlci9GaXJlQmFsbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvcGh5c2ljcy9zeXN0ZW1zL0Vudmlyb25tZW50Rm9yY2VTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3RteC9UTVhGYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS90bXgvZmFjdG9yaWVzL0ZvcmNlRmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvYWkvc3RlZXJpbmcvc3lzdGVtcy9TdGVlcmluZ1N5c3RlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdGVzdC9zeXN0ZW1zL0JlZUhpdmVTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rlc3Qvc3lzdGVtcy9CaXJkTmVzdFN5c3RlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdGVzdC9mYWN0b3JpZXMvY2hhcmFjdGVyL0JpcmRGYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9haS9mc20vU3RhY2tGU00udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rlc3Qvc3lzdGVtcy9CaXJkU3lzdGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9jb3JlL3N5c3RlbXMvV2F0ZXJTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2NvcmUvc3lzdGVtcy9XaW5kU3lzdGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS90bXgvZmFjdG9yaWVzL1dhdGVyRmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdGVzdC9mYWN0b3JpZXMvaXRlbS9Eb29yRmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9zeXN0ZW1zL1N0YXRlU3lzdGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS91dGlsL01lc3NhZ2VCdXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2NvcmUvc3lzdGVtcy9TdGF0ZVVwZGF0ZVN5c3RlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvdG9vbHMvSFRNTERldlRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS90b29scy9IVE1MVXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rlc3QvZmFjdG9yaWVzL2NoYXJhY3Rlci9DaGlja2VuRmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvcGh5c2ljcy9jb2xsaXNpb24vYnJvYWRwaGFzZS9EeW5hbWljVHJlZUJyb2FkcGhhc2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL3BoeXNpY3MvY29sbGlzaW9uL2Jyb2FkcGhhc2UvRHluYW1pY1RyZWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rlc3Qvc3lzdGVtcy9DaGlja2VuU3lzdGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9ncmFwaGljcy9zeXN0ZW1zL0RlYnVnUmVuZGVyZXJTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2dyYXBoaWNzL3JlbmRlci9kZWJ1Zy9EZWJ1Z1JlbmRlcmVyLnRzIiwid2VicGFjazovLy8uL3NyYy90ZXN0L3N5c3RlbXMvR3VuVHVycmV0U3lzdGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS91dGlsL0ZuVXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dsYXplL2dyYXBoaWNzL2Rpc3BsYXlsaXN0L0NhbWVyYS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9zeXN0ZW1zL0hvbGRlclN5c3RlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9zeXN0ZW1zL0hvbGRhYmxlU3lzdGVtLnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9jb3JlL3N5c3RlbXMvSGVsZFN5c3RlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL1N0b3JlYWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvZWNzL1BoYXNlLnRzIiwid2VicGFjazovLy8uL3NyYy90ZXN0L2ZhY3Rvcmllcy9pdGVtL1RlbGVwb3J0ZXJGYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9nbGF6ZS9wYXJ0aWNsZS9lbWl0dGVyL1NjYW5MaW5lLnRzIiwid2VicGFjazovLy8uL3NyYy90ZXN0L3N5c3RlbXMvVGVsZXBvcnRlclN5c3RlbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL1dhdGVySG9sZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7QUM3RE07SUFPRixZQUFZLElBQVksR0FBRyxFQUFFLElBQVksR0FBRztRQUN4QyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2YsQ0FBQztJQUVELEtBQUssQ0FBQyxDQUFTLEVBQUUsQ0FBUztRQUN0QixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2YsQ0FBQztJQUVELElBQUksQ0FBQyxDQUFVO1FBQ1gsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2IsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxLQUFLO1FBQ0QsTUFBTSxDQUFDLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxTQUFTO1FBQ0wsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQztRQUM5RSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNaLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ1osTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNiLENBQUM7SUFFRCxNQUFNO1FBQ0YsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFFRCxVQUFVO1FBQ04sTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVELFdBQVcsQ0FBQyxHQUFXO1FBQ25CLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUN0QixFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNWLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzdCLENBQUM7SUFDTCxDQUFDO0lBRUQsV0FBVyxDQUFDLENBQVU7UUFDbEIsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVELFVBQVUsQ0FBQyxDQUFVO1FBQ2pCLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNkLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsQixDQUFDO0lBRUQsV0FBVyxDQUFDLENBQVU7UUFDbEIsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2QsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xCLENBQUM7SUFFRCxVQUFVLENBQUMsQ0FBUztRQUNoQixJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNaLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2hCLENBQUM7SUFFRCxjQUFjLENBQUMsQ0FBVSxFQUFFLENBQVM7UUFDaEMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3RCLENBQUM7SUFFRCxlQUFlLENBQUMsQ0FBVSxFQUFFLENBQVM7UUFDakMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNsQixJ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RyxJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQztJQUMvQyxDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ0wsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRUQsSUFBSSxNQUFNO1FBQ04sTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRUQsU0FBUyxDQUFDLElBQVc7UUFDakIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUNsQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUN2QyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUN2QyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUN2QyxJQUFJO1lBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNyQixDQUFDO0lBRUQsT0FBTyxDQUFDLElBQVc7UUFDZixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDckMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNyQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVELE9BQU8sQ0FBQyxJQUFXO1FBQ2YsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzVCLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckIsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRUQsUUFBUSxDQUFDLENBQVEsRUFBRSxDQUFRO1FBQ3ZCLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QixJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QixNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxRQUFRLENBQUMsQ0FBUyxFQUFFLENBQVM7UUFDekIsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMzQixFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzNCLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDM0IsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBRUQsUUFBUSxDQUFDLEtBQWM7UUFDbkIsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUN2QyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7WUFBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDdkMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxNQUFNLENBQUMsQ0FBUztRQUNaLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ1osSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDWixJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNaLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2hCLENBQUM7SUFFRCxPQUFPLENBQUMsS0FBYSxFQUFFLE1BQWM7UUFDakMsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNwQixJQUFJLENBQUMsQ0FBQyxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDckIsSUFBSSxDQUFDLENBQUMsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ3pCLENBQUM7SUFFRCxRQUFRLENBQUMsSUFBVztRQUNoQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdFLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELElBQUksQ0FBQyxJQUFXO1FBQ1osSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2hCLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNoQixJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDaEIsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3BCLENBQUM7SUFFRCxRQUFRLENBQUMsSUFBVTtRQUNmLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNoQixJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDaEIsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2hCLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNwQixDQUFDO0lBRUQsU0FBUyxDQUFDLFlBQXFCO1FBQzNCLElBQUksQ0FBQyxDQUFDLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQztRQUN6QixJQUFJLENBQUMsQ0FBQyxJQUFJLFlBQVksQ0FBQyxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLENBQUMsSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxDQUFDLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRUQsU0FBUztRQUNMLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMxQyxDQUFDO0NBQ0o7QUFBQTtBQUFBOzs7Ozs7OztBQ2xJSztJQVdGLE1BQU07SUFDTixxQ0FBcUM7SUFDckMscUNBQXFDO0lBQ3JDLEVBQUU7SUFDRixxQ0FBcUM7SUFDckMscUNBQXFDO0lBQ3JDLEVBQUU7SUFDRix1Q0FBdUM7SUFDdkMsb0VBQW9FO0lBRXBFLFlBQVksZUFBdUIsR0FBRyxFQUFFLFdBQW1CLFVBQVUsRUFBRSxhQUFxQixHQUFHO1FBcEIvRixvREFBb0Q7UUFDcEQsbURBQW1EO1FBQ25ELDBDQUEwQztRQUNuQyxlQUFVLEdBQVcsQ0FBQyxDQUFDO1FBRTlCLGlDQUFpQztRQUMxQixpQkFBWSxHQUFXLE1BQU0sQ0FBQztRQUNyQywyQ0FBMkM7UUFDcEMsYUFBUSxHQUFXLFVBQVUsQ0FBQztRQWFqQyxJQUFJLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztRQUNqQyxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztJQUNqQyxDQUFDO0lBRUQsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFlLEVBQUUsT0FBZTtRQUN6QyxFQUFFLENBQUMsQ0FBQyxPQUFPLElBQUksSUFBSSxJQUFJLE9BQU8sSUFBSSxJQUFJLENBQUM7WUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ3BELEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLElBQUksT0FBTyxDQUFDLFVBQVUsSUFBSSxPQUFPLENBQUMsVUFBVSxJQUFJLENBQUMsQ0FBQztZQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztRQUN2RyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDNUcsQ0FBQztJQUVELHdHQUF3RztJQUN4RyxvQkFBb0I7SUFDcEIsSUFBSTtJQUNKLFNBQVM7SUFDVCx3RUFBd0U7SUFDeEUsd0VBQXdFO0lBQ3hFLElBQUk7SUFDSixlQUFlO0lBRVIsS0FBSztRQUNSLE1BQU0sQ0FBQyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3pFLENBQUM7Q0FDSjtBQUFBO0FBQUE7Ozs7Ozs7O0FDN0NLO0NBQ0w7QUFBQTtBQUFBOzs7Ozs7OztBQ0RLO0lBVUYsWUFBWSxVQUFrQixDQUFDLEVBQUUsYUFBcUIsR0FBRyxFQUFFLFdBQW1CLEdBQUc7UUFDN0UsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7UUFDN0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7SUFDN0IsQ0FBQzs7OztBQWJNLGVBQU0sR0FBYSxJQUFJLFFBQVEsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQzdDLG1CQUFVLEdBQWEsSUFBSSxRQUFRLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNuRCxhQUFJLEdBQWEsSUFBSSxRQUFRLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUM3QyxlQUFNLEdBQVksSUFBSSxRQUFRLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxHQUFHLENBQUMsQ0FBQzs7Ozs7Ozs7QUNKN0M7Q0FDTDtBQUFBO0FBQUE7Ozs7Ozs7O0FDREs7Ozs7QUFDRixZQUFZO0FBQ0wsc0JBQVUsR0FBVyxHQUFHLElBQUksQ0FBQyxDQUFDO0FBQzlCLDBCQUFjLEdBQVcsR0FBRyxJQUFJLENBQUMsQ0FBQztBQUNsQyxxQ0FBeUIsR0FBVyxHQUFHLElBQUksQ0FBQyxDQUFDO0FBQzdDLHFCQUFTLEdBQVcsR0FBRyxJQUFJLENBQUMsQ0FBQztBQUM3Qix3QkFBWSxHQUFXLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDaEMsbUJBQU8sR0FBVyxHQUFHLElBQUksQ0FBQyxDQUFDO0FBQzNCLG1CQUFPLEdBQVcsR0FBRyxJQUFJLENBQUMsQ0FBQztBQUMzQixtQkFBTyxHQUFXLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDM0IsbUJBQU8sR0FBVyxHQUFHLElBQUksRUFBRSxDQUFDO0FBQzVCLG1CQUFPLEdBQVcsR0FBRyxJQUFJLEVBQUUsQ0FBQztBQUVuQyxRQUFRO0FBQ0Qsd0JBQVksR0FBVyxDQUFDLENBQUMsQ0FBQztBQUMxQix1QkFBVyxHQUFXLENBQUMsQ0FBQyxDQUFDO0FBQ3pCLHdCQUFZLEdBQVcsQ0FBQyxDQUFDLENBQUM7QUFDMUIsc0JBQVUsR0FBVyxDQUFDLENBQUMsQ0FBQztBQUV4Qiw4QkFBa0IsR0FBVyxDQUFDLENBQUMsQ0FBQyxZQUFZOzs7Ozs7OztBQ2hCakQ7SUFRRixZQUFZLFdBQW1CLEVBQUUsV0FBbUI7UUFDaEQsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRU0sSUFBSSxDQUFDLFdBQW1CO1FBQzNCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLEtBQUssV0FBVyxDQUFDO1lBQUMsTUFBTSxDQUFDO1FBQzdDLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO1FBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO0lBQ3RCLENBQUM7Q0FFSjtBQUFBO0FBQUE7Ozs7Ozs7Ozs7QUN0QnlDO0FBQ0o7QUFHdEMsTUFBTSxVQUFVLEdBQVcsZ0JBQWdCLENBQUM7QUFDNUMsTUFBTSxhQUFhLEdBQVcsTUFBTSxDQUFDO0FBQ3JDLE1BQU0sV0FBVyxHQUFXLEVBQUUsQ0FBQztBQUMvQixNQUFNLFVBQVUsR0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBRTVCO0lBd0RGLG1EQUFtRDtJQUVuRCxZQUFZLFdBQXFCLElBQUksRUFBRSxPQUFlLENBQUM7UUF6RGhELGFBQVEsR0FBWSxJQUFJLDhEQUFPLEVBQUUsQ0FBQztRQUNsQyx1QkFBa0IsR0FBWSxJQUFJLDhEQUFPLEVBQUUsQ0FBQztRQUM1QyxzQkFBaUIsR0FBWSxJQUFJLDhEQUFPLEVBQUUsQ0FBQztRQUMzQyxVQUFLLEdBQVksSUFBSSw4REFBTyxFQUFFLENBQUM7UUFDL0IscUJBQWdCLEdBQVksSUFBSSw4REFBTyxFQUFFLENBQUM7UUFFMUMsYUFBUSxHQUFZLElBQUksOERBQU8sRUFBRSxDQUFDO1FBQ2xDLHFCQUFnQixHQUFZLElBQUksOERBQU8sRUFBRSxDQUFDO1FBQzFDLHFCQUFnQixHQUFZLElBQUksOERBQU8sRUFBRSxDQUFDO1FBRTFDLGtCQUFhLEdBQVksSUFBSSw4REFBTyxFQUFFLENBQUM7UUFDdkMsc0JBQWlCLEdBQVksSUFBSSw4REFBTyxFQUFFLENBQUM7UUFFM0MsWUFBTyxHQUFZLElBQUksOERBQU8sRUFBRSxDQUFDO1FBR2pDLHFCQUFnQixHQUFXLENBQUMsQ0FBQztRQUU3QixzQkFBaUIsR0FBVyxJQUFJLENBQUM7UUFDakMsZ0JBQVcsR0FBWSxJQUFJLDhEQUFPLEVBQUUsQ0FBQztRQUlyQyxXQUFNLEdBQVksSUFBSSw4REFBTyxFQUFFLENBQUM7UUFDL0Isc0JBQWlCLEdBQVksSUFBSSw4REFBTyxFQUFFLENBQUM7UUFFNUMsYUFBUSxHQUFZLEtBQUssQ0FBQztRQUUxQixZQUFPLEdBQVcsQ0FBQyxDQUFDO1FBQ3BCLHNCQUFpQixHQUFXLENBQUMsQ0FBQztRQUU5QixTQUFJLEdBQVcsQ0FBQyxDQUFDO1FBQ2pCLFlBQU8sR0FBVyxDQUFDLENBQUM7UUFFcEIsT0FBRSxHQUFXLENBQUMsQ0FBQztRQUVmLFdBQU0sR0FBVyxXQUFXLENBQUM7UUFDN0IsYUFBUSxHQUFZLEtBQUssQ0FBQztRQUMxQixlQUFVLEdBQVksS0FBSyxDQUFDO1FBRTVCLGFBQVEsR0FBWSxLQUFLLENBQUM7UUFDMUIsaUJBQVksR0FBWSxLQUFLLENBQUM7UUFFOUIsWUFBTyxHQUFZLEtBQUssQ0FBQztRQUN6QixnQkFBVyxHQUFZLEtBQUssQ0FBQztRQUM3QixlQUFVLEdBQVksSUFBSSxDQUFDO1FBQzNCLGtCQUFhLEdBQVksSUFBSSxDQUFDO1FBRTlCLHFCQUFnQixHQUFXLENBQUMsQ0FBQztRQUM3QixnQkFBVyxHQUFXLENBQUMsQ0FBQztRQUV4QixVQUFLLEdBQVcsQ0FBQyxDQUFDO1FBRWxCLFNBQUksR0FBWSxLQUFLLENBQUM7UUFLekIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLDJEQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDO1FBQzdELElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdkIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxFQUFVLEVBQUUsWUFBcUIsRUFBRSxhQUFxQjtRQUNsRSxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUNsQyxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUN0QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDaEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFFckIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDO1lBQUMsTUFBTSxDQUFDO1FBRXpDLElBQUksQ0FBQyxNQUFNLEdBQUcsVUFBVSxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUN2RixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLEdBQUcsYUFBYSxDQUFDLENBQUM7UUFDeEQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLGFBQWEsQ0FBQztRQUU1QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUUxQyxpQ0FBaUM7UUFDakMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRXZELCtCQUErQjtRQUMvQixtQkFBbUI7UUFDbkIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDN0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDdEQsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ2hELENBQUM7UUFDRCxJQUFJO1FBRUosSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFMUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3pELElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRTFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUV0QyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUNoRCxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFFL0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO1FBRWpCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLENBQUM7UUFFMUIsSUFBSSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUM7SUFDeEMsQ0FBQztJQUVNLHNCQUFzQixDQUFDLE9BQWdCO1FBQzFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7WUFBQyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQzVCLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUMvQyxJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFFaEQsOERBQThEO1FBQzlELDhEQUE4RDtRQUM5RCxJQUFJLENBQUMsa0JBQWtCLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsV0FBVyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUUvRSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsVUFBVSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7UUFFbEUsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDVCxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztZQUV4QixtQkFBbUI7WUFDbkIsdUNBQXVDO1lBQ3ZDLHVDQUF1QztZQUN2QyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBRWxELDBDQUEwQztZQUMxQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDMUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7Z0JBQ3JCLHNCQUFzQjtnQkFDdEIsMERBQTBEO2dCQUMxRCw2REFBNkQ7Z0JBQzdELGdDQUFnQztnQkFDaEMsZ0NBQWdDO1lBQ3BDLENBQUM7WUFFRCwyQ0FBMkM7WUFDM0MsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRXhDLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVNLENBQUMsQ0FBQyxHQUFXO1FBQ2hCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqQixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDakIsQ0FBQztJQUNMLENBQUM7SUFFTSxzQkFBc0IsQ0FBQyxPQUFnQjtRQUMxQyx5QkFBeUI7UUFDekIsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUMzQixJQUFJLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7WUFDeEIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDcEQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3hDLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVNLGNBQWM7UUFDakIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDO1lBQUMsTUFBTSxDQUFDO1FBQ3pDLG9DQUFvQztRQUNwQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUNoQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7Z0JBQ3RDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO2dCQUM1QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztnQkFDeEQsT0FBTztnQkFDUCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQzNELElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQzlDLENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDSixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUMvQyxDQUFDO1lBQ0QsTUFBTSxDQUFDO1FBQ1gsQ0FBQztRQUVELCtCQUErQjtRQUUvQixxQkFBcUI7UUFDckIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMzRSxtREFBbUQ7WUFDbkQsa0JBQWtCO1lBQ2xCLHlEQUF5RDtZQUN6RCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDdEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1lBQ3JDLElBQUksRUFBRSxHQUFXLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO1lBQ2xGLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUN2QyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDM0MsQ0FBQztRQUVELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2xELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzVDLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ2xELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRXBDLGlDQUFpQztRQUNqQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQzlDLGVBQWU7WUFDZixJQUFJLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUN4RCxpQkFBaUI7WUFDakIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQzNELHNCQUFzQjtZQUN0QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUMxQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDdkIsQ0FBQztJQUNMLENBQUM7SUFFTSxRQUFRLENBQUMsQ0FBVTtRQUN0QixJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzVDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBRU0sZ0JBQWdCLENBQUMsQ0FBVTtRQUM5QixJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEIsQ0FBQztJQUVNLG9CQUFvQixDQUFDLENBQVU7UUFDbEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEIsQ0FBQztJQUVNLE9BQU8sQ0FBQyxJQUFJO1FBQ2YsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDO0lBQzVCLENBQUM7SUFFTSx5QkFBeUIsQ0FBQyxNQUFjO1FBQzNDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEdBQUcsTUFBTSxHQUFHLFVBQVUsQ0FBQyxDQUFDO0lBQzlELENBQUM7SUFFTSxpQkFBaUIsQ0FBQyxDQUFTLEVBQUUsQ0FBUztRQUN6QyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDMUIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFFTSxVQUFVLENBQUMsS0FBYTtRQUMzQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDO1FBQzlCLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO0lBQ3pCLENBQUM7SUFFRCxJQUFJLFNBQVM7UUFDVCxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztJQUNsRixDQUFDO0lBRU0sSUFBSTtRQUNQLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDO1FBQzFCLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO0lBQ3pCLENBQUM7SUFFRCxJQUFJLElBQUk7UUFDSixNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFDRCxJQUFJLFFBQVE7UUFDUixNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUNELElBQUksRUFBRTtRQUNGLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUNELElBQUksTUFBTTtRQUNOLE1BQU0sQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBQ0QsSUFBSSxJQUFJO1FBQ0osTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBQ0QsSUFBSSxRQUFRO1FBQ1IsTUFBTSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFDRCxJQUFJLEtBQUs7UUFDTCxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFDRCxJQUFJLFNBQVM7UUFDVCxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUVELE1BQU0sQ0FBQyxNQUFNLENBQ1QsUUFBa0IsRUFDbEIsSUFBWSxFQUNaLE9BQWUsRUFDZixpQkFBeUIsRUFDekIsaUJBQXlCO1FBRXpCLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzlCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN6QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsaUJBQWlCLENBQUM7UUFDM0MsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDO1FBQzNDLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztDQUNKO0FBQUE7QUFBQTs7Ozs7Ozs7QUNyVEs7SUFRRixZQUNJLFNBQWlCLEVBQ2pCLGFBQXFCLEVBQ3JCLGlCQUF5QixFQUN6QixVQUFrQjtRQUVsQixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztRQUNuQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsaUJBQWlCLENBQUM7UUFDM0MsSUFBSSxDQUFDLGFBQWEsR0FBRyxpQkFBaUIsR0FBRyxJQUFJLENBQUM7UUFDOUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDakMsQ0FBQztJQUVNLFdBQVcsQ0FBQyxZQUFvQjtRQUNuQyxJQUFJLENBQUMsYUFBYSxJQUFJLFlBQVksQ0FBQztJQUN2QyxDQUFDO0lBRU0sTUFBTTtRQUNULE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxJQUFJLENBQUMsQ0FBQztJQUNuQyxDQUFDO0NBQ0o7QUFBQTtBQUFBOzs7Ozs7OztBQy9CSztJQUdGLFlBQVksS0FBYTtRQUNyQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0NBQ0o7QUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7OztBQ0w4QztBQUVhO0FBS1A7QUFDRjtBQUNhO0FBRWhFLElBQVksbUJBSVg7QUFKRCxXQUFZLG1CQUFtQjtJQUMzQiwyREFBRztJQUNILHFFQUFRO0lBQ1IsK0RBQUs7QUFDVCxDQUFDLEVBSlcsbUJBQW1CLEtBQW5CLG1CQUFtQixRQUk5QjtBQUVLO0lBT0YsZ0JBQWUsQ0FBQztJQUVoQixNQUFNLENBQUMsS0FBSyxDQUFDLE1BQWMsRUFBRSxFQUFlO1FBQ3hDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQzVCLFdBQVcsQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1FBQzVCLFdBQVcsQ0FBQyxXQUFXLEdBQUcsSUFBSSxpRkFBbUIsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDOUQsV0FBVyxDQUFDLEdBQUcsR0FBRyxJQUFJLG1FQUFHLEVBQUUsQ0FBQztJQUNoQyxDQUFDO0lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFjLEVBQUUsR0FBWSxFQUFFLEtBQWE7UUFDckQsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDO1lBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUN2RCxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN4Qyw4QkFBOEI7UUFDOUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3RELE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO0lBQ3pCLENBQUM7SUFFRCxNQUFNLENBQUMsbUJBQW1CLENBQ3RCLFFBQWlCLEVBQ2pCLE1BQWMsRUFDZCxlQUF1QixFQUN2QixhQUFrQztRQUVsQyxXQUFXLENBQUMsZUFBZSxHQUFHLGVBQWUsQ0FBQztRQUM5QyxXQUFXLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN2RSxPQUFPO1FBQ1AsaUdBQWlHO1FBQ2pHLGdFQUFnRTtRQUNoRSxrREFBa0Q7UUFDbEQsNEVBQTRFO1FBQzVFLDBEQUEwRDtRQUMxRCwrRUFBK0U7UUFFL0UsTUFBTSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUM7SUFDcEQsQ0FBQztJQUVELE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBaUIsRUFBRSxNQUFjLEVBQUUsS0FBYSxFQUFFLFlBQW9CO1FBQ2pGLFdBQVcsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3BFLFdBQVcsQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUM3RCxvRUFBb0U7WUFDcEUsRUFBRSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUseUVBQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDbEUsaURBQWlEO2dCQUVqRCxJQUFJLE1BQU0sR0FBVyxXQUFXLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsdUVBQU0sQ0FBQyxDQUFDO2dCQUNuRixJQUFJLElBQUksR0FBZ0IsV0FBVyxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLG9GQUFXLENBQUMsQ0FBQztnQkFFM0YsRUFBRSxDQUFDLENBQUMsTUFBTSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztvQkFDakMsSUFBSSxNQUFNLEdBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEtBQUssQ0FBQztvQkFDdkQsd0JBQXdCO29CQUN4QixzQkFBc0I7b0JBQ3RCLEVBQUUsQ0FBQyxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO3dCQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUMvQixDQUFDO29CQUVELDJEQUEyRDtvQkFDM0QsMkJBQTJCO29CQUMzQixnRUFBZ0U7b0JBQ2hFLElBQUk7b0JBRUosRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUM7d0JBQ2YsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUM7d0JBQ3ZDLEtBQUssQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7d0JBQzVCLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQzt3QkFDbEIsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQzlCLENBQUM7Z0JBQ0wsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7Q0FDSjtBQUFBO0FBQUE7Ozs7Ozs7Ozs7QUMvRm1DO0FBQ0o7QUFFMUI7SUFJRjtRQUhPLGFBQVEsR0FBWSxJQUFJLHlEQUFPLEVBQUUsQ0FBQztRQUNsQyxZQUFPLEdBQVksSUFBSSx5REFBTyxFQUFFLENBQUM7SUFFekIsQ0FBQztJQUVoQixJQUFJLENBQUM7UUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUNELElBQUksQ0FBQztRQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBQ0QsSUFBSSxDQUFDO1FBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFDRCxJQUFJLENBQUM7UUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUVEOztPQUVHO0lBQ0gsT0FBTyxDQUFDLElBQVU7UUFDZCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUNsRyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUNsRyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxZQUFZLENBQUMsSUFBVTtRQUNuQixNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxhQUFhLENBQUMsS0FBYztRQUN4QixNQUFNLENBQUMsQ0FDSCxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FDL0csQ0FBQztJQUNOLENBQUM7SUFFRCxXQUFXLENBQUMsSUFBVTtRQUNsQixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsSUFBSTtRQUNBLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVELE9BQU87UUFDSCxNQUFNLENBQUMsSUFBSSxxREFBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRUQsV0FBVyxDQUFDLEtBQVc7UUFDbkIsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2pCLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNqQixLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDakIsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFFRCxLQUFL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QUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoRixJQUFJLEdBQUcsR0FBRyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0IsSUFBSSxHQUFHLEdBQUcsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdCLElBQUksR0FBRyxHQUFHLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3QixJQUFJLEdBQUcsR0FBRyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0IsSUFBSSxHQUFHLEdBQUcsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdCLElBQUksR0FBRyxHQUFHLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUU3QixJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUM3QixJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUU3QixJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUMvQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUMvQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFFckQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDL0MsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDL0MsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBRXJELElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztJQUV4RCxDQUFDO0lBRU0sV0FBVztJQUVsQixDQUFDO0NBR0o7QUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7O0FDbklLO0lBQ0YsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3pDLENBQUM7QUFFSyxrQkFBbUIsTUFBb0I7SUFDekMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNkLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDZCxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2QsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNkLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDZCxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2QsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNkLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDZCxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2QsTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUNsQixDQUFDO0FBRUssa0JBQW1CLEdBQWlCLEVBQUUsSUFBa0IsRUFBRSxJQUFrQjtJQUM5RSxFQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDO1FBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztJQUU3QixJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQ1osR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFDWixHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUNaLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQ1osR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFDWixHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUNaLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQ1osR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFDWixHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUNaLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2IsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDYixHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNiLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2IsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDYixHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNiLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ2IsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDYixHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRWxCLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztJQUM1QyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7SUFDNUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO0lBRTVDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztJQUM1QyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7SUFDNUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO0lBRTVDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztJQUM1QyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7SUFDNUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO0lBRTVDLE1BQU0sQ0FBQyxJQUFJLENBQUM7QUFDaEIsQ0FBQztBQUVLLGVBQWdCLEdBQWlCO0lBQ25DLElBQUksTUFBTSxHQUFHLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkIsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuQixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ25CLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkIsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuQixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ25CLE1BQU0sQ0FBQyxDQUFDLENB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QUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztRQUU3QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsR0FBRyxRQUFRLENBQUM7UUFFaEMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBSSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUMvRCxDQUFDO0lBRU0sR0FBRyxDQUFDLENBQVMsRUFBRSxDQUFTO1FBQzNCLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFTSxPQUFPLENBQUMsQ0FBUyxFQUFFLENBQVM7UUFDL0IsTUFBTSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3BILENBQUM7SUFFTSxHQUFHLENBQUMsQ0FBUyxFQUFFLENBQVMsRUFBRSxLQUFRO1FBQ3JDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO0lBQzlDLENBQUM7SUFFTSxLQUFLLENBQUMsS0FBYTtRQUN0QixxQ0FBcUM7UUFDckMsc0NBQXNDO1FBQ3RDLHlDQUF5QztRQUN6QyxNQUFNLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRU0sS0FBSztRQUNSLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUks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QUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekUsSUFBSSxJQUFJLEdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN6RSxJQUFJLElBQUksR0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRXpFLEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekIsb0JBQW9CO1FBQ3BCLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNkLENBQUM7SUFFRCxJQUFJLENBQUMsR0FBVyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQzVCLElBQUksQ0FBQyxHQUFXLElBQUksR0FBRyxJQUFJLENBQUM7SUFFNUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FB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Q0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFFTSxTQUFTLENBQUMsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFTO1FBQzVDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzFCLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3RCLENBQUM7Q0FDSjtB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Q0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFFRSxXQUFXLENBQUMsQ0FBUyxFQUFDLENBQVMsRUFBQyxDQUFTO1FBQ3hDLEVBQUUsQ0FBQyxDQUFDLGlGQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUMsMEVBQVUsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDL0YsQ0FBQztJQUNGLENBQUM7Q0FFSjtBQUFBO0FBQUE7Ozs7Ozs7O0FDMUJLO0lBSUYsWUFBWSxNQUFhO1FBQ3JCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3pCLENBQUM7Q0FDSjtBQUFBO0FBQUEiLCJmaWxlIjoiLi9kaXN0L2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNzUpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGIwNWQ1NzJmOWYyNmU2NDhhODcxIiwiZXhwb3J0IGNsYXNzIFZlY3RvcjIge1xuXG4gICAgcHVibGljIHg6IG51bWJlcjtcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xuXG4gICAgc3RhdGljIFpFUk9fVE9MRVJBTkNFID0gMWUtODtcblxuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciA9IDAuMCwgeTogbnVtYmVyID0gMC4wKSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgfVxuXG4gICAgc2V0VG8oeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG5cbiAgICBjb3B5KHY6IFZlY3RvcjIpIHtcbiAgICAgICAgdGhpcy54ID0gdi54O1xuICAgICAgICB0aGlzLnkgPSB2Lnk7XG4gICAgfVxuXG4gICAgY2xvbmUoKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLngsIHRoaXMueSk7XG4gICAgfVxuXG4gICAgbm9ybWFsaXplKCk6IG51bWJlciB7XG4gICAgICAgIHZhciB0ID0gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSkgKyBWZWN0b3IyLlpFUk9fVE9MRVJBTkNFO1xuICAgICAgICB0aGlzLnggLz0gdDtcbiAgICAgICAgdGhpcy55IC89IHQ7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cblxuICAgIGxlbmd0aCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSk7XG4gICAgfVxuXG4gICAgbGVuZ3RoU3FyZCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55O1xuICAgIH1cblxuICAgIGNsYW1wU2NhbGFyKG1heDogbnVtYmVyKSB7XG4gICAgICAgIHZhciBsID0gdGhpcy5sZW5ndGgoKTtcbiAgICAgICAgaWYgKGwgPiBtYXgpIHtcbiAgICAgICAgICAgIHRoaXMubXVsdEVxdWFscyhtYXggLyBsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsYW1wVmVjdG9yKHY6IFZlY3RvcjIpIHtcbiAgICAgICAgdGhpcy54ID0gTWF0aC5taW4oTWF0aC5tYXgodGhpcy54LCAtdi54KSwgdi54KTtcbiAgICAgICAgdGhpcy55ID0gTWF0aC5taW4oTWF0aC5tYXgodGhpcy55LCAtdi55KSwgdi55KTtcbiAgICB9XG5cbiAgICBwbHVzRXF1YWxzKHY6IFZlY3RvcjIpIHtcbiAgICAgICAgdGhpcy54ICs9IHYueDtcbiAgICAgICAgdGhpcy55ICs9IHYueTtcbiAgICB9XG5cbiAgICBtaW51c0VxdWFscyh2OiBWZWN0b3IyKSB7XG4gICAgICAgIHRoaXMueCAtPSB2Lng7XG4gICAgICAgIHRoaXMueSAtPSB2Lnk7XG4gICAgfVxuXG4gICAgbXVsdEVxdWFscyhzOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy54ICo9IHM7XG4gICAgICAgIHRoaXMueSAqPSBzO1xuICAgIH1cblxuICAgIHBsdXNNdWx0RXF1YWxzKHY6IFZlY3RvcjIsIHM6IG51bWJlcikge1xuICAgICAgICB0aGlzLnggKz0gdi54ICogcztcbiAgICAgICAgdGhpcy55ICs9IHYueSAqIHM7XG4gICAgfVxuXG4gICAgbWludXNNdWx0RXF1YWxzKHY6IFZlY3RvcjIsIHM6IG51bWJlcikge1xuICAgICAgICB0aGlzLnggLT0gdi54ICogcztcbiAgICAgICAgdGhpcy55IC09IHYueSAqIHM7XG4gICAgfVxuXG4gICAgZG90KHY6IFZlY3RvcjIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy54ICogdi54ICsgdGhpcy55ICogdi55O1xuICAgIH1cblxuICAgIGNyb3NzKHY6IFZlY3RvcjIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy54ICogdi55IC0gdGhpcy55ICogdi54O1xuICAgIH1cblxuICAgIGxlZnRIYW5kTm9ybWFsKCk6IFZlY3RvcjIge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy55LCAtdGhpcy54KTtcbiAgICB9XG5cbiAgICBsZWZ0SGFuZE5vcm1hbEVxdWFscygpIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLng7XG4gICAgICAgIHRoaXMueCA9IHRoaXMueTtcbiAgICAgICAgdGhpcy55ID0gLXQ7XG4gICAgfVxuXG4gICAgcmlnaHRIYW5kTm9ybWFsKCk6IFZlY3RvcjIge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoLXRoaXMueSwgdGhpcy54KTtcbiAgICB9XG5cbiAgICByaWdodEhhbmROb3JtYWxFcXVhbHMoKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy54O1xuICAgICAgICB0aGlzLnggPSAtdGhpcy55O1xuICAgICAgICB0aGlzLnkgPSB0O1xuICAgIH1cblxuICAgIHJlZmxlY3RFcXVhbHMobm9ybWFsOiBWZWN0b3IyKSB7XG4gICAgICAgIHZhciBkID0gdGhpcy5kb3Qobm9ybWFsKTtcbiAgICAgICAgdGhpcy54IC09IDIgKiBkICogbm9ybWFsLng7XG4gICAgICAgIHRoaXMueSAtPSAyICogZCAqIG5vcm1hbC55O1xuICAgIH1cblxuICAgIGludGVycG9sYXRlKHYxOiBWZWN0b3IyLCB2MjogVmVjdG9yMiwgdDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY29weSh2MSk7XG4gICAgICAgIHRoaXMubXVsdEVxdWFscygxIC0gdCk7XG4gICAgICAgIHRoaXMucGx1c011bHRFcXVhbHModjIsIHQpO1xuICAgICAgICAvLyByZXR1cm4gdjEubXVsdCgxIC0gdCkucGx1cyh2Mi5tdWx0KHQpKTtcbiAgICB9XG5cbiAgICBzZXRBbmdsZShhbmdsZTogbnVtYmVyKSB7XG4gICAgICAgIHZhciBsZW4gPSB0aGlzLmxlbmd0aCgpO1xuICAgICAgICB0aGlzLnggPSBNYXRoLmNvcyhhbmdsZSkgKiBsZW47XG4gICAgICAgIHRoaXMueSA9IE1hdGguc2luKGFuZ2xlKSAqIGxlbjtcbiAgICB9XG5cbiAgICByb3RhdGVFcXVhbHMoYW5nbGU6IG51bWJlcikge1xuICAgICAgICB2YXIgYTogbnVtYmVyID0gYW5nbGUgKiAoTWF0aC5QSSAvIDE4MCk7XG4gICAgICAgIHZhciBjb3M6IG51bWJlciA9IE1hdGguY29zKGEpO1xuICAgICAgICB2YXIgc2luOiBudW1iZXIgPSBNYXRoLnNpbihhKTtcbiAgICAgICAgdGhpcy54ID0gY29zICogdGhpcy54IC0gc2luICogdGhpcy55O1xuICAgICAgICB0aGlzLnkgPSBjb3MgKiB0aGlzLnkgKyBzaW4gKiB0aGlzLng7XG4gICAgfVxuXG4gICAgc2V0VW5pdFJvdGF0aW9uKGFuZ2xlOiBudW1iZXIpIHtcbiAgICAgICAgdmFyIGE6IG51bWJlciA9IGFuZ2xlICogKE1hdGguUEkgLyAxODApO1xuICAgICAgICB0aGlzLnggPSBNYXRoLmNvcyhhKTtcbiAgICAgICAgdGhpcy55ID0gTWF0aC5zaW4oYSk7XG4gICAgfVxuXG4gICAgaGVhZGluZygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksIHRoaXMueCk7XG4gICAgfVxuXG4gICAgZGlzdFNxcmQodjogVmVjdG9yMik6IG51bWJlciB7XG4gICAgICAgIHZhciBkWCA9IHRoaXMueCAtIHYueDtcbiAgICAgICAgdmFyIGRZID0gdGhpcy55IC0gdi55O1xuICAgICAgICByZXR1cm4gZFggKiBkWCArIGRZICogZFk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2dlb20vVmVjdG9yMi50cyIsImltcG9ydCB7IElDb21wb25lbnRGYWN0b3J5IH0gZnJvbSBcIi4vQ29tcG9uZW50XCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9FbnRpdHlcIjtcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gXCIuL0VuZ2luZVwiO1xuXG5pbnRlcmZhY2UgRW50aXR5RW50cnkge1xuICAgIGNvbXBvbmVudHM6IGFueVtdO1xuICAgIGJvdW5kVXBkYXRlOiAoKSA9PiB2b2lkO1xufVxuZXhwb3J0IGNsYXNzIFN5c3RlbSB7XG4gICAgcHVibGljIGVuZ2luZTogRW5naW5lO1xuICAgIHB1YmxpYyBjb21wb25lbnRzOiBzdHJpbmdbXTtcbiAgICBwdWJsaWMgbWVtYmVyczogTWFwPEVudGl0eSwgRW50aXR5RW50cnk+O1xuXG4gICAgcHJvdGVjdGVkIGR0OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHRpbWVzdGFtcDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50czogSUNvbXBvbmVudEZhY3RvcnlbXSkge1xuICAgICAgICB0aGlzLm1lbWJlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IGNvbXBvbmVudHMubWFwKGZhY3RvcnkgPT4gZmFjdG9yeS5uYW1lKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkRW50aXR5KGVudGl0eTogRW50aXR5LCBjb21wb25lbnRzOiBhbnlbXSkge1xuICAgICAgICBpZiAodGhpcy5tZW1iZXJzLmhhcyhlbnRpdHkpKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGJvdW5kVXBkYXRlID0gdGhpcy51cGRhdGVFbnRpdHkuYmluZCh0aGlzLCBlbnRpdHksIC4uLmNvbXBvbmVudHMpO1xuICAgICAgICBjb25zdCBlbnRyeSA9IHsgY29tcG9uZW50cywgYm91bmRVcGRhdGUgfTtcbiAgICAgICAgdGhpcy5tZW1iZXJzLnNldChlbnRpdHksIGVudHJ5KTtcbiAgICAgICAgdGhpcy5vbkVudGl0eUFkZGVkKGVudGl0eSwgLi4uY29tcG9uZW50cyk7XG4gICAgfVxuXG4gICAgcHVibGljIG9uRW50aXR5QWRkZWQoZW50aXR5OiBFbnRpdHksIC4uLmNvbXBvbmVudHM6IGFueVtdKSB7fVxuXG4gICAgcHVibGljIHJlbW92ZUVudGl0eShlbnRpdHk6IEVudGl0eSkge1xuICAgICAgICBpZiAoIXRoaXMubWVtYmVycy5oYXMoZW50aXR5KSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBlbnRyeSA9IHRoaXMubWVtYmVycy5nZXQoZW50aXR5KTtcbiAgICAgICAgdGhpcy5vbkVudGl0eVJlbW92ZWQoZW50aXR5LCAuLi5lbnRyeS5jb21wb25lbnRzKTtcbiAgICAgICAgdGhpcy5tZW1iZXJzLmRlbGV0ZShlbnRpdHkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvbkVudGl0eVJlbW92ZWQoZW50aXR5OiBFbnRpdHksIC4uLmNvbXBvbmVudHM6IGFueVtdKSB7fVxuXG4gICAgcHVibGljIHVwZGF0ZVN5c3RlbShkdDogbnVtYmVyLCB0aW1lc3RhbXA6IG51bWJlcikge1xuICAgICAgICB0aGlzLmR0ID0gZHQ7XG4gICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgICAgICBpZiAoIXRoaXMucHJlVXBkYXRlKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZUFsbEVudGl0aWVzKCk7XG4gICAgICAgIHRoaXMucG9zdFVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBwcmVVcGRhdGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVBbGxFbnRpdGllcygpIHtcbiAgICAgICAgZm9yIChsZXQgaSBvZiB0aGlzLm1lbWJlcnMua2V5cygpKSB7XG4gICAgICAgICAgICB0aGlzLm1lbWJlcnMuZ2V0KGkpLmJvdW5kVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgcG9zdFVwZGF0ZSgpIHt9XG5cbiAgICBwdWJsaWMgdXBkYXRlRW50aXR5KGVudGl0eTogRW50aXR5LCAuLi5jb21wb25lbnRzOiBhbnlbXSkge31cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9lY3MvU3lzdGVtLnRzIiwiaW1wb3J0IHsgQkZQcm94eSB9IGZyb20gXCIuLi9jb2xsaXNpb24vQkZQcm94eVwiO1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4uL2NvbGxpc2lvbi9GaWx0ZXJcIjtcbmltcG9ydCB7IENvbnRhY3RDYWxsYmFjayB9IGZyb20gXCIuLi9jb2xsaXNpb24vQ29udGFjdFwiO1xuaW1wb3J0IHsgQm9keSB9IGZyb20gXCIuLi9Cb2R5XCI7XG5cbmV4cG9ydCBjbGFzcyBQaHlzaWNzQ29sbGlzaW9uIHtcbiAgICBwdWJsaWMgcHJveHk6IEJGUHJveHk7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgaXNTZW5zb3I6IGJvb2xlYW4sXG4gICAgICAgIGZpbHRlcjogRmlsdGVyLFxuICAgICAgICBjb250YWN0Q2FsbGJhY2tzOiBBcnJheTxDb250YWN0Q2FsbGJhY2s+LFxuICAgICAgICBsaW1pdFRvU3RhdGljQ2hlY2s6IGJvb2xlYW4gPSBmYWxzZSxcbiAgICAgICAgZm9yY2VBdHRhY2hCb2R5OkJvZHkgPSBudWxsXG4gICAgKSB7XG4gICAgICAgIHRoaXMucHJveHkgPSBuZXcgQkZQcm94eSgpO1xuICAgICAgICB0aGlzLnByb3h5LmlzU2Vuc29yID0gaXNTZW5zb3I7XG4gICAgICAgIHRoaXMucHJveHkuZmlsdGVyID0gZmlsdGVyO1xuICAgICAgICB0aGlzLnByb3h5LmNvbnRhY3RDYWxsYmFja3MgPSBjb250YWN0Q2FsbGJhY2tzO1xuICAgICAgICB0aGlzLnByb3h5LmxpbWl0VG9TdGF0aWNDaGVjayA9IGxpbWl0VG9TdGF0aWNDaGVjaztcbiAgICAgICAgaWYgKGZvcmNlQXR0YWNoQm9keSkge1xuICAgICAgICAgICAgdGhpcy5wcm94eS5ib2R5ID0gZm9yY2VBdHRhY2hCb2R5O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3BoeXNpY3MvY29tcG9uZW50cy9QaHlzaWNzQ29sbGlzaW9uLnRzIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi9nZW9tL1ZlY3RvcjJcIjtcblxuZXhwb3J0IGNsYXNzIFBvc2l0aW9uIHtcbiAgICBwdWJsaWMgY29vcmRzOiBWZWN0b3IyO1xuICAgIHB1YmxpYyBwcmV2Q29vcmRzOiBWZWN0b3IyO1xuICAgIHB1YmxpYyBkaXJlY3Rpb246IFZlY3RvcjI7XG5cbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNvb3JkcyA9IG5ldyBWZWN0b3IyKHgsIHkpO1xuICAgICAgICB0aGlzLnByZXZDb29yZHMgPSBuZXcgVmVjdG9yMih4LCB5KTtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBuZXcgVmVjdG9yMigxLCAxKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKHBvc2l0aW9uOiBWZWN0b3IyKSB7XG4gICAgICAgIHRoaXMucHJldkNvb3Jkcy5jb3B5KHRoaXMuY29vcmRzKTtcbiAgICAgICAgdGhpcy5jb29yZHMuY29weShwb3NpdGlvbik7XG4gICAgfVxuXG4gICAgcHVibGljIGNsb25lKCk6IFBvc2l0aW9uIHtcbiAgICAgICAgdmFyIGNsb25lID0gbmV3IFBvc2l0aW9uKHRoaXMuY29vcmRzLngsIHRoaXMuY29vcmRzLnkpO1xuICAgICAgICBjbG9uZS5wcmV2Q29vcmRzLmNvcHkodGhpcy5wcmV2Q29vcmRzKTtcbiAgICAgICAgY2xvbmUuZGlyZWN0aW9uLmNvcHkodGhpcy5kaXJlY3Rpb24pO1xuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2NvcmUvY29tcG9uZW50cy9Qb3NpdGlvbi50cyIsImV4cG9ydCBjbGFzcyBBY3RpdmUge1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvQWN0aXZlLnRzIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi9nZW9tL1ZlY3RvcjJcIjtcblxuZXhwb3J0IGNsYXNzIEV4dGVudHMge1xuICAgIHB1YmxpYyBoYWxmV2lkdGhzOiBWZWN0b3IyO1xuICAgIHB1YmxpYyBvZmZzZXQ6IFZlY3RvcjI7XG5cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgb2Zmc2V0WDogbnVtYmVyID0gMCwgb2Zmc2V0WTogbnVtYmVyID0gMCkge1xuICAgICAgICB0aGlzLmhhbGZXaWR0aHMgPSBuZXcgVmVjdG9yMih3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSBuZXcgVmVjdG9yMihvZmZzZXRYLCBvZmZzZXRZKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL0V4dGVudHMudHMiLCJpbXBvcnQgeyBCb2R5IH0gZnJvbSBcIi4uL0JvZHlcIjtcblxuZXhwb3J0IGNsYXNzIFBoeXNpY3NCb2R5IHtcbiAgICBwdWJsaWMgYm9keTogQm9keTtcbiAgICBwdWJsaWMgc2V0TWFzc0Zyb21Wb2x1bWU6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihib2R5OiBCb2R5LCBzZXRNYXNzRnJvbVZvbHVtZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgICAgIHRoaXMuc2V0TWFzc0Zyb21Wb2x1bWUgPSBzZXRNYXNzRnJvbVZvbHVtZTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvcGh5c2ljcy9jb21wb25lbnRzL1BoeXNpY3NCb2R5LnRzIiwiaW1wb3J0IHsgU2ltcGxlRlNNLCBTaW1wbGVGU01TdGF0ZXMgfSBmcm9tIFwiLi4vLi4vYWkvZnNtL1NpbXBsZUZTTVwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gXCIuLi8uLi9zaWduYWxzL1NpZ25hbFwiO1xuXG5leHBvcnQgY2xhc3MgU3RhdGUge1xuXG4gICAgcHVibGljIHN0YXRlczogU2ltcGxlRlNNU3RhdGVzO1xuICAgIHB1YmxpYyBjdXJyZW50U3RhdGU6IHN0cmluZztcbiAgICBwdWJsaWMgb3JkZXI6IEFycmF5PHN0cmluZz47XG4gICAgcHVibGljIG1lc3NhZ2VzOlNpZ25hbDtcbiAgICBwdWJsaWMgb25DaGFuZ2U6ICgpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihzdGF0ZXM6IFNpbXBsZUZTTVN0YXRlcywgaW5pdGFsU3RhdGU6IHN0cmluZywgdHJpZ2dlckluaXRpYWxTdGF0ZTpib29sZWFuKSB7IC8vb3JkZXI6IEFycmF5PHN0cmluZz4sIGNoYW5uZWxzPzpBcnJheTxzdHJpbmc+KSB7XG4gICAgICAgIHRoaXMuc3RhdGVzID0gc3RhdGVzO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IGluaXRhbFN0YXRlO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzID0gbmV3IFNpZ25hbCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTdGF0ZShzdGF0ZTpzdHJpbmcpIHtcbiAgICAgICAgLy8gaWYgKHN0YXRlPT1cImFsaXZlXCIpIHtcbiAgICAgICAgLy8gICAgIGRlYnVnZ2VyO1xuICAgICAgICAvLyB9XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gc3RhdGU7XG4gICAgICAgIGlmICh0aGlzLm9uQ2hhbmdlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2NvcmUvY29tcG9uZW50cy9TdGF0ZS50cyIsImxldCBQc2V1ZG9SYW5kb21TZWVkOiBudW1iZXIgPSAzNDg5NzUyO1xuXG5leHBvcnQgZnVuY3Rpb24gU2V0UHNldWRvUmFuZG9tU2VlZChzZWVkOiBudW1iZXIpIHtcbiAgICBQc2V1ZG9SYW5kb21TZWVkID0gc2VlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJhbmRvbUZsb2F0KG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJhbmRvbUJvb2xlYW4oY2hhbmNlOiBudW1iZXIgPSAwLjUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSA8IGNoYW5jZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJhbmRvbVNpZ24oY2hhbmNlOiBudW1iZXIgPSAwLjUpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpIDwgY2hhbmNlID8gMSA6IC0xO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmFuZG9tSW50ZWdlcihtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLmZsb29yKFJhbmRvbUZsb2F0KG1pbiwgbWF4KSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQc2V1ZG9udW1iZXIoKTogbnVtYmVyIHtcbiAgICBQc2V1ZG9SYW5kb21TZWVkID0gKFBzZXVkb1JhbmRvbVNlZWQgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwO1xuICAgIHJldHVybiBQc2V1ZG9SYW5kb21TZWVkIC8gMjMzMjgwLjA7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvdXRpbC9SYW5kb20udHMiLCJleHBvcnQgY2xhc3MgTW92ZWFibGUge1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvTW92ZWFibGUudHMiLCJpbXBvcnQgeyBTcHJpdGUgfSBmcm9tIFwiLi4vZGlzcGxheWxpc3QvU3ByaXRlXCI7XG5pbXBvcnQgeyBGcmFtZSB9IGZyb20gXCIuLi9mcmFtZS9GcmFtZVwiO1xuaW1wb3J0IHsgRnJhbWVMaXN0IH0gZnJvbSBcIi4uL2ZyYW1lL0ZyYW1lTGlzdFwiO1xuXG5leHBvcnQgY2xhc3MgR3JhcGhpY3Mge1xuICAgIHB1YmxpYyBzcHJpdGU6IFNwcml0ZTtcbiAgICBwdWJsaWMgZnJhbWVMaXN0SWQ6IHN0cmluZztcbiAgICBwdWJsaWMgaW5pdGlhbEZyYW1lSWQ6IHN0cmluZztcbiAgICBwdWJsaWMgZnJhbWU6IEZyYW1lO1xuICAgIHB1YmxpYyBmcmFtZUxpc3Q6IEZyYW1lTGlzdDtcblxuICAgIGNvbnN0cnVjdG9yKGZyYW1lTGlzdElkOiBzdHJpbmcsIGluaXRpYWxGcmFtZUlkOnN0cmluZz1udWxsKSB7XG4gICAgICAgIHRoaXMuZnJhbWVMaXN0SWQgPSBmcmFtZUxpc3RJZDtcbiAgICAgICAgdGhpcy5pbml0aWFsRnJhbWVJZCA9IGluaXRpYWxGcmFtZUlkO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRGcmFtZSh2YWx1ZTogRnJhbWUpIHtcbiAgICAgICAgdGhpcy5mcmFtZSA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5zcHJpdGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZS51cGRhdGVTcHJpdGUodGhpcy5zcHJpdGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNldEZyYW1lSWQoaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLmZyYW1lID0gdGhpcy5mcmFtZUxpc3QuZ2V0RnJhbWUoaWQpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9ncmFwaGljcy9jb21wb25lbnRzL0dyYXBoaWNzLnRzIiwiaW1wb3J0IHsgQUFCQiB9IGZyb20gXCIuL0FBQkJcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi9WZWN0b3IyXCI7XG5cbmV4cG9ydCBjbGFzcyBBQUJCMiB7XG4gICAgcHVibGljIGw6IG51bWJlciA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBwdWJsaWMgdDogbnVtYmVyID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIHB1YmxpYyByOiBudW1iZXIgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgcHVibGljIGI6IG51bWJlciA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcblxuICAgIGNvbnN0cnVjdG9yKHQgPSAwLjAsIHIgPSAwLjAsIGIgPSAwLjAsIGwgPSAwLjApIHtcbiAgICAgICAgdGhpcy50ID0gdDtcbiAgICAgICAgdGhpcy5yID0gcjtcbiAgICAgICAgdGhpcy5iID0gYjtcbiAgICAgICAgdGhpcy5sID0gbDtcbiAgICB9XG5cbiAgICBzZXRUb1N3ZWVwdEFBQkIoYWFiYjogQUFCQiwgcHJlZGl0Y2VkUG9zaXRpb246IFZlY3RvcjIpIHtcbiAgICAgICAgdGhpcy5sID0gYWFiYi5wb3NpdGlvbi54IC0gYWFiYi5leHRlbnRzLng7XG4gICAgICAgIHRoaXMuciA9IGFhYmIucG9zaXRpb24ueCArIGFhYmIuZXh0ZW50cy54O1xuICAgICAgICB0aGlzLnQgPSBhYWJiLnBvc2l0aW9uLnkgLSBhYWJiLmV4dGVudHMueTtcbiAgICAgICAgdGhpcy5iID0gYWFiYi5wb3NpdGlvbi55ICsgYWFiYi5leHRlbnRzLnk7XG4gICAgfVxuXG4gICAgZnJvbUFBQkIoYWFiYjogQUFCQikge31cblxuICAgIGNsb25lKCk6IEFBQkIyIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBQUJCMih0aGlzLnQsIHRoaXMuciwgdGhpcy5iLCB0aGlzLmwpO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnQgPSB0aGlzLmwgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIHRoaXMuciA9IHRoaXMuYiA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgICB9XG5cbiAgICBnZXQgd2lkdGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuciAtIHRoaXMubDtcbiAgICB9XG5cbiAgICBnZXQgaGVpZ2h0KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmIgLSB0aGlzLnQ7XG4gICAgfVxuXG4gICAgaW50ZXJzZWN0KGFhYmI6IEFBQkIyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmwgPiBhYWJiLnIpIHJldHVybiBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5yIDwgYWFiYi5sKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudCA+IGFhYmIuYikgcmV0dXJuIGZhbHNlO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmIgPCBhYWJiLnQpIHJldHVybiBmYWxzZTtcbiAgICAgICAgZWxzZSByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBhZGRBQUJCKGFhYmI6IEFBQkIyKSB7XG4gICAgICAgIGlmIChhYWJiLnQgPCB0aGlzLnQpIHRoaXMudCA9IGFhYmIudDtcbiAgICAgICAgaWYgKGFhYmIuciA+IHRoaXMucikgdGhpcy5yID0gYWFiYi5yO1xuICAgICAgICBpZiAoYWFiYi5iID4gdGhpcy5iKSB0aGlzLmIgPSBhYWJiLmI7XG4gICAgICAgIGlmIChhYWJiLmwgPCB0aGlzLmwpIHRoaXMubCA9IGFhYmIubDtcbiAgICB9XG5cbiAgICBjb21iaW5lKGFhYmI6IEFBQkIyKTogQUFCQjIge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5hZGRBQUJCKGFhYmIpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGNvbWJpbmUyKGE6IEFBQkIyLCBiOiBBQUJCMik6QUFCQjIge1xuICAgICAgICB0aGlzLnQgPSBNYXRoLm1pbihhLnQsIGIudCk7XG4gICAgICAgIHRoaXMuciA9IE1hdGgubWF4KGEuciwgYi5yKTtcbiAgICAgICAgdGhpcy5iID0gTWF0aC5tYXgoYS5iLCBiLmIpO1xuICAgICAgICB0aGlzLmwgPSBNYXRoLm1pbihhLmwsIGIubCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFkZFBvaW50KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIGlmICh4IDwgdGhpcy5sKSB0aGlzLmwgPSB4O1xuICAgICAgICBpZiAoeCA+IHRoaXMucikgdGhpcy5yID0geDtcbiAgICAgICAgaWYgKHkgPCB0aGlzLnQpIHRoaXMudCA9IHk7XG4gICAgICAgIGlmICh5ID4gdGhpcy5iKSB0aGlzLmIgPSB5O1xuICAgIH1cblxuICAgIGZpdFBvaW50KHBvaW50OiBWZWN0b3IyKSB7XG4gICAgICAgIGlmIChwb2ludC54IDwgdGhpcy5sKSBwb2ludC54ID0gdGhpcy5sO1xuICAgICAgICBpZiAocG9pbnQueCA+IHRoaXMucikgcG9pbnQueCA9IHRoaXMucjtcbiAgICAgICAgaWYgKHBvaW50LnkgPCB0aGlzLnQpIHBvaW50LnkgPSB0aGlzLnQ7XG4gICAgICAgIGlmIChwb2ludC55ID4gdGhpcy5iKSBwb2ludC55ID0gdGhpcy5iO1xuICAgIH1cblxuICAgIGV4cGFuZChpOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5sIC09IGk7XG4gICAgICAgIHRoaXMuciArPSBpO1xuICAgICAgICB0aGlzLnQgLT0gaTtcbiAgICAgICAgdGhpcy5iICs9IGk7XG4gICAgfVxuXG4gICAgZXhwYW5kMih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLmwgKz0gd2lkdGggLyAyO1xuICAgICAgICB0aGlzLnIgLT0gd2lkdGggLyAyO1xuICAgICAgICB0aGlzLnQgKz0gaGVpZ2h0IC8gMjtcbiAgICAgICAgdGhpcy5iIC09IGhlaWdodCAvIDI7XG4gICAgfVxuXG4gICAgY29udGFpbnMoYWFiYjogQUFCQjIpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMubCA8PSBhYWJiLmwgJiYgdGhpcy50IDw9IGFhYmIudCAmJiBhYWJiLmIgPCB0aGlzLmIgJiYgYWFiYi5yIDwgdGhpcy5yKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29weShhYWJiOiBBQUJCMikge1xuICAgICAgICB0aGlzLmwgPSBhYWJiLmw7XG4gICAgICAgIHRoaXMuciA9IGFhYmIucjtcbiAgICAgICAgdGhpcy50ID0gYWFiYi50O1xuICAgICAgICB0aGlzLmIgPSBhYWJiLmI7XG4gICAgfVxuXG4gICAgY29weUFBQkIoYWFiYjogQUFCQikge1xuICAgICAgICB0aGlzLmwgPSBhYWJiLmw7XG4gICAgICAgIHRoaXMuciA9IGFhYmIucjtcbiAgICAgICAgdGhpcy50ID0gYWFiYi50O1xuICAgICAgICB0aGlzLmIgPSBhYWJiLmI7XG4gICAgfVxuXG4gICAgdHJhbnNmb3JtKGRpc3BsYWNlbWVudDogVmVjdG9yMikge1xuICAgICAgICB0aGlzLmwgKz0gZGlzcGxhY2VtZW50Lng7XG4gICAgICAgIHRoaXMuciArPSBkaXNwbGFjZW1lbnQueDtcbiAgICAgICAgdGhpcy50ICs9IGRpc3BsYWNlbWVudC55O1xuICAgICAgICB0aGlzLmIgKz0gZGlzcGxhY2VtZW50Lnk7XG4gICAgfVxuXG4gICAgcGVyaW1ldGVyKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAyICogKHRoaXMud2lkdGggKyB0aGlzLmhlaWdodCk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2dlb20vQUFCQjIudHMiLCJleHBvcnQgY2xhc3MgRmlsdGVyIHtcbiAgICAvL1R3byBwb3NpdGl2ZSBhbmQgZXF1YWwgZ3JvdXAgaW5kZXhzIGFsd2F5cyBjb2xsaWRlXG4gICAgLy9Ud28gbmVnYXRpdmUgYW5kIGVxdWFsIGdyb3VwIGluZGV4cyBuZXZlciBjb2xsaWRlXG4gICAgLy9Ud28gemVybyBncm91cCBpbmRleHMgYXJlIHBhc3NlZCB0aHJvdWdoXG4gICAgcHVibGljIGdyb3VwSW5kZXg6IG51bWJlciA9IDA7XG5cbiAgICAvL1doYXQgY2F0ZWdvcnkgdGhpcyBmaWx0ZXIgaXMgaW5cbiAgICBwdWJsaWMgY2F0ZWdvcnlCaXRzOiBudW1iZXIgPSAweDAwMDE7XG4gICAgLy9XaGF0IG90aGVyIGNhdGVnb3JpZXMgaXQgY2FuIGNvbGxpZGUgd2l0aFxuICAgIHB1YmxpYyBtYXNrQml0czogbnVtYmVyID0gMHhmZmZmZmZmZjtcblxuICAgIC8vZS5nLlxuICAgIC8vcGxheWVyLmZpbHRlci5jYXRlZ29yeUJpdHMgPSAweDAwMDJcbiAgICAvL3BsYXllci5maWx0ZXIubWFza0JpdHMgICAgID0gMHgwMDA0XG4gICAgLy9cbiAgICAvL2VuZW15LmZpbHRlci5jYXRlZ29yeUJpdHMgID0gMHgwMDA0XG4gICAgLy9lbmVteS5maWx0ZXIubWFza0JpdHMgICAgICA9IDB4MDAwMlxuICAgIC8vXG4gICAgLy9IZXJlLCBwbGF5ZXJzIGFuIGVuZW1pZXMgd2lsbCBjb2xsaWRlXG4gICAgLy9vdmVyZXZlciBwbGF5ZXJzIHdvbnQgY29sbGlkZSB3aXRoIHBsYXllciBvciBtb25zdGVycyB3aXRoIG1vc3RlcnNcblxuICAgIGNvbnN0cnVjdG9yKGNhdGVnb3J5Qml0czogbnVtYmVyID0gMHgxLCBtYXNrQml0czogbnVtYmVyID0gMHhmZmZmZmZmZiwgZ3JvdXBJbmRleDogbnVtYmVyID0gMHgwKSB7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnlCaXRzID0gY2F0ZWdvcnlCaXRzO1xuICAgICAgICB0aGlzLm1hc2tCaXRzID0gbWFza0JpdHM7XG4gICAgICAgIHRoaXMuZ3JvdXBJbmRleCA9IGdyb3VwSW5kZXg7XG4gICAgfVxuXG4gICAgc3RhdGljIENIRUNLKGZpbHRlckE6IEZpbHRlciwgZmlsdGVyQjogRmlsdGVyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChmaWx0ZXJBID09IG51bGwgfHwgZmlsdGVyQiA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGZpbHRlckEuZ3JvdXBJbmRleCA9PSBmaWx0ZXJCLmdyb3VwSW5kZXggJiYgZmlsdGVyQS5ncm91cEluZGV4ICE9IDApIHJldHVybiBmaWx0ZXJBLmdyb3VwSW5kZXggPiAwO1xuICAgICAgICByZXR1cm4gKGZpbHRlckEubWFza0JpdHMgJiBmaWx0ZXJCLmNhdGVnb3J5Qml0cykgIT0gMCAmJiAoZmlsdGVyQS5jYXRlZ29yeUJpdHMgJiBmaWx0ZXJCLm1hc2tCaXRzKSAhPSAwO1xuICAgIH1cblxuICAgIC8vIGlmICgoZmlsdGVyQS5ncm91cEluZGV4ID4gMCAmJiBmaWx0ZXJCLmdyb3VwSW5kZXggPiAwICYmIGZpbHRlckEuZ3JvdXBJbmRleCA9PSBmaWx0ZXJCLmdyb3VwSW5kZXgpKSB7XG4gICAgLy8gICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyB9XG4gICAgLy8gZWxzZSB7XG4gICAgLy8gICAgIGlmICgoZmlsdGVyQS5tYXNrQml0cyAmIGZpbHRlckIuY2F0ZWdvcnlCaXRzKSA9PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gICAgIGlmICgoZmlsdGVyQS5jYXRlZ29yeUJpdHMgJiBmaWx0ZXJCLm1hc2tCaXRzKSA9PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gfVxuICAgIC8vIHJldHVybiB0cnVlO1xuXG4gICAgcHVibGljIGNsb25lKCk6IEZpbHRlciB7XG4gICAgICAgIHJldHVybiBuZXcgRmlsdGVyKHRoaXMuY2F0ZWdvcnlCaXRzLCB0aGlzLm1hc2tCaXRzLCB0aGlzLmdyb3VwSW5kZXgpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9GaWx0ZXIudHMiLCJleHBvcnQgY2xhc3MgRml4ZWQge1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvRml4ZWQudHMiLCJleHBvcnQgY2xhc3MgTWF0ZXJpYWwge1xuICAgIHN0YXRpYyBOT1JNQUw6IE1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKDEsIDAuMywgMC4xKTtcbiAgICBzdGF0aWMgTElHSFRNRVRBTDogTWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoMS40LCAwLjMsIDAuMSk7XG4gICAgc3RhdGljIFJPQ0s6IE1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKDIuMCwgMC4yLCAwLjEpO1xuICAgIHN0YXRpYyBSVUJCRVI6TWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoMSwxLDAuMSk7XG5cbiAgICBwdWJsaWMgZGVuc2l0eTogbnVtYmVyO1xuICAgIHB1YmxpYyBlbGFzdGljaXR5OiBudW1iZXI7XG4gICAgcHVibGljIGZyaWN0aW9uOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihkZW5zaXR5OiBudW1iZXIgPSAxLCBlbGFzdGljaXR5OiBudW1iZXIgPSAwLjMsIGZyaWN0aW9uOiBudW1iZXIgPSAwLjEpIHtcbiAgICAgICAgdGhpcy5kZW5zaXR5ID0gZGVuc2l0eTtcbiAgICAgICAgdGhpcy5lbGFzdGljaXR5ID0gZWxhc3RpY2l0eTtcbiAgICAgICAgdGhpcy5mcmljdGlvbiA9IGZyaWN0aW9uO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9waHlzaWNzL01hdGVyaWFsLnRzIiwiZXhwb3J0IGNsYXNzIFZpZXdhYmxlIHtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL1ZpZXdhYmxlLnRzIiwiZXhwb3J0IGNsYXNzIFRlc3RGaWx0ZXJzIHtcbiAgICAvL0NhdGVnb3JpZXNcbiAgICBzdGF0aWMgUExBWUVSX0NBVDogbnVtYmVyID0gMHgxIDw8IDI7XG4gICAgc3RhdGljIFBST0pFQ1RJTEVfQ0FUOiBudW1iZXIgPSAweDEgPDwgMztcbiAgICBzdGF0aWMgUFJPSkVDVElMRV9DT0xMSURBQkxFX0NBVDogbnVtYmVyID0gMHgxIDw8IDQ7XG4gICAgc3RhdGljIFNPTElEX0NBVDogbnVtYmVyID0gMHgxIDw8IDU7XG4gICAgc3RhdGljIEhPTERBQkxFX0NBVDogbnVtYmVyID0gMHgxIDw8IDY7XG4gICAgc3RhdGljIHBoMV9DQVQ6IG51bWJlciA9IDB4MSA8PCA3O1xuICAgIHN0YXRpYyBwaDJfQ0FUOiBudW1iZXIgPSAweDEgPDwgODtcbiAgICBzdGF0aWMgcGgzX0NBVDogbnVtYmVyID0gMHgxIDw8IDk7XG4gICAgc3RhdGljIHBoNF9DQVQ6IG51bWJlciA9IDB4MSA8PCAxMDtcbiAgICBzdGF0aWMgcGg1X0NBVDogbnVtYmVyID0gMHgxIDw8IDExO1xuXG4gICAgLy9Hcm91cHNcbiAgICBzdGF0aWMgUExBWUVSX0dST1VQOiBudW1iZXIgPSAtMTtcbiAgICBzdGF0aWMgRU5FTVlfR1JPVVA6IG51bWJlciA9IC0yO1xuICAgIHN0YXRpYyBUVVJSRVRfR1JPVVA6IG51bWJlciA9IC0zO1xuICAgIHN0YXRpYyBCSVJEX0dST1VQOiBudW1iZXIgPSAtMztcblxuICAgIHN0YXRpYyBTT0xJRF9PQkpFQ1RfR1JPVVA6IG51bWJlciA9IDE7IC8vZS5nLiBEb29yc1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Rlc3QvY29uZmlnL0ZpbHRlcnMudHMiLCJpbXBvcnQgeyBBbmltYXRpb25Db250cm9sbGVyIH0gZnJvbSBcIi4uL2FuaW1hdGlvbi9BbmltYXRpb25Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBGcmFtZUxpc3QgfSBmcm9tIFwiLi4vZnJhbWUvRnJhbWVMaXN0XCI7XG5cbmV4cG9ydCBjbGFzcyBHcmFwaGljc0FuaW1hdGlvbiB7XG4gICAgcHVibGljIGZyYW1lTGlzdElkOiBzdHJpbmc7XG4gICAgcHVibGljIGFuaW1hdGlvbklkOiBzdHJpbmc7XG4gICAgcHVibGljIGRpcnR5OmJvb2xlYW47XG5cbiAgICBwdWJsaWMgYW5pbWF0aW9uQ29udHJvbGxlcjogQW5pbWF0aW9uQ29udHJvbGxlcjtcbiAgICBwdWJsaWMgZnJhbWVMaXN0OkZyYW1lTGlzdDtcblxuICAgIGNvbnN0cnVjdG9yKGZyYW1lTGlzdElkOiBzdHJpbmcsIGFuaW1hdGlvbklkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5mcmFtZUxpc3RJZCA9IGZyYW1lTGlzdElkO1xuICAgICAgICB0aGlzLnBsYXkoYW5pbWF0aW9uSWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBwbGF5KGFuaW1hdGlvbklkOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uSWQgPT09IGFuaW1hdGlvbklkKSByZXR1cm47XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uSWQgPSBhbmltYXRpb25JZDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ3JhcGhpY3MvY29tcG9uZW50cy9HcmFwaGljc0FuaW1hdGlvbi50cyIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vZ2VvbS9WZWN0b3IyXCI7XG5pbXBvcnQgeyBNYXRlcmlhbCB9IGZyb20gXCIuL01hdGVyaWFsXCI7XG5pbXBvcnQgeyBDb250YWN0IH0gZnJvbSBcIi4vY29sbGlzaW9uL0NvbnRhY3RcIjtcblxuY29uc3QgU0xFRVBfQklBUzogbnVtYmVyID0gMC45OTMzMjgwNTA0MTQ2NztcbmNvbnN0IFNMRUVQX0VQU0lMT046IG51bWJlciA9IDAuMDAwOTtcbmNvbnN0IFdBS0VfTU9USU9OOiBudW1iZXIgPSAxMDtcbmNvbnN0IE1BU1NfU0NBTEU6IG51bWJlciA9IDEgLyAxMDtcblxuZXhwb3J0IGNsYXNzIEJvZHkge1xuICAgIHB1YmxpYyBwb3NpdGlvbjogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG4gICAgcHVibGljIHBvc2l0aW9uQ29ycmVjdGlvbjogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG4gICAgcHVibGljIHByZWRpY3RlZFBvc2l0aW9uOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcbiAgICBwdWJsaWMgZGVsdGE6IFZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xuICAgIHB1YmxpYyBwcmV2aW91c1Bvc2l0aW9uOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcblxuICAgIHB1YmxpYyB2ZWxvY2l0eTogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG4gICAgcHVibGljIG9yaWdpbmFsVmVsb2NpdHk6IFZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xuICAgIHB1YmxpYyBwcmV2aW91c1ZlbG9jaXR5OiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcblxuICAgIHB1YmxpYyBjb250YWN0Tm9ybWFsOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcbiAgICBwdWJsaWMgcHJldkNvbnRhY3ROb3JtYWw6IFZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xuXG4gICAgcHVibGljIHRhbmdlbnQ6IFZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xuICAgIHB1YmxpYyB0b2k6IG51bWJlcjtcblxuICAgIHB1YmxpYyBzdGVwQ29udGFjdENvdW50OiBudW1iZXIgPSAwO1xuXG4gICAgcHVibGljIG1heFNjYWxhclZlbG9jaXR5OiBudW1iZXIgPSAxMDAwO1xuICAgIHB1YmxpYyBtYXhWZWxvY2l0eTogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG5cbiAgICBwdWJsaWMgbWF0ZXJpYWw6IE1hdGVyaWFsO1xuXG4gICAgcHVibGljIGZvcmNlczogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG4gICAgcHJpdmF0ZSBhY2N1bXVsYXRlZEZvcmNlczogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG5cbiAgICBwdWJsaWMgaXNCdWxsZXQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHB1YmxpYyBkYW1waW5nOiBudW1iZXIgPSAxO1xuICAgIHB1YmxpYyBnbG9iYWxGb3JjZUZhY3RvcjogbnVtYmVyID0gMTtcblxuICAgIHB1YmxpYyBtYXNzOiBudW1iZXIgPSAxO1xuICAgIHB1YmxpYyBpbnZNYXNzOiBudW1iZXIgPSAxO1xuXG4gICAgcHVibGljIGR0OiBudW1iZXIgPSAwO1xuXG4gICAgcHVibGljIG1vdGlvbjogbnVtYmVyID0gV0FLRV9NT1RJT047XG4gICAgcHVibGljIGNhblNsZWVwOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHVibGljIGlzU2xlZXBpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHB1YmxpYyBvbkdyb3VuZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHB1YmxpYyBvbkdyb3VuZFByZXY6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHB1YmxpYyBpbldhdGVyOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHVibGljIGluV2F0ZXJQcmV2OiBib29sZWFuID0gZmFsc2U7XG4gICAgcHVibGljIHVzZXNTdGFpcnM6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHB1YmxpYyBjb2xsaWRlT25lV2F5OiBib29sZWFuID0gdHJ1ZTtcblxuICAgIHB1YmxpYyB0b3RhbEJvdW5jZUNvdW50OiBudW1iZXIgPSAwO1xuICAgIHB1YmxpYyBib3VuY2VDb3VudDogbnVtYmVyID0gMDtcblxuICAgIHB1YmxpYyBkZWJ1ZzogbnVtYmVyID0gMDtcblxuICAgIHB1YmxpYyBza2lwOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvLyBwdWJsaWMgdmFyIHN3ZWVwOkFBQkIyID0gbmV3IGdsYXplLmdlb20uQUFCQjIoKTtcblxuICAgIGNvbnN0cnVjdG9yKG1hdGVyaWFsOiBNYXRlcmlhbCA9IG51bGwsIG1hc3M6IG51bWJlciA9IDEpIHtcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IG1hdGVyaWFsID09IG51bGwgPyBuZXcgTWF0ZXJpYWwoKSA6IG1hdGVyaWFsO1xuICAgICAgICB0aGlzLnNldE1hc3MobWFzcyk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZShkdDogbnVtYmVyLCBnbG9iYWxGb3JjZXM6IFZlY3RvcjIsIGdsb2JhbERhbXBpbmc6IG51bWJlcikge1xuICAgICAgICB0aGlzLmR0ID0gZHQ7XG4gICAgICAgIHRoaXMub25Hcm91bmRQcmV2ID0gdGhpcy5vbkdyb3VuZDtcbiAgICAgICAgdGhpcy5vbkdyb3VuZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmluV2F0ZXJQcmV2ID0gdGhpcy5pbldhdGVyO1xuICAgICAgICB0aGlzLmluV2F0ZXIgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5za2lwIHx8IHRoaXMuaXNTbGVlcGluZykgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMubW90aW9uID0gU0xFRVBfQklBUyAqIHRoaXMubW90aW9uICsgKDEgLSBTTEVFUF9CSUFTKSAqIHRoaXMudmVsb2NpdHkubGVuZ3RoU3FyZCgpO1xuICAgICAgICB0aGlzLm1vdGlvbiA9IE1hdGgubWluKHRoaXMubW90aW9uLCAxMCAqIFNMRUVQX0VQU0lMT04pO1xuICAgICAgICB0aGlzLmNhblNsZWVwID0gdGhpcy5tb3Rpb24gPCBTTEVFUF9FUFNJTE9OO1xuXG4gICAgICAgIHRoaXMucHJldmlvdXNWZWxvY2l0eS5jb3B5KHRoaXMudmVsb2NpdHkpO1xuXG4gICAgICAgIC8vQWRkIGdsb2JhbCBmb3JjZXMgdG8gbG9jYWwgb25lc1xuICAgICAgICB0aGlzLmZvcmNlcy5wbHVzTXVsdEVxdWFscyhnbG9iYWxGb3JjZXMsIHRoaXMuZ2xvYmFsRm9yY2VGYWN0b3IpO1xuICAgICAgICB0aGlzLnZlbG9jaXR5LnBsdXNFcXVhbHModGhpcy5mb3JjZXMpO1xuICAgICAgICB0aGlzLnZlbG9jaXR5Lm11bHRFcXVhbHMoZ2xvYmFsRGFtcGluZyAqIHRoaXMuZGFtcGluZyk7XG5cbiAgICAgICAgLy9XaGljaCB2ZWxvY2l0eSBsaW1pdGluZyB0eXBlP1xuICAgICAgICAvLyBpZiAoIWlzQnVsbGV0KSB7XG4gICAgICAgIGlmICh0aGlzLm1heFNjYWxhclZlbG9jaXR5ID4gMCkge1xuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eS5jbGFtcFNjYWxhcih0aGlzLm1heFNjYWxhclZlbG9jaXR5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHkuY2xhbXBWZWN0b3IodGhpcy5tYXhWZWxvY2l0eSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHRoaXMub3JpZ2luYWxWZWxvY2l0eS5jb3B5KHRoaXMudmVsb2NpdHkpO1xuXG4gICAgICAgIHRoaXMucHJlZGljdGVkUG9zaXRpb24uY29weSh0aGlzLnBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5wcmVkaWN0ZWRQb3NpdGlvbi5wbHVzTXVsdEVxdWFscyh0aGlzLnZlbG9jaXR5LCBkdCk7XG4gICAgICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbi5jb3B5KHRoaXMucG9zaXRpb24pO1xuXG4gICAgICAgIHRoaXMuZGVsdGEuY29weSh0aGlzLnByZWRpY3RlZFBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5kZWx0YS5taW51c0VxdWFscyh0aGlzLnBvc2l0aW9uKTtcblxuICAgICAgICB0aGlzLnByZXZDb250YWN0Tm9ybWFsLmNvcHkodGhpcy5jb250YWN0Tm9ybWFsKTtcbiAgICAgICAgdGhpcy5jb250YWN0Tm9ybWFsLnNldFRvKDAsIDApO1xuXG4gICAgICAgIHRoaXMuZm9yY2VzLnNldFRvKDAsIDApO1xuICAgICAgICB0aGlzLmRhbXBpbmcgPSAxO1xuXG4gICAgICAgIHRoaXMuc3RlcENvbnRhY3RDb3VudCA9IDA7XG5cbiAgICAgICAgdGhpcy50b2kgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlc3BvbmRTdGF0aWNDb2xsaXNpb24oY29udGFjdDogQ29udGFjdCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5za2lwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHZhciBzZXBlcmF0aW9uID0gTWF0aC5tYXgoY29udGFjdC5kaXN0YW5jZSwgMCk7XG4gICAgICAgIHZhciBwZW5ldHJhdGlvbiA9IE1hdGgubWluKGNvbnRhY3QuZGlzdGFuY2UsIDApO1xuXG4gICAgICAgIC8vcG9zaXRpb25Db3JyZWN0aW9uLnggLT0gY29udGFjdC5ub3JtYWwueCAqIChwZW5ldHJhdGlvbi9kdCk7XG4gICAgICAgIC8vcG9zaXRpb25Db3JyZWN0aW9uLnkgLT0gY29udGFjdC5ub3JtYWwueSAqIChwZW5ldHJhdGlvbi9kdCk7XG4gICAgICAgIHRoaXMucG9zaXRpb25Db3JyZWN0aW9uLm1pbnVzTXVsdEVxdWFscyhjb250YWN0Lm5vcm1hbCwgcGVuZXRyYXRpb24gLyB0aGlzLmR0KTtcblxuICAgICAgICB2YXIgbnYgPSB0aGlzLnZlbG9jaXR5LmRvdChjb250YWN0Lm5vcm1hbCkgKyBzZXBlcmF0aW9uIC8gdGhpcy5kdDtcblxuICAgICAgICBpZiAobnYgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0ZXBDb250YWN0Q291bnQrKztcblxuICAgICAgICAgICAgLy9DYW5jZWwgbm9ybWFsIHZlbFxuICAgICAgICAgICAgLy8gdmVsb2NpdHkueCAtPSBjb250YWN0Lm5vcm1hbC54ICogbnY7XG4gICAgICAgICAgICAvLyB2ZWxvY2l0eS55IC09IGNvbnRhY3Qubm9ybWFsLnkgKiBudjtcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHkubWludXNNdWx0RXF1YWxzKGNvbnRhY3Qubm9ybWFsLCBudik7XG5cbiAgICAgICAgICAgIC8vSXRlbSBkb2VzbnQgYm91bmNlPyBTdXJmYWNlIGlzIHVwZHdhcmRzP1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNhbkJvdW5jZSAmJiBjb250YWN0Lm5vcm1hbC55IDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Hcm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vQXBwbHkgRnJpY3Rpb24gaGVyZT9cbiAgICAgICAgICAgICAgICAvLyB2YXIgdGFuZ2VudDpWZWN0b3IyID0gY29udGFjdC5ub3JtYWwucmlnaHRIYW5kTm9ybWFsKCk7XG4gICAgICAgICAgICAgICAgLy8gdmFyIHR2Om51bWJlciA9IHZlbG9jaXR5LmRvdCh0YW5nZW50KSAqIG1hdGVyaWFsLmZyaWN0aW9uO1xuICAgICAgICAgICAgICAgIC8vIHZlbG9jaXR5LnggLT0gdGFuZ2VudC54ICogdHY7XG4gICAgICAgICAgICAgICAgLy8gdmVsb2NpdHkueSAtPSB0YW5nZW50LnkgKiB0djtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9zdG9yZSBjb250YWN0IG5vcm1hbCBmb3IgbGF0ZXIgcmVmbGVjdGlvblxuICAgICAgICAgICAgdGhpcy5jb250YWN0Tm9ybWFsLmNvcHkoY29udGFjdC5ub3JtYWwpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHQobXNnOiBTdHJpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVidWcgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlYnVnLS07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzcG9uZEJ1bGxldENvbGxpc2lvbihjb250YWN0OiBDb250YWN0KTogYm9vbGVhbiB7XG4gICAgICAgIC8vUmVjb3JkIHRoZSBjbG9zZXN0IHRpbWVcbiAgICAgICAgaWYgKGNvbnRhY3QudGltZSA8PSB0aGlzLnRvaSkge1xuICAgICAgICAgICAgdGhpcy50b2kgPSBjb250YWN0LnRpbWU7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uQ29ycmVjdGlvbi5jb3B5KGNvbnRhY3Quc3dlZXBQb3NpdGlvbik7XG4gICAgICAgICAgICB0aGlzLmNvbnRhY3ROb3JtYWwuY29weShjb250YWN0Lm5vcm1hbCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZVBvc2l0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5za2lwIHx8IHRoaXMuaXNTbGVlcGluZykgcmV0dXJuO1xuICAgICAgICAvL0l0cyBhIGJ1bGxldCBhbmQgaXQgaGl0IHNvbWV0aGluZz9cbiAgICAgICAgaWYgKHRoaXMuaXNCdWxsZXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRvaSA8IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24uY29weSh0aGlzLnBvc2l0aW9uQ29ycmVjdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbFZlbG9jaXR5LnJlZmxlY3RFcXVhbHModGhpcy5jb250YWN0Tm9ybWFsKTtcbiAgICAgICAgICAgICAgICAvL0ZpeG1lXG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbFZlbG9jaXR5Lm11bHRFcXVhbHModGhpcy5tYXRlcmlhbC5lbGFzdGljaXR5KTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlbG9jaXR5LmNvcHkodGhpcy5vcmlnaW5hbFZlbG9jaXR5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5jb3B5KHRoaXMucHJlZGljdGVkUG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9UaGlzIGJvZHkgaXNudCBhIGJ1bGxldCBzby4uLlxuXG4gICAgICAgIC8vYXBwbHkgRnJpY3Rpb24gaGVyZVxuICAgICAgICBpZiAodGhpcy5zdGVwQ29udGFjdENvdW50ID4gMCAmJiAhdGhpcy5jYW5Cb3VuY2UgJiYgdGhpcy5jb250YWN0Tm9ybWFsLnkgPCAwKSB7XG4gICAgICAgICAgICAvLyBpZiAoc3RlcENvbnRhY3RDb3VudD4wICYmIGNvbnRhY3ROb3JtYWwueSA8IDApIHtcbiAgICAgICAgICAgIC8vb25Hcm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gdmFyIHRhbmdlbnQ6VmVjdG9yMiA9IGNvbnRhY3ROb3JtYWwucmlnaHRIYW5kTm9ybWFsKCk7XG4gICAgICAgICAgICB0aGlzLnRhbmdlbnQuY29weSh0aGlzLmNvbnRhY3ROb3JtYWwpO1xuICAgICAgICAgICAgdGhpcy50YW5nZW50LnJpZ2h0SGFuZE5vcm1hbEVxdWFscygpO1xuICAgICAgICAgICAgdmFyIHR2OiBudW1iZXIgPSB0aGlzLm9yaWdpbmFsVmVsb2NpdHkuZG90KHRoaXMudGFuZ2VudCkgKiB0aGlzLm1hdGVyaWFsLmZyaWN0aW9uO1xuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eS54IC09IHRoaXMudGFuZ2VudC54ICogdHY7XG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5LnkgLT0gdGhpcy50YW5nZW50LnkgKiB0djtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucG9zaXRpb25Db3JyZWN0aW9uLnBsdXNFcXVhbHModGhpcy52ZWxvY2l0eSk7XG4gICAgICAgIHRoaXMucG9zaXRpb25Db3JyZWN0aW9uLm11bHRFcXVhbHModGhpcy5kdCk7XG4gICAgICAgIHRoaXMucG9zaXRpb24ucGx1c0VxdWFscyh0aGlzLnBvc2l0aW9uQ29ycmVjdGlvbik7XG4gICAgICAgIHRoaXMucG9zaXRpb25Db3JyZWN0aW9uLnNldFRvKDAsIDApO1xuXG4gICAgICAgIC8vQW55dGhpbmcgaGl0PyBBbnkgYm91bmNlcyBsZWZ0P1xuICAgICAgICBpZiAodGhpcy5zdGVwQ29udGFjdENvdW50ID4gMCAmJiB0aGlzLmNhbkJvdW5jZSkge1xuICAgICAgICAgICAgLy9SZWZsZWN0IGl0Li4uXG4gICAgICAgICAgICB0aGlzLm9yaWdpbmFsVmVsb2NpdHkucmVmbGVjdEVxdWFscyh0aGlzLmNvbnRhY3ROb3JtYWwpO1xuICAgICAgICAgICAgLy9SZW1vdmUgdmVsb2NpdHlcbiAgICAgICAgICAgIHRoaXMub3JpZ2luYWxWZWxvY2l0eS5tdWx0RXF1YWxzKHRoaXMubWF0ZXJpYWwuZWxhc3RpY2l0eSk7XG4gICAgICAgICAgICAvL1NldCB0aGUgbmV3IHZlbG9jaXR5XG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5LmNvcHkodGhpcy5vcmlnaW5hbFZlbG9jaXR5KTtcbiAgICAgICAgICAgIHRoaXMuYm91bmNlQ291bnQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBhZGRGb3JjZShmOiBWZWN0b3IyKSB7XG4gICAgICAgIHRoaXMuZm9yY2VzLnBsdXNNdWx0RXF1YWxzKGYsIHRoaXMuaW52TWFzcyk7XG4gICAgICAgIHRoaXMud2FrZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRNYXNzbGVzc0ZvcmNlKGY6IFZlY3RvcjIpIHtcbiAgICAgICAgdGhpcy5mb3JjZXMucGx1c0VxdWFscyhmKTtcbiAgICAgICAgdGhpcy53YWtlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFByb3BvcnRpb25hbEZvcmNlKGY6IFZlY3RvcjIpIHtcbiAgICAgICAgdGhpcy5mb3JjZXMucGx1c011bHRFcXVhbHMoZiwgdGhpcy5tYXNzKTtcbiAgICAgICAgdGhpcy53YWtlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldE1hc3MobWFzcykge1xuICAgICAgICB0aGlzLm1hc3MgPSBtYXNzO1xuICAgICAgICB0aGlzLmludk1hc3MgPSAxIC8gbWFzcztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0TWFzc0Zyb21Wb2x1bWVNYXRlcmlhbCh2b2x1bWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLnNldE1hc3ModGhpcy5tYXRlcmlhbC5kZW5zaXR5ICogdm9sdW1lICogTUFTU19TQ0FMRSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFN0YXRpY1Bvc2l0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24uc2V0VG8oeCwgeSk7XG4gICAgICAgIHRoaXMucG9zaXRpb25Db3JyZWN0aW9uLnNldFRvKDAsIDApO1xuICAgICAgICB0aGlzLnByZWRpY3RlZFBvc2l0aW9uLnNldFRvKDAsIDApO1xuICAgICAgICB0aGlzLmZvcmNlcy5zZXRUbygwLCAwKTtcbiAgICAgICAgdGhpcy5hY2N1bXVsYXRlZEZvcmNlcy5zZXRUbygwLCAwKTtcbiAgICAgICAgdGhpcy52ZWxvY2l0eS5zZXRUbygwLCAwKTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFZlbG9jaXR5LnNldFRvKDAsIDApO1xuICAgICAgICB0aGlzLmRlbHRhLnNldFRvKDAsIDApO1xuICAgICAgICB0aGlzLndha2UoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0Qm91bmNlcyhjb3VudDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMudG90YWxCb3VuY2VDb3VudCA9IGNvdW50O1xuICAgICAgICB0aGlzLmJvdW5jZUNvdW50ID0gMDtcbiAgICB9XG5cbiAgICBnZXQgY2FuQm91bmNlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy50b3RhbEJvdW5jZUNvdW50ICE9IDAgJiYgdGhpcy5ib3VuY2VDb3VudCA8IHRoaXMudG90YWxCb3VuY2VDb3VudDtcbiAgICB9XG5cbiAgICBwdWJsaWMgd2FrZSgpIHtcbiAgICAgICAgdGhpcy5jYW5TbGVlcCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1vdGlvbiA9IFdBS0VfTU9USU9OO1xuICAgICAgICB0aGlzLmJvdW5jZUNvdW50ID0gMDtcbiAgICB9XG5cbiAgICBnZXQgZG93bigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFjdE5vcm1hbC55IDwgMDtcbiAgICB9XG4gICAgZ2V0IGRvd25QcmV2KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmV2Q29udGFjdE5vcm1hbC55IDwgMDtcbiAgICB9XG4gICAgZ2V0IHVwKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWN0Tm9ybWFsLnkgPiAwO1xuICAgIH1cbiAgICBnZXQgdXBQcmV2KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmV2Q29udGFjdE5vcm1hbC55ID4gMDtcbiAgICB9XG4gICAgZ2V0IGxlZnQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhY3ROb3JtYWwueCA8IDA7XG4gICAgfVxuICAgIGdldCBsZWZ0UHJldigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJldkNvbnRhY3ROb3JtYWwueCA8IDA7XG4gICAgfVxuICAgIGdldCByaWdodCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFjdE5vcm1hbC54ID4gMDtcbiAgICB9XG4gICAgZ2V0IHJpZ2h0UHJldigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJldkNvbnRhY3ROb3JtYWwueCA+IDA7XG4gICAgfVxuXG4gICAgc3RhdGljIENyZWF0ZShcbiAgICAgICAgbWF0ZXJpYWw6IE1hdGVyaWFsLFxuICAgICAgICBtYXNzOiBudW1iZXIsXG4gICAgICAgIGJvdW5jZXM6IG51bWJlcixcbiAgICAgICAgZ2xvYmFsRm9yY2VGYWN0b3I6IG51bWJlcixcbiAgICAgICAgbWF4U2NhbGFyVmVsb2NpdHk6IG51bWJlcixcbiAgICApOiBCb2R5IHtcbiAgICAgICAgdmFyIGJvZHkgPSBuZXcgQm9keShtYXRlcmlhbCk7XG4gICAgICAgIGJvZHkuc2V0TWFzcyhtYXNzKTtcbiAgICAgICAgYm9keS5zZXRCb3VuY2VzKGJvdW5jZXMpO1xuICAgICAgICBib2R5Lmdsb2JhbEZvcmNlRmFjdG9yID0gZ2xvYmFsRm9yY2VGYWN0b3I7XG4gICAgICAgIGJvZHkubWF4U2NhbGFyVmVsb2NpdHkgPSBtYXhTY2FsYXJWZWxvY2l0eTtcbiAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3BoeXNpY3MvQm9keS50cyIsImltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi8uLi9lY3MvRW50aXR5XCI7XG5pbXBvcnQgeyBFbnRpdHlDYiB9IGZyb20gXCIuLi8uLi9HbGF6ZUVuZ2luZVwiO1xuXG5leHBvcnQgY2xhc3MgSGVhbHRoIHtcbiAgICBwdWJsaWMgbWF4SGVhbHRoOiBudW1iZXI7XG4gICAgcHVibGljIGN1cnJlbnRIZWFsdGg6IG51bWJlcjtcbiAgICBwdWJsaWMgcmVjb3ZlcnlQZXJTZWNvbmQ6IG51bWJlcjtcbiAgICBwdWJsaWMgcmVjb3ZlcnlQZXJNczogbnVtYmVyO1xuXG4gICAgcHVibGljIG9uTm9IZWFsdGg6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBtYXhIZWFsdGg6IG51bWJlcixcbiAgICAgICAgY3VycmVudEhlYWx0aDogbnVtYmVyLFxuICAgICAgICByZWNvdmVyeVBlclNlY29uZDogbnVtYmVyLFxuICAgICAgICBvbk5vSGVhbHRoOiBzdHJpbmcsXG4gICAgKSB7XG4gICAgICAgIHRoaXMubWF4SGVhbHRoID0gbWF4SGVhbHRoO1xuICAgICAgICB0aGlzLmN1cnJlbnRIZWFsdGggPSBjdXJyZW50SGVhbHRoO1xuICAgICAgICB0aGlzLnJlY292ZXJ5UGVyU2Vjb25kID0gcmVjb3ZlcnlQZXJTZWNvbmQ7XG4gICAgICAgIHRoaXMucmVjb3ZlcnlQZXJNcyA9IHJlY292ZXJ5UGVyU2Vjb25kIC8gMTAwMDtcbiAgICAgICAgdGhpcy5vbk5vSGVhbHRoID0gb25Ob0hlYWx0aDtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXBwbHlEYW1hZ2UoZGFtYWdlQW1vdW50OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50SGVhbHRoIC09IGRhbWFnZUFtb3VudDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNEZWFkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50SGVhbHRoIDw9IDA7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2NvcmUvY29tcG9uZW50cy9IZWFsdGgudHMiLCJleHBvcnQgY2xhc3MgRGVzdHJveSB7XG4gICAgcHVibGljIGNvdW50OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb3VudDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY291bnQgPSBjb3VudDtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL0Rlc3Ryb3kudHMiLCJpbXBvcnQgeyBJQnJvYWRwaGFzZSB9IGZyb20gXCIuLi9waHlzaWNzL2NvbGxpc2lvbi9icm9hZHBoYXNlL0lCcm9hZHBoYXNlXCI7XG5pbXBvcnQgeyBSYXkgfSBmcm9tIFwiLi4vcGh5c2ljcy9jb2xsaXNpb24vUmF5XCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgQnJvYWRwaGFzZUFyZWFRdWVyeSB9IGZyb20gXCIuL0Jyb2FkcGhhc2VBcmVhUXVlcnlcIjtcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gXCIuLi9lY3MvRW5naW5lXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgRW50aXR5Q29sbGVjdGlvbiB9IGZyb20gXCIuLi9kcy9FbnRpdHlDb2xsZWN0aW9uXCI7XG5pbXBvcnQgeyBFbnRpdHlDb2xsZWN0aW9uSXRlbSB9IGZyb20gXCIuLi9kcy9FbnRpdHlDb2xsZWN0aW9uSXRlbVwiO1xuaW1wb3J0IHsgRGVzdHJveSB9IGZyb20gXCIuLi9jb3JlL2NvbXBvbmVudHMvRGVzdHJveVwiO1xuaW1wb3J0IHsgSGVhbHRoIH0gZnJvbSBcIi4uL2NvcmUvY29tcG9uZW50cy9IZWFsdGhcIjtcbmltcG9ydCB7IFBoeXNpY3NCb2R5IH0gZnJvbSBcIi4uL3BoeXNpY3MvY29tcG9uZW50cy9QaHlzaWNzQm9keVwiO1xuXG5leHBvcnQgZW51bSBFbnRpdHlGaWx0ZXJPcHRpb25zIHtcbiAgICBBTEwsXG4gICAgRlJJRU5ETFksXG4gICAgRU5FTVksXG59XG5cbmV4cG9ydCBjbGFzcyBDb21iYXRVdGlscyB7XG4gICAgc3RhdGljIGVuZ2luZTogRW5naW5lO1xuICAgIHN0YXRpYyBiZkFyZWFRdWVyeTogQnJvYWRwaGFzZUFyZWFRdWVyeTtcbiAgICBzdGF0aWMgYnJvYWRwaGFzZTogSUJyb2FkcGhhc2U7XG4gICAgc3RhdGljIHJheTogUmF5O1xuICAgIHN0YXRpYyByZWZlcmVuY2VFbnRpdHk6IEVudGl0eTtcblxuICAgIGNvbnN0cnVjdG9yKCkge31cblxuICAgIHN0YXRpYyBzZXR1cChlbmdpbmU6IEVuZ2luZSwgYmY6IElCcm9hZHBoYXNlKSB7XG4gICAgICAgIENvbWJhdFV0aWxzLmVuZ2luZSA9IGVuZ2luZTtcbiAgICAgICAgQ29tYmF0VXRpbHMuYnJvYWRwaGFzZSA9IGJmO1xuICAgICAgICBDb21iYXRVdGlscy5iZkFyZWFRdWVyeSA9IG5ldyBCcm9hZHBoYXNlQXJlYVF1ZXJ5KGVuZ2luZSwgYmYpO1xuICAgICAgICBDb21iYXRVdGlscy5yYXkgPSBuZXcgUmF5KCk7XG4gICAgfVxuXG4gICAgc3RhdGljIENhblNlZShzdGFydDogVmVjdG9yMiwgZW5kOiBWZWN0b3IyLCByYW5nZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChzdGFydC5kaXN0U3FyZChlbmQpID49IHJhbmdlICogcmFuZ2UpIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhpcy5yYXkuaW5pdGFsaXplKHN0YXJ0LCBlbmQsIDAsIG51bGwpO1xuICAgICAgICAvLyB0cmFjZShcImxvb2tpbmdcIixzdGFydCxlbmQpO1xuICAgICAgICB0aGlzLmJyb2FkcGhhc2UuQ2FzdFJheSh0aGlzLnJheSwgbnVsbCwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLnJheS5oaXQ7XG4gICAgfVxuXG4gICAgc3RhdGljIFNlYXJjaFNvcnRBbmRGaWx0ZXIoXG4gICAgICAgIHBvc2l0aW9uOiBWZWN0b3IyLFxuICAgICAgICByYWRpdXM6IG51bWJlcixcbiAgICAgICAgcmVmZXJlbmNlRW50aXR5OiBFbnRpdHksXG4gICAgICAgIGZpbHRlck9wdGlvbnM6IEVudGl0eUZpbHRlck9wdGlvbnMsXG4gICAgKTogRW50aXR5Q29sbGVjdGlvbiB7XG4gICAgICAgIENvbWJhdFV0aWxzLnJlZmVyZW5jZUVudGl0eSA9IHJlZmVyZW5jZUVudGl0eTtcbiAgICAgICAgQ29tYmF0VXRpbHMuYmZBcmVhUXVlcnkucXVlcnkocG9zaXRpb24sIHJhZGl1cywgcmVmZXJlbmNlRW50aXR5LCB0cnVlKTtcbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvLyBDb21iYXRVdGlscy5iZkFyZWFRdWVyeS5lbnRpdHlDb2xsZWN0aW9uLmVudGl0aWVzLnNvcnQoRW50aXR5Q29sbGVjdGlvbkl0ZW0uU29ydENsb3Nlc3RGaXJzdCk7XG4gICAgICAgIC8vIENvbWJhdFV0aWxzLmJmQXJlYVF1ZXJ5LmVudGl0eUNvbGxlY3Rpb24uZmlsdGVyKEZpbHRlckl0ZW1zKTtcbiAgICAgICAgLy8gaWYgKGZpbHRlck9wdGlvbnMgPT0gRW50aXR5RmlsdGVyT3B0aW9ucy5FTkVNWSlcbiAgICAgICAgLy8gICAgIENvbWJhdFV0aWxzLmJmQXJlYVF1ZXJ5LmVudGl0eUNvbGxlY3Rpb24uZmlsdGVyKEZpbHRlckVuZW15RmFjdGlvbnMpO1xuICAgICAgICAvLyBlbHNlIGlmIChmaWx0ZXJPcHRpb25zID09IEVudGl0eUZpbHRlck9wdGlvbnMuRlJJRU5ETFkpXG4gICAgICAgIC8vICAgICBDb21iYXRVdGlscy5iZkFyZWFRdWVyeS5lbnRpdHlDb2xsZWN0aW9uLmZpbHRlcihGaWx0ZXJGcmllbmRseUZhY3Rpb25zKTtcblxuICAgICAgICByZXR1cm4gQ29tYmF0VXRpbHMuYmZBcmVhUXVlcnkuZW50aXR5Q29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICBzdGF0aWMgZXhwbG9kZShwb3NpdGlvbjogVmVjdG9yMiwgcmFkaXVzOiBudW1iZXIsIHBvd2VyOiBudW1iZXIsIHNvdXJjZUVudGl0eTogRW50aXR5KSB7XG4gICAgICAgIENvbWJhdFV0aWxzLmJmQXJlYVF1ZXJ5LnF1ZXJ5KHBvc2l0aW9uLCByYWRpdXMsIHNvdXJjZUVudGl0eSwgdHJ1ZSk7XG4gICAgICAgIENvbWJhdFV0aWxzLmJmQXJlYVF1ZXJ5LmVudGl0eUNvbGxlY3Rpb24uZW50aXRpZXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIC8vdmFyIGl0ZW0gPSBDb21iYXRVdGlscy5iZkFyZWFRdWVyeS5lbnRpdHlDb2xsZWN0aW9uLmVudGl0aWVzLmhlYWQ7XG4gICAgICAgICAgICBpZiAoIUNvbWJhdFV0aWxzLmVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoaXRlbS5lbnRpdHksIERlc3Ryb3kpKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgKGl0ZW0uZW50aXR5LmdldENvbXBvbmVudChEZXN0cm95KT09bnVsbCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGhlYWx0aDogSGVhbHRoID0gQ29tYmF0VXRpbHMuZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShpdGVtLmVudGl0eSwgSGVhbHRoKTtcbiAgICAgICAgICAgICAgICB2YXIgYm9keTogUGh5c2ljc0JvZHkgPSBDb21iYXRVdGlscy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGl0ZW0uZW50aXR5LCBQaHlzaWNzQm9keSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaGVhbHRoICE9IG51bGwgfHwgYm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlZmZlY3QgPSByYWRpdXMgLyBNYXRoLnNxcnQoaXRlbS5kaXN0YW5jZSkgKiBwb3dlcjtcbiAgICAgICAgICAgICAgICAgICAgLy8gdHJhY2UoaXRlbS5kaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRyYWNlKCdlPSRlZmZlY3QnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWx0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFsdGguYXBwbHlEYW1hZ2UoZWZmZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBwZXJzb25hbGl0eSA9IGl0ZW0uZW50aXR5LmdldENvbXBvbmVudChQZXJzb25hbGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChwZXJzb25hbGl0eSE9bnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcGVyc29uYWxpdHkuYXBwbHlEYW1hZ2Uoc291cmNlRW50aXR5LFwiZXhwbG9zaW9uXCIsZWZmZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChib2R5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IGJvZHkuYm9keS5wb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGEubWludXNFcXVhbHMocG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGEubm9ybWFsaXplKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWx0YS5tdWx0RXF1YWxzKGVmZmVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5LmJvZHkuYWRkRm9yY2UoZGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvdXRpbC9Db21iYXRVdGlscy50cyIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi9WZWN0b3IyXCI7XG5pbXBvcnQgeyBBQUJCMiB9IGZyb20gXCIuL0FBQkIyXCI7XG5cbmV4cG9ydCBjbGFzcyBBQUJCIHtcbiAgICBwdWJsaWMgcG9zaXRpb246IFZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xuICAgIHB1YmxpYyBleHRlbnRzOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcblxuICAgIGNvbnN0cnVjdG9yKCkge31cblxuICAgIGdldCBsKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnggLSB0aGlzLmV4dGVudHMueDtcbiAgICB9XG4gICAgZ2V0IHQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueSAtIHRoaXMuZXh0ZW50cy55O1xuICAgIH1cbiAgICBnZXQgcigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi54ICsgdGhpcy5leHRlbnRzLng7XG4gICAgfVxuICAgIGdldCBiKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLmV4dGVudHMueTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBTdGFuZGFyZCBBQUJCIG92ZXJsYXAuICBPbmx5IHJldHVybnMgYSBib29sZWFuLCB3aGljaCBpc250IG11Y2ggdXNlIGlmIHlvdSBuZWVkIHRvIGFjdHVhbGx5IHJlc29sdmUgYW55dGhpbmcuXG4gICAgICovXG4gICAgb3ZlcmxhcChhYWJiOiBBQUJCKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnBvc2l0aW9uLnggLSBhYWJiLnBvc2l0aW9uLngpID4gKHRoaXMuZXh0ZW50cy54ICsgYWFiYi5leHRlbnRzLngpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnBvc2l0aW9uLnkgLSBhYWJiLnBvc2l0aW9uLnkpID4gKHRoaXMuZXh0ZW50cy55ICsgYWFiYi5leHRlbnRzLnkpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGNvbnRhaW5zQUFCQihhYWJiOiBBQUJCKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb250YWluc1BvaW50KHBvaW50OiBWZWN0b3IyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBNYXRoLmFicyhwb2ludC54IC0gdGhpcy5wb3NpdGlvbi54KSA8IHRoaXMuZXh0ZW50cy54ICYmIE1hdGguYWJzKHBvaW50LnkgLSB0aGlzLnBvc2l0aW9uLnkpIDwgdGhpcy5leHRlbnRzLnlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBvdmVybGFwQXJlYShhYWJiOiBBQUJCKTogbnVtYmVyIHtcbiAgICAgICAgdmFyIF9sID0gTWF0aC5tYXgodGhpcy5sLCBhYWJiLmwpO1xuICAgICAgICB2YXIgX3IgPSBNYXRoLm1pbih0aGlzLnIsIGFhYmIucik7XG4gICAgICAgIHZhciBfdCA9IE1hdGgubWF4KHRoaXMudCwgYWFiYi50KTtcbiAgICAgICAgdmFyIF9iID0gTWF0aC5taW4odGhpcy5iLCBhYWJiLmIpO1xuICAgICAgICByZXR1cm4gKF9yIC0gX2wpICogKF9iIC0gX3QpO1xuICAgIH1cblxuICAgIGFyZWEoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW50cy54ICogdGhpcy5leHRlbnRzLnkgKiA0O1xuICAgIH1cblxuICAgIHRvQUFCQjIoKTogQUFCQjIge1xuICAgICAgICByZXR1cm4gbmV3IEFBQkIyKHRoaXMudCx0aGlzLnIsdGhpcy5iLHRoaXMubCk7XG4gICAgfVxuXG4gICAgY29weVRvQUFCQjIoYWFiYjI6QUFCQjIpIHtcbiAgICAgICAgYWFiYjIudCA9IHRoaXMudDtcbiAgICAgICAgYWFiYjIuciA9IHRoaXMucjtcbiAgICAgICAgYWFiYjIuYiA9IHRoaXMuYjtcbiAgICAgICAgYWFiYjIubCA9IHRoaXMubDtcbiAgICB9XG5cbiAgICBjbG9uZShhYWJiOiBBQUJCKTogQUFCQiB7XG4gICAgICAgIHZhciBhYWJiID0gbmV3IEFBQkIoKTtcbiAgICAgICAgYWFiYi5wb3NpdGlvbi5jb3B5KHRoaXMucG9zaXRpb24pO1xuICAgICAgICBhYWJiLmV4dGVudHMuY29weSh0aGlzLmV4dGVudHMpO1xuICAgICAgICByZXR1cm4gYWFiYjtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ2VvbS9BQUJCLnRzIiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IEVudGl0eUNiIH0gZnJvbSBcIi4uLy4uL0dsYXplRW5naW5lXCI7XG5cbmV4cG9ydCBjbGFzcyBBZ2Uge1xuICAgIHB1YmxpYyB0dGw6IG51bWJlcjtcbiAgICBwdWJsaWMgYWdlOiBudW1iZXI7XG5cbiAgICBwdWJsaWMgb25FeHBpcmU6IHN0cmluZztcblxuICAgIC8vIHB1YmxpYyB2YXIgc3RhdGVPbkV4cGlyZWQ6U3RyaW5nID0gRW5naW5lTGlmZWN5Y2xlLkRFU1RST1k7XG5cbiAgICBjb25zdHJ1Y3Rvcih0dGw6IG51bWJlciwgb25FeHBpcmU6IHN0cmluZykge1xuICAgICAgICB0aGlzLnR0bCA9IHR0bDtcbiAgICAgICAgdGhpcy5hZ2UgPSAwO1xuICAgICAgICB0aGlzLm9uRXhwaXJlID0gb25FeHBpcmU7XG4gICAgfVxuXG4gICAgcHVibGljIGdyb3dPbGRlcih0aWNrOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgdGhpcy5hZ2UgKz0gdGljaztcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNFeHBpcmVkKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGlzRXhwaXJlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdlID4gdGhpcy50dGw7XG4gICAgfVxuXG4gICAgcHVibGljIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmFnZSA9IDA7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2NvcmUvY29tcG9uZW50cy9BZ2UudHMiLCJpbXBvcnQgeyBTaWduYWxCaW5kaW5nIH0gZnJvbSBcIi4vU2lnbmFsQmluZGluZ1wiO1xuXG5leHBvcnQgY2xhc3MgU2lnbmFsIHtcbiAgICBwcml2YXRlIF9iaW5kaW5nczogU2lnbmFsQmluZGluZ1tdID0gW107XG4gICAgcHJpdmF0ZSBfcHJldlBhcmFtcyA9IG51bGw7XG4gICAgcHVibGljIG1lbW9yaXplOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfc2hvdWxkUHJvcGFnYXRlOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwdWJsaWMgYWN0aXZlOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIGNvbnN0cnVjdG9yKCkge31cblxuICAgIHB1YmxpYyB2YWxpZGF0ZUxpc3RlbmVyKGxpc3RlbmVyLCBmbk5hbWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJsaXN0ZW5lciBpcyBhIHJlcXVpcmVkIHBhcmFtIG9mIHtmbn0oKSBhbmQgc2hvdWxkIGJlIGEgRnVuY3Rpb24uXCIucmVwbGFjZShcIntmbn1cIiwgZm5OYW1lKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9yZWdpc3Rlckxpc3RlbmVyKGxpc3RlbmVyLCBpc09uY2U6IGJvb2xlYW4sIGxpc3RlbmVyQ29udGV4dCwgcHJpb3JpdHk6IG51bWJlcik6IFNpZ25hbEJpbmRpbmcge1xuICAgICAgICB2YXIgcHJldkluZGV4OiBudW1iZXIgPSB0aGlzLl9pbmRleE9mTGlzdGVuZXIobGlzdGVuZXIsIGxpc3RlbmVyQ29udGV4dCk7XG4gICAgICAgIHZhciBiaW5kaW5nOiBTaWduYWxCaW5kaW5nO1xuXG4gICAgICAgIGlmIChwcmV2SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBiaW5kaW5nID0gdGhpcy5fYmluZGluZ3NbcHJldkluZGV4XTtcblxuICAgICAgICAgICAgaWYgKGJpbmRpbmcuaXNPbmNlKCkgIT09IGlzT25jZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJZb3UgY2Fubm90IGFkZFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChpc09uY2UgPyBcIlwiIDogXCJPbmNlXCIpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiKCkgdGhlbiBhZGRcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAoIWlzT25jZSA/IFwiXCIgOiBcIk9uY2VcIikgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCIoKSB0aGUgc2FtZSBsaXN0ZW5lciB3aXRob3V0IHJlbW92aW5nIHRoZSByZWxhdGlvbnNoaXAgZmlyc3QuXCIsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJpbmRpbmcgPSBuZXcgU2lnbmFsQmluZGluZyh0aGlzLCBsaXN0ZW5lciwgaXNPbmNlLCBsaXN0ZW5lckNvbnRleHQsIHByaW9yaXR5KTtcblxuICAgICAgICAgICAgdGhpcy5fYWRkQmluZGluZyhiaW5kaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm1lbW9yaXplICYmIHRoaXMuX3ByZXZQYXJhbXMpIHtcbiAgICAgICAgICAgIGJpbmRpbmcuZXhlY3V0ZSh0aGlzLl9wcmV2UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBiaW5kaW5nO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2FkZEJpbmRpbmcoYmluZGluZzogU2lnbmFsQmluZGluZykge1xuICAgICAgICAvL3NpbXBsaWZpZWQgaW5zZXJ0aW9uIHNvcnRcblxuICAgICAgICB2YXIgbjogbnVtYmVyID0gdGhpcy5fYmluZGluZ3MubGVuZ3RoO1xuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIC0tbjtcbiAgICAgICAgfSB3aGlsZSAodGhpcy5fYmluZGluZ3Nbbl0gJiYgYmluZGluZy5wcmlvcml0eSA8PSB0aGlzLl9iaW5kaW5nc1tuXS5wcmlvcml0eSk7XG5cbiAgICAgICAgdGhpcy5fYmluZGluZ3Muc3BsaWNlKG4gKyAxLCAwLCBiaW5kaW5nKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9pbmRleE9mTGlzdGVuZXIobGlzdGVuZXIsIGNvbnRleHQpOiBudW1iZXIge1xuICAgICAgICB2YXIgbjogbnVtYmVyID0gdGhpcy5fYmluZGluZ3MubGVuZ3RoO1xuICAgICAgICB2YXIgY3VyOiBTaWduYWxCaW5kaW5nO1xuXG4gICAgICAgIHdoaWxlIChuLS0pIHtcbiAgICAgICAgICAgIGN1ciA9IHRoaXMuX2JpbmRpbmdzW25dO1xuXG4gICAgICAgICAgICBpZiAoY3VyLmdldExpc3RlbmVyKCkgPT09IGxpc3RlbmVyICYmIGN1ci5jb250ZXh0ID09PSBjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgcHVibGljIGhhcyhsaXN0ZW5lciwgY29udGV4dDogYW55ID0gbnVsbCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVyLCBjb250ZXh0KSAhPT0gLTE7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZChsaXN0ZW5lciwgbGlzdGVuZXJDb250ZXh0OiBhbnkgPSBudWxsLCBwcmlvcml0eTogbnVtYmVyID0gMCk6IFNpZ25hbEJpbmRpbmcge1xuICAgICAgICB0aGlzLnZhbGlkYXRlTGlzdGVuZXIobGlzdGVuZXIsIFwiYWRkXCIpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZWdpc3Rlckxpc3RlbmVyKGxpc3RlbmVyLCBmYWxzZSwgbGlzdGVuZXJDb250ZXh0LCBwcmlvcml0eSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZE9uY2UobGlzdGVuZXIsIGxpc3RlbmVyQ29udGV4dDogYW55ID0gbnVsbCwgcHJpb3JpdHk6IG51bWJlciA9IDApOiBTaWduYWxCaW5kaW5nIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUxpc3RlbmVyKGxpc3RlbmVyLCBcImFkZE9uY2VcIik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZ2lzdGVyTGlzdGVuZXIobGlzdGVuZXIsIHRydWUsIGxpc3RlbmVyQ29udGV4dCwgcHJpb3JpdHkpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmUobGlzdGVuZXIsIGNvbnRleHQ6IGFueSA9IG51bGwpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUxpc3RlbmVyKGxpc3RlbmVyLCBcInJlbW92ZVwiKTtcblxuICAgICAgICB2YXIgaTogbnVtYmVyID0gdGhpcy5faW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVyLCBjb250ZXh0KTtcblxuICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX2JpbmRpbmdzW2ldLl9kZXN0cm95KCk7IC8vbm8gcmVhc29uIHRvIGEgU2lnbmFsQmluZGluZyBleGlzdCBpZiBpdCBpc24ndCBhdHRhY2hlZCB0byBhIHNpZ25hbFxuICAgICAgICAgICAgdGhpcy5fYmluZGluZ3Muc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxpc3RlbmVyO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVBbGwoKSB7XG4gICAgICAgIHZhciBuOiBudW1iZXIgPSB0aGlzLl9iaW5kaW5ncy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKG4tLSkge1xuICAgICAgICAgICAgdGhpcy5fYmluZGluZ3Nbbl0uX2Rlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2JpbmRpbmdzLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgcHVibGljIGdldE51bUxpc3RlbmVycygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmluZGluZ3MubGVuZ3RoO1xuICAgIH1cblxuICAgIHB1YmxpYyBoYWx0KCkge1xuICAgICAgICB0aGlzLl9zaG91bGRQcm9wYWdhdGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGlzcGF0Y2goLi4ucGFyYW1zQXJyOiBhbnlbXSkge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbjogbnVtYmVyID0gdGhpcy5fYmluZGluZ3MubGVuZ3RoO1xuICAgICAgICB2YXIgYmluZGluZ3M6IFNpZ25hbEJpbmRpbmdbXTtcblxuICAgICAgICBpZiAodGhpcy5tZW1vcml6ZSkge1xuICAgICAgICAgICAgdGhpcy5fcHJldlBhcmFtcyA9IHBhcmFtc0FycjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbikge1xuICAgICAgICAgICAgLy9zaG91bGQgY29tZSBhZnRlciBtZW1vcml6ZVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYmluZGluZ3MgPSB0aGlzLl9iaW5kaW5ncy5zbGljZSgwKTsgLy9jbG9uZSBhcnJheSBpbiBjYXNlIGFkZC9yZW1vdmUgaXRlbXMgZHVyaW5nIGRpc3BhdGNoXG5cbiAgICAgICAgdGhpcy5fc2hvdWxkUHJvcGFnYXRlID0gdHJ1ZTsgLy9pbiBjYXNlIGBoYWx0YCB3YXMgY2FsbGVkIGJlZm9yZSBkaXNwYXRjaCBvciBkdXJpbmcgdGhlIHByZXZpb3VzIGRpc3BhdGNoLlxuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIG4tLTtcbiAgICAgICAgfSB3aGlsZSAoYmluZGluZ3Nbbl0gJiYgdGhpcy5fc2hvdWxkUHJvcGFnYXRlICYmIGJpbmRpbmdzW25dLmV4ZWN1dGUocGFyYW1zQXJyKSAhPT0gZmFsc2UpO1xuICAgIH1cblxuICAgIHB1YmxpYyBmb3JnZXQoKSB7XG4gICAgICAgIHRoaXMuX3ByZXZQYXJhbXMgPSBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbCgpO1xuXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9iaW5kaW5ncztcbiAgICAgICAgZGVsZXRlIHRoaXMuX3ByZXZQYXJhbXM7XG4gICAgfVxuXG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIltTaWduYWwgYWN0aXZlOlwiICsgdGhpcy5hY3RpdmUgKyBcIiBudW1MaXN0ZW5lcnM6XCIgKyB0aGlzLmdldE51bUxpc3RlbmVycygpICsgXCJdXCI7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3NpZ25hbHMvU2lnbmFsLnRzIiwiaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gXCIuL0RJc3BsYXlPYmplY3RcIjtcbmltcG9ydCB7IEFBQkIyIH0gZnJvbSBcIi4uLy4uL2dlb20vQUFCQjJcIjtcbmltcG9ydCB7IFN0YWdlIH0gZnJvbSBcIi4vU3RhZ2VcIjtcblxuZXhwb3J0IGNsYXNzIERpc3BsYXlPYmplY3RDb250YWluZXIgZXh0ZW5kcyBEaXNwbGF5T2JqZWN0IHtcbiAgICBwdWJsaWMgaGVhZDogRGlzcGxheU9iamVjdDtcbiAgICBwdWJsaWMgdGFpbDogRGlzcGxheU9iamVjdDtcbiAgICBwdWJsaWMgY2hpbGRDb3VudDogbnVtYmVyO1xuXG4gICAgcHVibGljIHN1YlRyZWVBQUJCOiBBQUJCMjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN1YlRyZWVBQUJCID0gbmV3IEFBQkIyKCk7XG4gICAgICAgIHRoaXMuY2hpbGRDb3VudCA9IDA7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZENoaWxkKGNoaWxkOiBEaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIGlmIChjaGlsZC5wYXJlbnQgIT0gbnVsbCkgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgdGhpcy5pbnNlcnRFbmQoY2hpbGQpO1xuICAgICAgICB0aGlzLmNoaWxkQWRkZWQoY2hpbGQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRDaGlsZEF0KGNoaWxkOiBEaXNwbGF5T2JqZWN0LCBpbmRleDogbnVtYmVyKSB7XG4gICAgICAgIGlmIChpbmRleCA+PSB0aGlzLmNoaWxkQ291bnQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmluc2VydEJlZ2lubmluZyhjaGlsZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmluc2VydEJlZm9yZSh0aGlzLmZpbmRDaGlsZEJ5SW5kZXgoaW5kZXgpLCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGlsZEFkZGVkKGNoaWxkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNoaWxkQWRkZWQoY2hpbGQ6IERpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgdGhpcy5jaGlsZENvdW50Kys7XG4gICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaW5kQ2hpbGRCeUluZGV4KGluZGV4OiBudW1iZXIpOiBEaXNwbGF5T2JqZWN0IHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5oZWFkO1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICB3aGlsZSAoY2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGNvdW50KysgPT0gaW5kZXgpIHJldHVybiBjaGlsZDtcbiAgICAgICAgICAgIGNoaWxkID0gY2hpbGQubmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50YWlsO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVDaGlsZChjaGlsZDogRGlzcGxheU9iamVjdCkge1xuICAgICAgICBpZiAoY2hpbGQucGFyZW50ID09IHRoaXMpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGNoaWxkKTtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRSZW1vdmVkKGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVDaGlsZEF0KGluZGV4OiBudW1iZXIpOiBEaXNwbGF5T2JqZWN0IHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5maW5kQ2hpbGRCeUluZGV4KGluZGV4KTtcbiAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNoaWxkUmVtb3ZlZChjaGlsZDogRGlzcGxheU9iamVjdCkge1xuICAgICAgICB0aGlzLmNoaWxkQ291bnQtLTtcbiAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlVHJhbnNmb3JtKCkge1xuICAgICAgICAvL1Jlc2V0IEFBQkJcbiAgICAgICAgdGhpcy5hYWJiLnJlc2V0KCk7XG4gICAgICAgIHN1cGVyLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLmNhbGNFeHRlbnRzKCk7XG4gICAgICAgIHRoaXMuc3ViVHJlZUFBQkIucmVzZXQoKTtcbiAgICAgICAgdGhpcy5zdWJUcmVlQUFCQi5hZGRBQUJCKHRoaXMuYWFiYik7XG4gICAgICAgIC8vRXhwYW5kIEFBQUJCIHRvIHRoaXMgRGlzcGxheU9iamVjdCAtPiBOZXcgcmVxdWlyZWRcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5oZWFkO1xuICAgICAgICB3aGlsZSAoY2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAvL0luZmxhdGUgdGhpcyBBQUJCIHRvIGVuY2Fwc3VsYXRlIGNoaWxkXG4gICAgICAgICAgICB0aGlzLnN1YlRyZWVBQUJCLmFkZEFBQkIoY2hpbGQuYWFiYik7XG4gICAgICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBwdWJsaWMgYXBwbHkoc2xvdDpEaXNwbGF5T2JqZWN0LT5EeW5hbWljLT5Wb2lkLHA6RHluYW1pYz1udWxsKSB7XG5cbiAgICAvLyB9XG5cbiAgICAvL1RPRE8gUHJvYmFibHkgZ2V0IHJpZCBvZiB0aGlzLi4uXG5cbiAgICAvL0xpbmtlZCBMaXN0c1xuICAgIHB1YmxpYyBpbnNlcnRBZnRlcihub2RlOiBEaXNwbGF5T2JqZWN0LCBuZXdOb2RlOiBEaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIG5ld05vZGUucHJldiA9IG5vZGU7XG4gICAgICAgIG5ld05vZGUubmV4dCA9IG5vZGUubmV4dDtcbiAgICAgICAgaWYgKG5vZGUubmV4dCA9PSBudWxsKSB0aGlzLnRhaWwgPSBuZXdOb2RlO1xuICAgICAgICBlbHNlIG5vZGUubmV4dC5wcmV2ID0gbmV3Tm9kZTtcbiAgICAgICAgbm9kZS5uZXh0ID0gbmV3Tm9kZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5zZXJ0QmVmb3JlKG5vZGU6IERpc3BsYXlPYmplY3QsIG5ld05vZGU6IERpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgbmV3Tm9kZS5wcmV2ID0gbm9kZS5wcmV2O1xuICAgICAgICBuZXdOb2RlLm5leHQgPSBub2RlO1xuICAgICAgICBpZiAobm9kZS5wcmV2ID09IG51bGwpIHRoaXMuaGVhZCA9IG5ld05vZGU7XG4gICAgICAgIGVsc2Ugbm9kZS5wcmV2Lm5leHQgPSBuZXdOb2RlO1xuICAgICAgICBub2RlLnByZXYgPSBuZXdOb2RlO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnNlcnRCZWdpbm5pbmcobmV3Tm9kZTogRGlzcGxheU9iamVjdCkge1xuICAgICAgICBpZiAodGhpcy5oZWFkID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZCA9IG5ld05vZGU7XG4gICAgICAgICAgICB0aGlzLnRhaWwgPSBuZXdOb2RlO1xuICAgICAgICAgICAgbmV3Tm9kZS5wcmV2ID0gbnVsbDtcbiAgICAgICAgICAgIG5ld05vZGUubmV4dCA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB0aGlzLmluc2VydEJlZm9yZSh0aGlzLmhlYWQsIG5ld05vZGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbnNlcnRFbmQobmV3Tm9kZTogRGlzcGxheU9iamVjdCkge1xuICAgICAgICBpZiAodGhpcy50YWlsID09IG51bGwpIHRoaXMuaW5zZXJ0QmVnaW5uaW5nKG5ld05vZGUpO1xuICAgICAgICBlbHNlIHRoaXMuaW5zZXJ0QWZ0ZXIodGhpcy50YWlsLCBuZXdOb2RlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlKG5vZGU6IERpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgaWYgKG5vZGUucHJldiA9PSBudWxsKSB0aGlzLmhlYWQgPSBub2RlLm5leHQ7XG4gICAgICAgIGVsc2Ugbm9kZS5wcmV2Lm5leHQgPSBub2RlLm5leHQ7XG4gICAgICAgIGlmIChub2RlLm5leHQgPT0gbnVsbCkgdGhpcy50YWlsID0gbm9kZS5wcmV2O1xuICAgICAgICBlbHNlIG5vZGUubmV4dC5wcmV2ID0gbm9kZS5wcmV2O1xuICAgICAgICBub2RlLnByZXYgPSBub2RlLm5leHQgPSBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZWJ1ZygpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5oZWFkO1xuICAgICAgICB3aGlsZSAoY2hpbGQgIT0gbnVsbCkge1xuICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2dyYXBoaWNzL2Rpc3BsYXlsaXN0L0Rpc3BsYXlPYmplY3RDb250YWluZXIudHMiLCJpbXBvcnQgeyBJUGFydGljbGVFbWl0dGVyIH0gZnJvbSBcIi4uL2VtaXR0ZXIvSVBhcnRpY2xlRW1pdHRlclwiO1xuXG5leHBvcnQgY2xhc3MgUGFydGljbGVFbWl0dGVyIHtcbiAgICBwdWJsaWMgZW1pdHRlcnM6IEFycmF5PElQYXJ0aWNsZUVtaXR0ZXI+O1xuICAgIGNvbnN0cnVjdG9yKGVtaXR0ZXJzOiBBcnJheTxJUGFydGljbGVFbWl0dGVyPikge1xuICAgICAgICB0aGlzLmVtaXR0ZXJzID0gZW1pdHRlcnM7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3BhcnRpY2xlL2NvbXBvbmVudHMvUGFydGljbGVFbWl0dGVyLnRzIiwiaW1wb3J0IHsgQmVoYXZpb3IgfSBmcm9tIFwiLi4vYmVoYXZpb3JzL0JlaGF2aW9yXCI7XG5pbXBvcnQgeyBTdGVlcmluZ0FnZW50UGFyYW1ldGVycywgREVGQVVMVF9TVEVFUklOR19QQVJBTVMgfSBmcm9tIFwiLi4vU3RlZXJpbmdBZ2VudFBhcmFtZXRlcnNcIjtcbmltcG9ydCB7IElDb21wb25lbnRGYWN0b3J5IH0gZnJvbSBcIi4uLy4uLy4uL2Vjcy9Db21wb25lbnRcIjtcblxuZXhwb3J0IGNsYXNzIFN0ZWVyaW5nICB7XG4gICAgXG5cdHN0YXRpYyBDQUxDVUxBVEVfU1VNOm51bWJlciA9IDA7XG5cdC8vIFNpbXBseSBhZGRzIHVwIGFsbCBvZiB0aGUgYmVoYXZpb3JzIGFuZCB0cnVuY2F0ZXMgdGhlbSB0byB0aGUgbWF4IGFjY2VsZXJhdGlvblxuXHRzdGF0aWMgQ0FMQ1VMQVRFX1NQRUVEOm51bWJlciA9IDE7XG5cdC8vIFByaW9yaXRpemVkIERpdGhlcmluZ1xuXHRzdGF0aWMgQ0FMQ1VMQVRFX0FDQ1VSQUNZOm51bWJlciA9IDI7XG4gICAgXG5cdHB1YmxpYyBiZWhhdmlvcnM6QXJyYXk8QmVoYXZpb3I+O1xuXHRwdWJsaWMgY2FsY3VsYXRlTWV0aG9kOm51bWJlcjtcbiAgICBwdWJsaWMgc3RlZXJpbmdQYXJhbWV0ZXJzOlN0ZWVyaW5nQWdlbnRQYXJhbWV0ZXJzO1xuICAgIHB1YmxpYyBoYXNDaGFuZ2VkOmJvb2xlYW47XG5cblx0Y29uc3RydWN0b3IoYmVoYXZpb3JzOkFycmF5PEJlaGF2aW9yPiwgcGFyYW1zOlN0ZWVyaW5nQWdlbnRQYXJhbWV0ZXJzID0gbnVsbCxjYWxjdWxhdGlvbk1ldGhvZDpudW1iZXIgPSBTdGVlcmluZy5DQUxDVUxBVEVfU1VNKSB7XG5cdFx0dGhpcy5iZWhhdmlvcnMgPSBiZWhhdmlvcnM7XG5cdFx0dGhpcy5zdGVlcmluZ1BhcmFtZXRlcnMgPSBwYXJhbXM9PW51bGwgPyBERUZBVUxUX1NURUVSSU5HX1BBUkFNUyA6IHBhcmFtcztcblx0XHR0aGlzLmhhc0NoYW5nZWQgPSB0cnVlO1xuXHR9XG5cblx0cHVibGljIGFkZEJlaGF2aW9yKGJlaGF2aW9yOkJlaGF2aW9yKSB7XG5cdFx0dGhpcy5iZWhhdmlvcnMucHVzaChiZWhhdmlvcik7XG5cdFx0dGhpcy5oYXNDaGFuZ2VkID0gdHJ1ZTtcblx0fVxuXHRcblx0cHVibGljIHJlbW92ZUJlaGF2aW91cihiZWhhdmlvcjpCZWhhdmlvcikge1xuXHRcdHRoaXMuYmVoYXZpb3JzLnNwbGljZSh0aGlzLmJlaGF2aW9ycy5pbmRleE9mKGJlaGF2aW9yKSwxKTtcblx0XHR0aGlzLmhhc0NoYW5nZWQgPSB0cnVlO1xuXHR9XG5cblx0cHVibGljIGdldEJlaGF2aW91cih0eXBlOklDb21wb25lbnRGYWN0b3J5KTpCZWhhdmlvciB7XG5cdFx0cmV0dXJuIHRoaXMuYmVoYXZpb3JzLmZpbmQoYmVoYXZpb3VyPT4oYmVoYXZpb3VyIGFzIGFueSkuY29uc3RydWN0b3IubmFtZSA9PT0gdHlwZS5uYW1lKTtcblx0fVxuXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2FpL3N0ZWVyaW5nL2NvbXBvbmVudHMvU3RlZXJpbmcudHMiLCJpbXBvcnQgeyBCb2R5IH0gZnJvbSBcIi4uLy4uLy4uL3BoeXNpY3MvQm9keVwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi8uLi9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IFN0ZWVyaW5nQWdlbnRQYXJhbWV0ZXJzIH0gZnJvbSBcIi4uL1N0ZWVyaW5nQWdlbnRQYXJhbWV0ZXJzXCI7XG5pbXBvcnQgeyBTdGVlcmluZ0JlaGF2aW9yIH0gZnJvbSBcIi4uL1N0ZWVyaW5nQmVoYXZpb3JcIjtcblxuZXhwb3J0IGNsYXNzIEJlaGF2aW9yIHtcbiAgICBwdWJsaWMgd2VpZ2h0OiBudW1iZXI7XG4gICAgcHVibGljIHByb2JhYmlsaXR5OiBudW1iZXI7XG4gICAgcHVibGljIHByaW9yaXR5OiBudW1iZXI7XG4gICAgcHVibGljIGFnZW50OiBCb2R5O1xuICAgIHB1YmxpYyBhY3RpdmU6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgc3RlZXJpbmc6IFN0ZWVyaW5nQmVoYXZpb3I7XG5cbiAgICBjb25zdHJ1Y3Rvcih3ZWlnaHQ6IG51bWJlciA9IDEuMCwgcHJpb3JpdHk6IG51bWJlciA9IDEsIHByb2JhYmlsaXR5OiBudW1iZXIgPSAxLCBhY3RpdmU6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHRoaXMud2VpZ2h0ID0gd2VpZ2h0O1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgICAgIHRoaXMucHJvYmFiaWxpdHkgPSBwcm9iYWJpbGl0eTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBhY3RpdmU7XG4gICAgfVxuXG4gICAgcHVibGljIGNhbGN1bGF0ZShhZ2VudDogQm9keSwgcGFyYW1zOiBTdGVlcmluZ0FnZW50UGFyYW1ldGVycywgcmVzdWx0OiBWZWN0b3IyKSB7fVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2FpL3N0ZWVyaW5nL2JlaGF2aW9ycy9CZWhhdmlvci50cyIsImV4cG9ydCBjbGFzcyBTdGVlcmluZ1NldHRpbmdzIHtcbiAgICAvLyBBcnJpdmUgc3BlZWQgc2V0dGluZ3NcbiAgICBzdGF0aWMgc3BlZWRUd2Vha2VyOiBudW1iZXIgPSAwLjM7XG4gICAgc3RhdGljIGFycml2ZUZhc3Q6IG51bWJlciA9IDE7XG4gICAgc3RhdGljIGFycml2ZU5vcm1hbDogbnVtYmVyID0gMztcbiAgICBzdGF0aWMgYXJyaXZlU2xvdzogbnVtYmVyID0gNTtcblxuICAgIC8vIFdhbmRlciBTZXR0aW5nc1xuICAgIHN0YXRpYyB3YW5kZXJKaXR0ZXI6IG51bWJlciA9IDMwMDsgLy8gKCBwZXIgc2Vjb25kIClcbiAgICBzdGF0aWMgd2FuZGVyRGlzdGFuY2U6IG51bWJlciA9IDI1O1xuICAgIHN0YXRpYyB3YW5kZXJSYWRpdXM6IG51bWJlciA9IDE1O1xuXG4gICAgLy8gUHJvYmFiaWxpdGllcyAtIFVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBjaGFuY2UgdGhhdCB0aGUgUHJpb3JpdGl6ZWQgRGl0aGVyaW5nICggZmFzdGVzdCApIGNhbGN1bGF0aW9uIG1ldGhvZCB3aWxsIHJ1biBhIGJlaGF2aW9yXG4gICAgc3RhdGljIHNlcGFyYXRpb25Qcm9iYWJpbGl0eTogbnVtYmVyID0gMC4yO1xuICAgIHN0YXRpYyBjb2hlc2lvblByb2JhYmlsaXR5OiBudW1iZXIgPSAwLjY7XG4gICAgc3RhdGljIGFsaWdubWVudFByb2JhYmlsaXR5OiBudW1iZXIgPSAwLjM7XG5cbiAgICBzdGF0aWMgZG9kZ2VQcm9iYWJpbGl0eTogbnVtYmVyID0gMC42O1xuXG4gICAgc3RhdGljIHNlZWtQcm9iYWJpbGl0eTogbnVtYmVyID0gMC44O1xuICAgIHN0YXRpYyBmbGVlUHJvYmFiaWxpdHk6IG51bWJlciA9IDAuNjtcbiAgICBzdGF0aWMgcHVyc3VpdFByb2JhYmlsaXR5OiBudW1iZXIgPSAwLjg7XG4gICAgc3RhdGljIGV2YWRlUHJvYmFiaWxpdHk6IG51bWJlciA9IDE7XG4gICAgc3RhdGljIG9mZnNldFB1cnN1aXRQcm9iYWJpbGl0eTogbnVtYmVyID0gMC44O1xuICAgIHN0YXRpYyBhcnJpdmVQcm9iYWJpbGl0eTogbnVtYmVyID0gMC41O1xuXG4gICAgc3RhdGljIG9ic3RhY2xlQXZvaWRhbmNlUHJvYmFiaWxpdHk6IG51bWJlciA9IDAuNTtcbiAgICBzdGF0aWMgd2FsbEF2b2lkYW5jZVByb2JhYmlsaXR5OiBudW1iZXIgPSAwLjU7XG4gICAgc3RhdGljIGhpZGVQcm9iYWJpbGl0eTogbnVtYmVyID0gMC44O1xuICAgIHN0YXRpYyBmb2xsb3dQYXRoUHJvYmFiaWxpdHk6IG51bWJlciA9IDAuNztcblxuICAgIHN0YXRpYyBpbnRlcnBvc2VQcm9iYWJpbGl0eTogbnVtYmVyID0gMC44O1xuICAgIHN0YXRpYyB3YW5kZXJQcm9iYWJpbGl0eTogbnVtYmVyID0gMC44O1xuXG4gICAgLy8gV2VpZ2h0cyAtIFNjYWxhciB0byBlZmZlY3QgdGhlIHdlaWdodHMgb2YgaW5kaXZpZHVhbCBiZWhhdmlvcnNcbiAgICBzdGF0aWMgc2VwYXJhdGlvbldlaWdodDogbnVtYmVyID0gMTtcbiAgICBzdGF0aWMgYWxpZ25tZW50V2VpZ2h0OiBudW1iZXIgPSAzO1xuICAgIHN0YXRpYyBjb2hlc2lvbldlaWdodDogbnVtYmVyID0gMjtcblxuICAgIHN0YXRpYyBkb2RnZVdlaWdodDogbnVtYmVyID0gMTtcblxuICAgIHN0YXRpYyBzZWVrV2VpZ2h0OiBudW1iZXIgPSAxO1xuICAgIHN0YXRpYyBmbGVlV2VpZ2h0OiBudW1iZXIgPSAxO1xuICAgIHN0YXRpYyBwdXJzdWl0V2VpZ2h0OiBudW1iZXIgPSAxO1xuICAgIHN0YXRpYyBldmFkZVdlaWdodDogbnVtYmVyID0gMC4xO1xuICAgIHN0YXRpYyBvZmZzZXRQdXJzdWl0V2VpZ2h0OiBudW1iZXIgPSAxO1xuICAgIHN0YXRpYyBhcnJpdmVXZWlnaHQ6IG51bWJlciA9IDE7XG5cbiAgICBzdGF0aWMgb2JzdGFjbGVBdm9pZGFuY2VXZWlnaHQ6IG51bWJlciA9IDEwO1xuICAgIHN0YXRpYyB3YWxsQXZvaWRhbmNlV2VpZ2h0OiBudW1iZXIgPSAxMDtcbiAgICBzdGF0aWMgaGlkZVdlaWdodDogbnVtYmVyID0gMTtcbiAgICBzdGF0aWMgZm9sbG93UGF0aFdlaWdodDogbnVtYmVyID0gMC41O1xuXG4gICAgc3RhdGljIGludGVycG9zZVdlaWdodDogbnVtYmVyID0gMTtcbiAgICBzdGF0aWMgd2FuZGVyV2VpZ2h0OiBudW1iZXIgPSAxO1xuXG4gICAgLy8gUHJpb3JpdGllcyAtIE9yZGVyIGluIHdoaWNoIGJlaGF2aW9ycyBhcmUgY2FsY3VsYXRlZCAoIGxvd2VyIG51bWJlcnMgZ2V0IGNhbGN1bGF0ZWQgZmlyc3QgKVxuICAgIHN0YXRpYyB3YWxsQXZvaWRhbmNlUHJpb3JpdHk6IG51bWJlciA9IDEwO1xuICAgIHN0YXRpYyBvYnN0YWNsZUF2b2lkYW5jZVByaW9yaXR5OiBudW1iZXIgPSAyMDtcbiAgICBzdGF0aWMgZXZhZGVQcmlvcml0eTogbnVtYmVyID0gMzA7XG4gICAgc3RhdGljIGhpZGVQcmlvcml0eTogbnVtYmVyID0gMzU7XG5cbiAgICBzdGF0aWMgc2VwZXJhdGlvblByaW9yaXR5OiBudW1iZXIgPSA0MDtcbiAgICBzdGF0aWMgYWxpZ25tZW50UHJpb3JpdHk6IG51bWJlciA9IDUwO1xuICAgIHN0YXRpYyBjb2hlc2lvblByaW9yaXR5OiBudW1iZXIgPSA2MDtcblxuICAgIHN0YXRpYyBkb2RnZVByaW9yaXR5OiBudW1iZXIgPSA2NTtcblxuICAgIHN0YXRpYyBzZWVrUHJpb3JpdHk6IG51bWJlciA9IDcwO1xuICAgIHN0YXRpYyBmbGVlUHJpb3JpdHk6IG51bWJlciA9IDgwO1xuICAgIHN0YXRpYyBhcnJpdmVQcmlvcml0eTogbnVtYmVyID0gOTA7XG4gICAgc3RhdGljIHB1cnN1aXRQcmlvcml0eTogbnVtYmVyID0gMTAwO1xuICAgIHN0YXRpYyBvZmZzZXRQdXJzdWl0UHJpb3JpdHk6IG51bWJlciA9IDExMDtcbiAgICBzdGF0aWMgaW50ZXJwb3NlUHJpb3JpdHk6IG51bWJlciA9IDEyMDtcbiAgICBzdGF0aWMgZm9sbG93UGF0aFByaW9yaXR5OiBudW1iZXIgPSAxMzA7XG4gICAgc3RhdGljIHdhbmRlclByaW9yaXR5OiBudW1iZXIgPSAxNDA7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvYWkvc3RlZXJpbmcvU3RlZXJpbmdTZXR0aW5ncy50cyIsImltcG9ydCB7IERpZ2l0YWxJbnB1dCB9IGZyb20gXCIuL3V0aWwvRGlnaXRhbElucHV0XCI7XG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tIFwiLi9lY3MvRW5naW5lXCI7XG5pbXBvcnQgeyBBc3NldExvYWRlciB9IGZyb20gXCIuL3V0aWwvQXNzZXRMb2FkZXJcIjtcbmltcG9ydCB7IEdhbWVMb29wIH0gZnJvbSBcIi4vdXRpbC9HYW1lTG9vcFwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4vZWNzL0VudGl0eVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEdsYXplRW5naW5lUGFyYW1zIHtcbiAgICB0aWxlU2l6ZTogbnVtYmVyO1xuICAgIGRlYnVnOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgR2xhemVFbmdpbmUge1xuICAgIHB1YmxpYyBhc3NldHM6IEFzc2V0TG9hZGVyO1xuICAgIHB1YmxpYyBsb29wOiBHYW1lTG9vcDtcbiAgICBwdWJsaWMgaW5wdXQ6IERpZ2l0YWxJbnB1dDtcbiAgICBwdWJsaWMgZW5naW5lOiBFbmdpbmU7XG5cbiAgICBwdWJsaWMgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcblxuICAgIHN0YXRpYyBwYXJhbXM6IEdsYXplRW5naW5lUGFyYW1zID0ge1xuICAgICAgICB0aWxlU2l6ZTogMTYsXG4gICAgICAgIGRlYnVnOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgdGhpcy5sb29wID0gbmV3IEdhbWVMb29wKCk7XG4gICAgICAgIHRoaXMubG9vcC51cGRhdGVGdW5jID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmlucHV0ID0gbmV3IERpZ2l0YWxJbnB1dCgpO1xuICAgICAgICB2YXIgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdGhpcy5pbnB1dC5JbnB1dFRhcmdldCh3aW5kb3cuZG9jdW1lbnQsIG5ldyBWZWN0b3IyKHJlY3QubGVmdCwgcmVjdC50b3ApKTtcblxuICAgICAgICB0aGlzLmVuZ2luZSA9IG5ldyBFbmdpbmUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbG9hZEFzc2V0cyhhc3NldExpc3Q6IEFycmF5PHN0cmluZz4pIHtcbiAgICAgICAgdGhpcy5hc3NldHMgPSBuZXcgQXNzZXRMb2FkZXIoKTtcbiAgICAgICAgdGhpcy5hc3NldHMubG9hZGVkLmFkZCh0aGlzLmluaXRhbGl6ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5hc3NldHMuU2V0SW1hZ2VzVG9Mb2FkKGFzc2V0TGlzdCk7XG4gICAgICAgIHRoaXMuYXNzZXRzLkxvYWQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdGFsaXplKCkge31cblxuICAgIHB1YmxpYyB1cGRhdGUoZGVsdGE6IG51bWJlciwgbm93OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5wcmVVcGRhdGUoKTtcbiAgICAgICAgdGhpcy5lbmdpbmUudXBkYXRlKGRlbHRhLCBub3cpO1xuICAgICAgICB0aGlzLnBvc3RVcGRhdGUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcHJlVXBkYXRlKCkge31cblxuICAgIHB1YmxpYyBwb3N0VXBkYXRlKCkge31cbn1cblxuZXhwb3J0IHR5cGUgRW50aXR5Q2IgPSAoZW5naW5lOiBFbmdpbmUsIGVudGl0eTogRW50aXR5KSA9PiB2b2lkO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL0dsYXplRW5naW5lLnRzIiwiZXhwb3J0IGNsYXNzIFJlY3RhbmdsZSB7XG4gICAgcHVibGljIHg6IG51bWJlcjtcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xuICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyO1xuICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2dlb20vUmVjdGFuZ2xlLnRzIiwiZXhwb3J0IGZ1bmN0aW9uIENvbXBpbGVWZXJ0ZXhTaGFkZXIoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgc2hhZGVyU3JjOiBzdHJpbmcpOiBXZWJHTFNoYWRlciB7XG4gICAgcmV0dXJuIENvbXBpbGVTaGFkZXIoZ2wsIHNoYWRlclNyYywgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlZFUlRFWF9TSEFERVIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ29tcGlsZUZyYWdtZW50U2hhZGVyKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHNoYWRlclNyYzogc3RyaW5nKTogV2ViR0xTaGFkZXIge1xuICAgIHJldHVybiBDb21waWxlU2hhZGVyKGdsLCBzaGFkZXJTcmMsIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5GUkFHTUVOVF9TSEFERVIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ29tcGlsZVNoYWRlcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBzaGFkZXJTcmM6IHN0cmluZywgc2hhZGVyVHlwZTogbnVtYmVyKTogV2ViR0xTaGFkZXIge1xuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoc2hhZGVyVHlwZSk7XG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2hhZGVyU3JjKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBXZWJHTFJlbmRlcmluZ0NvbnRleHQuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgIHdpbmRvdy5hbGVydChnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHNoYWRlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENvbXBpbGVQcm9ncmFtKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHZlcnRleFNyYzogc3RyaW5nLCBmcmFnbWVudFNyYzogc3RyaW5nKTogV2ViR0xQcm9ncmFtIHtcbiAgICB2YXIgdmVydGV4U2hhZGVyID0gQ29tcGlsZVZlcnRleFNoYWRlcihnbCwgdmVydGV4U3JjKTtcbiAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSBDb21waWxlRnJhZ21lbnRTaGFkZXIoZ2wsIGZyYWdtZW50U3JjKTtcbiAgICB2YXIgc2hhZGVyUHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcblxuICAgIGdsLmF0dGFjaFNoYWRlcihzaGFkZXJQcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihzaGFkZXJQcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG4gICAgZ2wubGlua1Byb2dyYW0oc2hhZGVyUHJvZ3JhbSk7XG5cbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIoc2hhZGVyUHJvZ3JhbSwgV2ViR0xSZW5kZXJpbmdDb250ZXh0LkxJTktfU1RBVFVTKSkge1xuICAgICAgICB3aW5kb3cuYWxlcnQoXCJDb3VsZCBub3QgaW5pdGlhbGl6ZSBwcm9ncmFtXCIpO1xuICAgIH1cbiAgICByZXR1cm4gc2hhZGVyUHJvZ3JhbTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9ncmFwaGljcy9yZW5kZXIvdXRpbC9XZWJHTFNoYWRlclV0aWwudHMiLCJleHBvcnQgY2xhc3MgU2hhZGVyV3JhcHBlciB7XG4gICAgcHVibGljIHByb2dyYW06IFdlYkdMUHJvZ3JhbTtcbiAgICBwdWJsaWMgYXR0cmlidXRlOiBhbnk7XG4gICAgcHVibGljIHVuaWZvcm06IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHByb2dyYW06IFdlYkdMUHJvZ3JhbSkge1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlID0ge307XG4gICAgICAgIHRoaXMudW5pZm9ybSA9IHt9O1xuICAgICAgICB2YXIgY250ID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBXZWJHTFJlbmRlcmluZ0NvbnRleHQuQUNUSVZFX0FUVFJJQlVURVMpO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgY250KSB7XG4gICAgICAgICAgICB2YXIgYXR0cmliID0gZ2wuZ2V0QWN0aXZlQXR0cmliKHByb2dyYW0sIGkpO1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVbYXR0cmliLm5hbWVdID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgYXR0cmliLm5hbWUpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgY250ID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBXZWJHTFJlbmRlcmluZ0NvbnRleHQuQUNUSVZFX1VOSUZPUk1TKTtcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgY250KSB7XG4gICAgICAgICAgICB2YXIgYXR0cmliID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybShwcm9ncmFtLCBpKTtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybVthdHRyaWIubmFtZV0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgYXR0cmliLm5hbWUpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2dyYXBoaWNzL3JlbmRlci91dGlsL1NoYWRlcldyYXBwZXIudHMiLCJpbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgQkZQcm94eSB9IGZyb20gXCIuL0JGUHJveHlcIjtcblxuZXhwb3J0IGludGVyZmFjZSBDb250YWN0Q2FsbGJhY2sge1xuICAgIChwcm94eUE6IEJGUHJveHksIHByb3h5QjogQkZQcm94eSwgY29udGFjdDogQ29udGFjdCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBDb250YWN0IHtcbiAgICBwdWJsaWMgcG9zaXRpb246IFZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xuICAgIHB1YmxpYyBkZWx0YTogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG4gICAgcHVibGljIG5vcm1hbDogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG4gICAgcHVibGljIGRpc3RhbmNlOiBudW1iZXIgPSAwO1xuICAgIHB1YmxpYyB0aW1lOiBudW1iZXIgPSAwO1xuICAgIHB1YmxpYyBzd2VlcFBvc2l0aW9uOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcblxuICAgIGNvbnN0cnVjdG9yKCkge31cblxuICAgIHB1YmxpYyBzZXRUbyhjb250YWN0OiBDb250YWN0KSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IGNvbnRhY3QucG9zaXRpb24ueDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gY29udGFjdC5wb3NpdGlvbi55O1xuICAgICAgICB0aGlzLmRlbHRhLnggPSBjb250YWN0LmRlbHRhLng7XG4gICAgICAgIHRoaXMuZGVsdGEueSA9IGNvbnRhY3QuZGVsdGEueTtcbiAgICAgICAgdGhpcy5ub3JtYWwueCA9IGNvbnRhY3Qubm9ybWFsLng7XG4gICAgICAgIHRoaXMubm9ybWFsLnkgPSBjb250YWN0Lm5vcm1hbC55O1xuICAgICAgICB0aGlzLnRpbWUgPSBjb250YWN0LnRpbWU7XG4gICAgICAgIHRoaXMuZGlzdGFuY2UgPSBjb250YWN0LmRpc3RhbmNlO1xuICAgICAgICB0aGlzLnN3ZWVwUG9zaXRpb24ueCA9IGNvbnRhY3Quc3dlZXBQb3NpdGlvbi54O1xuICAgICAgICB0aGlzLnN3ZWVwUG9zaXRpb24ueSA9IGNvbnRhY3Quc3dlZXBQb3NpdGlvbi55O1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9Db250YWN0LnRzIiwiZXhwb3J0IGNsYXNzIFRpbGVHcmFwaGljcyB7XG4gICAgcHVibGljIHRpbGVGcmFtZUlkOiBzdHJpbmc7XG4gICAgcHVibGljIG9uQ2hhbmdlOiAoKSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IodGlsZUZyYW1lSWQ6IHN0cmluZyA9IFwiXCIpIHtcbiAgICAgICAgdGhpcy5zZXRUaWxlRnJhbWVJZCh0aWxlRnJhbWVJZCk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFRpbGVGcmFtZUlkKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICB0aGlzLnRpbGVGcmFtZUlkID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLm9uQ2hhbmdlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2dyYXBoaWNzL2NvbXBvbmVudHMvVGlsZUdyYXBoaWNzLnRzIiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IEVudGl0eUNiIH0gZnJvbSBcIi4uLy4uL0dsYXplRW5naW5lXCI7XG5cbmV4cG9ydCBjbGFzcyBDb2xsaXNpb25Db3VudGVyIHtcbiAgICBwdWJsaWMgY291bnQ6IG51bWJlcjtcbiAgICBwdWJsaWMgb25Db3VudDogc3RyaW5nO1xuICAgIHB1YmxpYyBpZ25vcmVTdGF0aWM6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb3VudDogbnVtYmVyLCBvbkNvdW50OiBzdHJpbmcsIGlnbm9yZVN0YXRpYzogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5jb3VudCA9IGNvdW50O1xuICAgICAgICB0aGlzLm9uQ291bnQgPSBvbkNvdW50O1xuICAgICAgICB0aGlzLmlnbm9yZVN0YXRpYyA9IGlnbm9yZVN0YXRpYztcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL0NvbGxpc2lvbkNvdW5lci50cyIsImltcG9ydCB7IEVuZ2luZSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9lY3MvRW5naW5lXCI7XG5pbXBvcnQgeyBNYXRlcmlhbCB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL01hdGVyaWFsXCI7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvUG9zaXRpb25cIjtcbmltcG9ydCB7IEZpbHRlciB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9GaWx0ZXJcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvZ2VvbS9WZWN0b3IyXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgVGVzdEZpbHRlcnMgfSBmcm9tIFwiLi4vLi4vY29uZmlnL0ZpbHRlcnNcIjtcbmltcG9ydCB7IEJvZHkgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGh5c2ljcy9Cb2R5XCI7XG5pbXBvcnQgeyBFeHRlbnRzIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9FeHRlbnRzXCI7XG5pbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9ncmFwaGljcy9jb21wb25lbnRzL0dyYXBoaWNzXCI7XG5pbXBvcnQgeyBQaHlzaWNzQm9keSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL2NvbXBvbmVudHMvUGh5c2ljc0JvZHlcIjtcbmltcG9ydCB7IE1vdmVhYmxlIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9Nb3ZlYWJsZVwiO1xuaW1wb3J0IHsgUGh5c2ljc0NvbGxpc2lvbiB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL2NvbXBvbmVudHMvUGh5c2ljc0NvbGxpc2lvblwiO1xuaW1wb3J0IHsgUGFydGljbGVFbWl0dGVyIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL3BhcnRpY2xlL2NvbXBvbmVudHMvUGFydGljbGVFbWl0dGVyXCI7XG5pbXBvcnQgeyBDb2xsaXNpb25Db3VudGVyIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9Db2xsaXNpb25Db3VuZXJcIjtcbmltcG9ydCB7IEhlYWx0aCB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvSGVhbHRoXCI7XG5pbXBvcnQgeyBBZ2UgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL0FnZVwiO1xuaW1wb3J0IHsgQWN0aXZlIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9BY3RpdmVcIjtcbmltcG9ydCB7IEJhbGxpc3RpY3MgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvdXRpbC9CYWxsYXN0aWNzXCI7XG5pbXBvcnQgeyBEZXN0cm95IH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9EZXN0cm95XCI7XG5pbXBvcnQgeyBFeHBsb3Npb24gfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGFydGljbGUvZW1pdHRlci9FeHBsb3Npb25cIjtcbmltcG9ydCB7IFNpbXBsZUZTTVN0YXRlcyB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9haS9mc20vU2ltcGxlRlNNXCI7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvU3RhdGVcIjtcbmltcG9ydCB7IENvbWJhdFV0aWxzIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL3V0aWwvQ29tYmF0VXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIFN0YW5kYXJkQnVsbGV0IHtcbiAgICBzdGF0aWMgc3RhdGVzOiBTaW1wbGVGU01TdGF0ZXMgPSB7XG4gICAgICAgIGFsaXZlOiBmdW5jdGlvbihlbmdpbmU6IEVuZ2luZSwgZW50aXR5OiBFbnRpdHkpIHt9LFxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbihlbmdpbmU6IEVuZ2luZSwgZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgICAgICAgIGlmIChlbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGVudGl0eSwgRGVzdHJveSkpIHJldHVybjtcbiAgICAgICAgICAgIGVuZ2luZS5hZGRDb21wb25lbnRzVG9FbnRpdHkoZW50aXR5LCBbbmV3IERlc3Ryb3koMSldKTtcbiAgICAgICAgICAgIGVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBQYXJ0aWNsZUVtaXR0ZXIpLmVtaXR0ZXJzLnB1c2gobmV3IEV4cGxvc2lvbigxMCwgNTApKTtcbiAgICAgICAgICAgIENvbWJhdFV0aWxzLmV4cGxvZGUoZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShlbnRpdHksIFBvc2l0aW9uKS5jb29yZHMsIDEwMCwgMTAwMDAsIGVudGl0eSk7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBzdGF0aWMgY3JlYXRlKGVuZ2luZTogRW5naW5lLCBwb3NpdGlvbjogUG9zaXRpb24sIGZpbHRlcjogRmlsdGVyLCB0YXJnZXRQb3NpdGlvbjogVmVjdG9yMik6IEVudGl0eSB7XG4gICAgICAgIHZhciBidWxsZXRCb2R5ID0gbmV3IEJvZHkoTWF0ZXJpYWwuTElHSFRNRVRBTCk7XG4gICAgICAgIGJ1bGxldEJvZHkuc2V0TWFzcygxNiArIDgpO1xuICAgICAgICBidWxsZXRCb2R5LnNldEJvdW5jZXMoMyk7XG4gICAgICAgIGJ1bGxldEJvZHkuZ2xvYmFsRm9yY2VGYWN0b3IgPSAxOyAvLzAuNTtcbiAgICAgICAgYnVsbGV0Qm9keS5pc0J1bGxldCA9IHRydWU7XG4gICAgICAgIGJ1bGxldEJvZHkubWF4U2NhbGFyVmVsb2NpdHkgPSAxMDAwMDtcblxuICAgICAgICBmaWx0ZXIuY2F0ZWdvcnlCaXRzIHw9IFRlc3RGaWx0ZXJzLlBST0pFQ1RJTEVfQ0FUO1xuICAgICAgICBmaWx0ZXIubWFza0JpdHMgfD0gVGVzdEZpbHRlcnMuUFJPSkVDVElMRV9DT0xMSURBQkxFX0NBVDtcblxuICAgICAgICB2YXIgYnVsbGV0ID0gZW5naW5lLmNyZWF0ZUVudGl0eSgpO1xuICAgICAgICBlbmdpbmUuYWRkQ29tcG9uZW50c1RvRW50aXR5KGJ1bGxldCwgW1xuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBuZXcgRXh0ZW50cygyLCAyKSxcbiAgICAgICAgICAgIC8vIG5ldyBMaWZlQ3ljbGUoQlVMTEVUX0xJRkVDWUNMRSksXG4gICAgICAgICAgICBuZXcgR3JhcGhpY3MoXCJwcm9qZWN0aWxlc1wiLCBcInN0YW5kYXJkXCIpLFxuICAgICAgICAgICAgbmV3IFBoeXNpY3NCb2R5KGJ1bGxldEJvZHksIHRydWUpLFxuICAgICAgICAgICAgbmV3IE1vdmVhYmxlKCksXG4gICAgICAgICAgICBuZXcgUGh5c2ljc0NvbGxpc2lvbihmYWxzZSwgZmlsdGVyLCBbXSksXG4gICAgICAgICAgICBuZXcgUGFydGljbGVFbWl0dGVyKFtdKSxcbiAgICAgICAgICAgIG5ldyBTdGF0ZShTdGFuZGFyZEJ1bGxldC5zdGF0ZXMsIG51bGwsIGZhbHNlKSxcbiAgICAgICAgICAgIG5ldyBDb2xsaXNpb25Db3VudGVyKDMsIFwiZGVzdHJveVwiKSxcbiAgICAgICAgICAgIG5ldyBIZWFsdGgoMTAsIDEwLCAwLCBcImRlc3Ryb3lcIiksXG4gICAgICAgICAgICBuZXcgQWdlKDEwMDAsIFwiZGVzdHJveVwiKSxcbiAgICAgICAgICAgIG5ldyBBY3RpdmUoKSxcbiAgICAgICAgXSk7XG4gICAgICAgIEJhbGxpc3RpY3MuY2FsY1Byb2plY3RpbGVWZWxvY2l0eShidWxsZXRCb2R5LCB0YXJnZXRQb3NpdGlvbiwgMjAwMCk7XG5cbiAgICAgICAgcmV0dXJuIGJ1bGxldDtcbiAgICB9XG4gICAgc3RhdGljIG9uRGVzdHJveShlbmdpbmU6IEVuZ2luZSwgZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgICAgaWYgKGVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBEZXN0cm95KSkgcmV0dXJuO1xuICAgICAgICBlbmdpbmUuYWRkQ29tcG9uZW50c1RvRW50aXR5KGVudGl0eSwgW25ldyBEZXN0cm95KDEpXSk7XG4gICAgICAgIGVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBQYXJ0aWNsZUVtaXR0ZXIpLmVtaXR0ZXJzLnB1c2gobmV3IEV4cGxvc2lvbigxMCwgNTApKTtcbiAgICAgICAgLy8gZW50aXR5LmdldENvbXBvbmVudChnbGF6ZS5lbmdpbmUuY29tcG9uZW50cy5QYXJ0aWNsZUVtaXR0ZXJzKS5lbWl0dGVycy5wdXNoKG5ldyBnbGF6ZS5wYXJ0aWNsZS5lbWl0dGVyLkV4cGxvc2lvbigxMCw1MCkpO1xuICAgICAgICAvLyBnbGF6ZS51dGlsLkNvbWJhdFV0aWxzLmV4cGxvZGUoZW50aXR5LmdldENvbXBvbmVudChQb3NpdGlvbikuY29vcmRzLDY0LDEwMDAwLGVudGl0eSk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Rlc3QvZmFjdG9yaWVzL3Byb2plY3RpbGUvU3RhbmRhcmRCdWxsZXQudHMiLCJpbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgQm9keSB9IGZyb20gXCIuLi9waHlzaWNzL0JvZHlcIjtcblxuZXhwb3J0IGNsYXNzIEJhbGxpc3RpY3Mge1xuICAgIHN0YXRpYyBjYWxjUHJvamVjdGlsZVZlbG9jaXR5KGJvZHk6IEJvZHksIHRhcmdldDogVmVjdG9yMiwgdmVsb2NpdHk6IG51bWJlcikge1xuICAgICAgICB2YXIgdmVsID0gdGFyZ2V0LmNsb25lKCk7XG5cbiAgICAgICAgdmVsLm1pbnVzRXF1YWxzKGJvZHkucG9zaXRpb24pO1xuICAgICAgICB2ZWwubm9ybWFsaXplKCk7XG4gICAgICAgIHZlbC5tdWx0RXF1YWxzKHZlbG9jaXR5KTtcbiAgICAgICAgYm9keS5tYXhTY2FsYXJWZWxvY2l0eSA9IHZlbG9jaXR5O1xuICAgICAgICBib2R5LnZlbG9jaXR5LnNldFRvKHZlbC54LCB2ZWwueSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNhbGNQcm9qZWN0aWxlRm9yY2UoYm9keTogQm9keSwgdGFyZ2V0OiBWZWN0b3IyLCBmb3JjZTogbnVtYmVyKSB7XG4gICAgICAgIHZhciBuZXdmb3JjZSA9IHRhcmdldC5jbG9uZSgpO1xuICAgICAgICBuZXdmb3JjZS5taW51c0VxdWFscyhib2R5LnBvc2l0aW9uKTtcbiAgICAgICAgbmV3Zm9yY2Uubm9ybWFsaXplKCk7XG4gICAgICAgIG5ld2ZvcmNlLm11bHRFcXVhbHMoZm9yY2UpO1xuICAgICAgICAvLyBib2R5Lm1heFNjYWxhclZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgICAgIGJvZHkuYWRkRm9yY2UobmV3Zm9yY2UpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS91dGlsL0JhbGxhc3RpY3MudHMiLCJleHBvcnQgY2xhc3MgUGxheWVyIHtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdGVzdC9jb21wb25lbnRzL1BsYXllci50cyIsImltcG9ydCB7IEJlaGF2aW9yIH0gZnJvbSBcIi4vQmVoYXZpb3JcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vLi4vLi4vZ2VvbS9WZWN0b3IyXCI7XG5pbXBvcnQgeyBTdGVlcmluZ1NldHRpbmdzIH0gZnJvbSBcIi4uL1N0ZWVyaW5nU2V0dGluZ3NcIjtcbmltcG9ydCB7IFJhbmRvbUZsb2F0IH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvUmFuZG9tXCI7XG5pbXBvcnQgeyBTdGVlcmluZ0FnZW50UGFyYW1ldGVycyB9IGZyb20gXCIuLi9TdGVlcmluZ0FnZW50UGFyYW1ldGVyc1wiO1xuaW1wb3J0IHsgQm9keSB9IGZyb20gXCIuLi8uLi8uLi9waHlzaWNzL0JvZHlcIjtcbmltcG9ydCB7IFNlZWsgfSBmcm9tIFwiLi9TZWVrXCI7XG5cbmV4cG9ydCBjbGFzcyBXYW5kZXIgZXh0ZW5kcyBCZWhhdmlvciB7XG4gICAgcHVibGljIGNpcmNsZVJhZGl1czogbnVtYmVyO1xuICAgIHB1YmxpYyBjaXJjbGVEaXN0YW5jZTogbnVtYmVyO1xuICAgIHB1YmxpYyB3YW5kZXJBbmdsZTogbnVtYmVyO1xuICAgIHB1YmxpYyB3YW5kZXJDaGFuZ2U6IG51bWJlcjtcblxuICAgIGNpcmNsZUNlbnRlcjogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG4gICAgZGlzcGxhY2VtZW50OiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcblxuICAgIGNvbnN0cnVjdG9yKGNpcmNsZVJhZGl1czogbnVtYmVyID0gOCwgY2lyY2xlRGlzdGFuY2U6IG51bWJlciA9IDEsIHdhbmRlckNoYW5nZTogbnVtYmVyID0gNCkge1xuICAgICAgICBzdXBlcihTdGVlcmluZ1NldHRpbmdzLndhbmRlcldlaWdodCwgU3RlZXJpbmdTZXR0aW5ncy53YW5kZXJQcmlvcml0eSk7XG4gICAgICAgIHRoaXMuY2lyY2xlUmFkaXVzID0gY2lyY2xlUmFkaXVzO1xuICAgICAgICB0aGlzLmNpcmNsZURpc3RhbmNlID0gY2lyY2xlRGlzdGFuY2U7XG4gICAgICAgIHRoaXMud2FuZGVyQW5nbGUgPSBSYW5kb21GbG9hdCgwLCBNYXRoLlBJICogMik7XG4gICAgICAgIHRoaXMud2FuZGVyQ2hhbmdlID0gd2FuZGVyQ2hhbmdlO1xuICAgIH1cblxuICAgIHB1YmxpYyBjYWxjdWxhdGUoYWdlbnQ6IEJvZHksIHBhcmFtczogU3RlZXJpbmdBZ2VudFBhcmFtZXRlcnMsIHJlc3VsdDogVmVjdG9yMikge1xuICAgICAgICB0aGlzLndhbmRlckFuZ2xlICs9IFJhbmRvbUZsb2F0KC10aGlzLndhbmRlckNoYW5nZSwgdGhpcy53YW5kZXJDaGFuZ2UpO1xuXG4gICAgICAgIHRoaXMuY2lyY2xlQ2VudGVyLmNvcHkoYWdlbnQudmVsb2NpdHkpO1xuICAgICAgICB0aGlzLmNpcmNsZUNlbnRlci5ub3JtYWxpemUoKTtcbiAgICAgICAgdGhpcy5jaXJjbGVDZW50ZXIubXVsdEVxdWFscyh0aGlzLmNpcmNsZURpc3RhbmNlKTtcbiAgICAgICAgdGhpcy5jaXJjbGVDZW50ZXIucGx1c0VxdWFscyhhZ2VudC5wb3NpdGlvbik7XG5cbiAgICAgICAgLy8gZ2xhemUuZGVidWcuRGVidWdFbmdpbmUuRHJhd1BhcnRpY2xlKGNpcmNsZUNlbnRlci54LGNpcmNsZUNlbnRlci55LDQsMCwwLDI1NSk7XG5cbiAgICAgICAgdmFyIGg6IG51bWJlciA9IE1hdGguYXRhbjIoYWdlbnQudmVsb2NpdHkueSwgYWdlbnQudmVsb2NpdHkueCk7XG4gICAgICAgIGggKz0gTWF0aC5QSSAvIDI7XG4gICAgICAgIHRoaXMuZGlzcGxhY2VtZW50LnNldFRvKFxuICAgICAgICAgICAgdGhpcy5jaXJjbGVSYWRpdXMgKiBNYXRoLmNvcyh0aGlzLndhbmRlckFuZ2xlICsgaCksXG4gICAgICAgICAgICB0aGlzLmNpcmNsZVJhZGl1cyAqIE1hdGguc2luKHRoaXMud2FuZGVyQW5nbGUgKyBoKSxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNpcmNsZUNlbnRlci5wbHVzRXF1YWxzKHRoaXMuZGlzcGxhY2VtZW50KTtcblxuICAgICAgICAvLyBnbGF6ZS5kZWJ1Zy5EZWJ1Z0VuZ2luZS5EcmF3UGFydGljbGUoY2lyY2xlQ2VudGVyLngsY2lyY2xlQ2VudGVyLnksNCwyNTUsMCwwKTtcblxuICAgICAgICBTZWVrLmNhbGMoYWdlbnQsIHBhcmFtcywgcmVzdWx0LCB0aGlzLmNpcmNsZUNlbnRlciwgMCk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2FpL3N0ZWVyaW5nL2JlaGF2aW9ycy9XYW5kZXIudHMiLCJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgRW5naW5lIH0gZnJvbSBcIi4uLy4uL2Vjcy9FbmdpbmVcIjtcbmltcG9ydCB7IEhlbGQgfSBmcm9tIFwiLi9IZWxkXCI7XG5cbmV4cG9ydCBjbGFzcyBIb2xkZXIge1xuXG4gICAgcHVibGljIGFjdGl2YXRlOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHVibGljIGhlbGRJdGVtOiBFbnRpdHkgPSBudWxsO1xuICAgIHB1YmxpYyBwYXJlbnQ6IEVudGl0eSA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6RW50aXR5KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgIH1cblxuICAgIHN0YXRpYyBkcm9wKGVuZ2luZTpFbmdpbmUsIGhvbGRlcjpIb2xkZXIpOkVudGl0eSB7XG4gICAgICAgIGlmIChob2xkZXIuaGVsZEl0ZW0hPW51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBob2xkZXIuaGVsZEl0ZW07XG4gICAgICAgICAgICBlbmdpbmUucmVtb3ZlQ29tcG9uZW50c0Zyb21FbnRpdHkoaG9sZGVyLmhlbGRJdGVtLCBbSGVsZF0pO1xuICAgICAgICAgICAgaG9sZGVyLmhlbGRJdGVtID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvSG9sZGVyLnRzIiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcblxuZXhwb3J0IGNsYXNzIEhlbGQge1xuXG4gICAgcHVibGljIGhvbGRlcjogRW50aXR5O1xuXG4gICAgY29uc3RydWN0b3IoaG9sZGVyOkVudGl0eSkge1xuICAgICAgICB0aGlzLmhvbGRlciA9IGhvbGRlcjtcbiAgICB9XG5cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL0hlbGQudHMiLCJpbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uL2dlb20vVmVjdG9yMlwiO1xuXG5leHBvcnQgY2xhc3MgRm9yY2VEYXRhIHtcbiAgICBwdWJsaWMgZGlyZWN0aW9uOiBWZWN0b3IyO1xuICAgIHB1YmxpYyBtaW5Gb3JjZTogbnVtYmVyO1xuICAgIHB1YmxpYyBtYXhGb3JjZTogbnVtYmVyO1xuICAgIHB1YmxpYyBtaW5EdXJhdGlvbjogbnVtYmVyO1xuICAgIHB1YmxpYyBtYXhEdXJhdGlvbjogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoZGlyZWN0aW9uOiBudW1iZXIsIG1pbkZvcmNlOiBudW1iZXIsIG1heEZvcmNlOiBudW1iZXIsIG1pbkR1cmF0aW9uOiBudW1iZXIsIG1heER1cmF0aW9uOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBuZXcgVmVjdG9yMigpO1xuICAgICAgICB0aGlzLmRpcmVjdGlvbi5zZXRVbml0Um90YXRpb24oZGlyZWN0aW9uIC0gOTApO1xuICAgICAgICB0aGlzLm1pbkZvcmNlID0gbWluRm9yY2U7XG4gICAgICAgIHRoaXMubWF4Rm9yY2UgPSBtYXhGb3JjZTtcbiAgICAgICAgdGhpcy5taW5EdXJhdGlvbiA9IG1pbkR1cmF0aW9uO1xuICAgICAgICB0aGlzLm1heER1cmF0aW9uID0gbWF4RHVyYXRpb247XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW52aXJvbm1lbnRGb3JjZSB7XG4gICAgcHVibGljIGRhdGE6IEFycmF5PEZvcmNlRGF0YT47XG5cbiAgICBwdWJsaWMgZGlyZWN0aW9uOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcbiAgICBwdWJsaWMgcG93ZXI6IG51bWJlciA9IDA7XG4gICAgcHVibGljIHR0bDogbnVtYmVyID0gMDtcblxuICAgIHB1YmxpYyBjdXJyZW50SW5kZXg6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IEFycmF5PEZvcmNlRGF0YT4pIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvcGh5c2ljcy9jb21wb25lbnRzL0Vudmlyb25tZW50Rm9yY2UudHMiLCJpbXBvcnQgeyBUTVhPYmplY3QgfSBmcm9tIFwiLi9UTVhNYXBcIjtcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcIi4uL2NvcmUvY29tcG9uZW50cy9Qb3NpdGlvblwiO1xuaW1wb3J0IHsgRXh0ZW50cyB9IGZyb20gXCIuLi9jb3JlL2NvbXBvbmVudHMvRXh0ZW50c1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gVE1YT2JqZWN0UG9zaXRpb24odG14T2JqZWN0OiBUTVhPYmplY3QpOiBQb3NpdGlvbiB7XG4gICAgcmV0dXJuIG5ldyBQb3NpdGlvbihTQ0FMRSh0bXhPYmplY3QueCArIHRteE9iamVjdC53aWR0aCAvIDIpLCBTQ0FMRSh0bXhPYmplY3QueSArIHRteE9iamVjdC5oZWlnaHQgLyAyKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUTVhPYmplY3RFeHRlbnRzKHRteE9iamVjdDogVE1YT2JqZWN0KTogRXh0ZW50cyB7XG4gICAgcmV0dXJuIG5ldyBFeHRlbnRzKFNDQUxFKHRteE9iamVjdC53aWR0aCAvIDIpLCBTQ0FMRSh0bXhPYmplY3QuaGVpZ2h0IC8gMikpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU0NBTEUodjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdiAqIDI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUTVhPYmplY3RHZXRDU1ZQYXJhbXMoY3N2OiBTdHJpbmcpOiBBcnJheTxhbnk+IHtcbiAgICB2YXIgcGFyc2VkUGFyYW1zID0gbmV3IEFycmF5KCk7XG4gICAgaWYgKGNzdiA9PSBudWxsKSByZXR1cm4gcGFyc2VkUGFyYW1zO1xuICAgIHZhciBwYXJhbXMgPSBjc3Yuc3BsaXQoXCIsXCIpO1xuICAgIHBhcmFtcy5mb3JFYWNoKHBhcmFtID0+IHtcbiAgICAgICAgdmFyIGYgPSBwYXJzZUZsb2F0KHBhcmFtKTtcbiAgICAgICAgaWYgKGYgIT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyc2VkUGFyYW1zLnB1c2goZik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VkUGFyYW1zLnB1c2gocGFyYW0pO1xuICAgIH0pO1xuICAgIHJldHVybiBwYXJzZWRQYXJhbXM7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvdG14L1RNWENvbXBvbmVudFV0aWxzLnRzIiwiZXhwb3J0IGNsYXNzIEludGVydmFsRGVsYXkge1xuICAgIHB1YmxpYyBjdXJyZW50OiBudW1iZXI7XG4gICAgcHVibGljIGludGVydmFsVGltZTogbnVtYmVyO1xuICAgIHB1YmxpYyBpbnRlcnZhbHM6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGludGVydmFsVGltZTogbnVtYmVyID0gMCkge1xuICAgICAgICB0aGlzLnJlc2V0KGludGVydmFsVGltZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlc2V0KGludGVydmFsVGltZTogbnVtYmVyID0gMCkge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSAwO1xuICAgICAgICB0aGlzLmludGVydmFsVGltZSA9IGludGVydmFsVGltZTtcbiAgICAgICAgdGhpcy5pbnRlcnZhbHMgPSAwO1xuICAgIH1cblxuICAgIHB1YmxpYyB0aWNrKGRlbHRhOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgdGhpcy5jdXJyZW50ICs9IGRlbHRhO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50ID4gdGhpcy5pbnRlcnZhbFRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IDA7XG4gICAgICAgICAgICB0aGlzLmludGVydmFscysrO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS91dGlsL0ludGVydmFsRGVsYXkudHMiLCJleHBvcnQgY2xhc3MgU3RhdGVVcGRhdGVyIHtcbiAgICBwdWJsaWMgc2VxdWVuY2U6IHN0cmluZ1tdO1xuICAgIHB1YmxpYyBjaGFubmVsOiBzdHJpbmc7XG4gICAgcHVibGljIG9uQ2hhbmdlOiAoKSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IoY2hhbm5lbDogc3RyaW5nLCBzZXF1ZW5jZTogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsO1xuICAgICAgICB0aGlzLnNlcXVlbmNlID0gc2VxdWVuY2U7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2NvcmUvY29tcG9uZW50cy9TdGF0ZVVwZGF0ZXIudHMiLCJleHBvcnQgY2xhc3MgSG9sZGFibGUge1xuICAgIGNvbnN0cnVjdG9yKCkge31cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvSG9sZGFibGUudHMiLCJ0eXBlIHBvb2xGYWN0b3J5PFQ+ID0gKGluZGV4OiBudW1iZXIpID0+IFQ7XG5cbmV4cG9ydCBjbGFzcyBQb29sPFQ+IHtcblxuICAgIHByaXZhdGUgcG9vbDogVFtdO1xuICAgIHByaXZhdGUgZmFjdG9yeTogcG9vbEZhY3Rvcnk8VD47XG4gICAgcHJpdmF0ZSBuZXh0QXZhaWxhYmxlSW5kZXg6IG51bWJlcjtcbiAgICBwcml2YXRlIHRvdGFsQWxsb2NhdGlvbkNvdW50OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihmYWN0b3J5OiBwb29sRmFjdG9yeTxUPikge1xuICAgICAgICB0aGlzLnBvb2wgPSBbXTtcbiAgICAgICAgdGhpcy5mYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgICAgdGhpcy5uZXh0QXZhaWxhYmxlSW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy50b3RhbEFsbG9jYXRpb25Db3VudCA9IDA7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZENhcGFjaXR5KGNhcGFjaXR5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5wb29sID0gWy4uLmVudGl0eVJhbmdlKHRoaXMucG9vbC5sZW5ndGgsIGNhcGFjaXR5LCB0aGlzLmZhY3RvcnkpLCAuLi50aGlzLnBvb2xdO1xuICAgICAgICB0aGlzLm5leHRBdmFpbGFibGVJbmRleCArPSBjYXBhY2l0eTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzZXJ2ZSgpOiBUIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMucG9vbFt0aGlzLm5leHRBdmFpbGFibGVJbmRleF07XG4gICAgICAgIHRoaXMucG9vbFt0aGlzLm5leHRBdmFpbGFibGVJbmRleF0gPSBudWxsO1xuICAgICAgICB0aGlzLm5leHRBdmFpbGFibGVJbmRleC0tO1xuICAgICAgICB0aGlzLnRvdGFsQWxsb2NhdGlvbkNvdW50Kys7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cblxuICAgIHB1YmxpYyBmcmVlKGl0ZW06IFQpIHtcbiAgICAgICAgdGhpcy5uZXh0QXZhaWxhYmxlSW5kZXgrKztcbiAgICAgICAgdGhpcy5wb29sW3RoaXMubmV4dEF2YWlsYWJsZUluZGV4XSA9IGl0ZW07XG4gICAgfVxuXG4gICAgZ2V0IGNhcGFjaXR5KCk6bnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9vbC5sZW5ndGg7XG4gICAgfVxuXG4gICAgZ2V0IGFzc2lnbmVkKCk6bnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9vbC5sZW5ndGggLSB0aGlzLm5leHRBdmFpbGFibGVJbmRleDtcbiAgICB9XG5cbiAgICBnZXQgdG90YWxBbGxvY2F0aW9ucygpOm51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvdGFsQWxsb2NhdGlvbkNvdW50O1xuICAgIH1cbn1cblxuY29uc3QgZW1wdHlOdWxsQXJyYXkgPSBjb3VudCA9PiBBcnJheShjb3VudCkuZmlsbChudWxsKTtcbmNvbnN0IHJldmVyc2VPcmRlciA9IChhLCBiKSA9PiBiIC0gYTtcbmNvbnN0IGVudGl0eVJhbmdlID0gKHN0YXJ0LCBsZW4sIGZhY3RvcnkpID0+XG4gICAgZW1wdHlOdWxsQXJyYXkobGVuKVxuICAgICAgICAubWFwKChfLCBpKSA9PiBmYWN0b3J5KHN0YXJ0ICsgaSkpXG4gICAgICAgIC5zb3J0KHJldmVyc2VPcmRlcik7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvdXRpbC9Qb29sLnRzIiwiZXhwb3J0IGNsYXNzIEJhc2VUZXh0dXJlIHtcbiAgICBwcml2YXRlIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XG5cbiAgICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7XG4gICAgcHVibGljIHNvdXJjZTogSW1hZ2VEYXRhO1xuICAgIHB1YmxpYyBwb3dlck9mVHdvOiBib29sZWFuO1xuXG4gICAgcHVibGljIHRleHR1cmU6IFdlYkdMVGV4dHVyZTtcblxuICAgIHB1YmxpYyBmcmFtZWJ1ZmZlcjogV2ViR0xGcmFtZWJ1ZmZlcjtcbiAgICBwdWJsaWMgcmVuZGVyYnVmZmVyOiBXZWJHTFJlbmRlcmJ1ZmZlcjtcblxuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBmbG9hdGluZ1BvbnVtYmVyOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnBvd2VyT2ZUd28gPSBmYWxzZTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5SZWdpc3RlclRleHR1cmUoZmxvYXRpbmdQb251bWJlcik7XG4gICAgfVxuXG4gICAgcHVibGljIFJlZ2lzdGVyVGV4dHVyZShmcDogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy50ZXh0dXJlID09IG51bGwpIHRoaXMudGV4dHVyZSA9IHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICB0aGlzLmdsLmJpbmRUZXh0dXJlKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmUpO1xuICAgICAgICB0aGlzLmdsLnBpeGVsU3RvcmVpKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIDApO1xuICAgICAgICAvLyB0aGlzLmdsLnBpeGVsU3RvcmVpKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCAxKTtcbiAgICAgICAgdGhpcy5nbC50ZXhQYXJhbWV0ZXJpKFxuICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfMkQsXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV9NQUdfRklMVEVSLFxuICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0Lk5FQVJFU1QsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaShcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFXzJELFxuICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfTUlOX0ZJTFRFUixcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5ORUFSRVNULFxuICAgICAgICApO1xuICAgICAgICBpZiAodGhpcy5wb3dlck9mVHdvKSB7XG4gICAgICAgICAgICB0aGlzLmdsLnRleFBhcmFtZXRlcmkoXG4gICAgICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfMkQsXG4gICAgICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfV1JBUF9TLFxuICAgICAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5SRVBFQVQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5nbC50ZXhQYXJhbWV0ZXJpKFxuICAgICAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFXzJELFxuICAgICAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFX1dSQVBfVCxcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuUkVQRUFULFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaShcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV9XUkFQX1MsXG4gICAgICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LkNMQU1QX1RPX0VER0UsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5nbC50ZXhQYXJhbWV0ZXJpKFxuICAgICAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFXzJELFxuICAgICAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFX1dSQVBfVCxcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuQ0xBTVBfVE9fRURHRSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcy5nbC5iaW5kVGV4dHVyZShXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV8yRCxudWxsKTtcbiAgICAgICAgLy90aGlzLmdsLnRleEltYWdlMkQoV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfMkQsMCxXZWJHTFJlbmRlcmluZ0NvbnRleHQuUkdCQSxXZWJHTFJlbmRlcmluZ0NvbnRleHQuUkdCQSxXZWJHTFJlbmRlcmluZ0NvbnRleHQuVU5TSUdORURfQllURSxzb3VyY2UpO1xuICAgICAgICB0aGlzLmdsLnRleEltYWdlMkQoXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuUkdCQSxcbiAgICAgICAgICAgIHRoaXMud2lkdGgsXG4gICAgICAgICAgICB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuUkdCQSxcbiAgICAgICAgICAgIGZwID8gV2ViR0xSZW5kZXJpbmdDb250ZXh0LkZMT0FUIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgRnJvbUltYWdlKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGltYWdlOiBJbWFnZURhdGEpIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoZ2wsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQpO1xuICAgICAgICBnbC50ZXhJbWFnZTJEKFxuICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfMkQsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlJHQkEsXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuUkdCQSxcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgaW1hZ2UsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH1cblxuICAgIHB1YmxpYyBiaW5kKHVuaXQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLmdsLmFjdGl2ZVRleHR1cmUoV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkUwICsgdW5pdCk7XG4gICAgICAgIHRoaXMuZ2wuYmluZFRleHR1cmUoV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHVuYmluZCh1bml0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5nbC5hY3RpdmVUZXh0dXJlKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFMCArIHVuaXQpO1xuICAgICAgICB0aGlzLmdsLmJpbmRUZXh0dXJlKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFXzJELCBudWxsKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZHJhd1RvKGNhbGxiYWNrOiBhbnkpIHtcbiAgICAgICAgLy92YXIgdiA9IHRoaXMuZ2wuZ2V0UGFyYW1ldGVyKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5WSUVXUE9SVCk7XG4gICAgICAgIGlmICh0aGlzLmZyYW1lYnVmZmVyID09IG51bGwpIHRoaXMuZnJhbWVidWZmZXIgPSB0aGlzLmdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmJ1ZmZlciA9PSBudWxsKSB0aGlzLnJlbmRlcmJ1ZmZlciA9IHRoaXMuZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG4gICAgICAgIHRoaXMuZ2wuYmluZEZyYW1lYnVmZmVyKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5GUkFNRUJVRkZFUiwgdGhpcy5mcmFtZWJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZ2wuYmluZFJlbmRlcmJ1ZmZlcihXZWJHTFJlbmRlcmluZ0NvbnRleHQuUkVOREVSQlVGRkVSLCB0aGlzLnJlbmRlcmJ1ZmZlcik7XG4gICAgICAgIGlmICh0aGlzLndpZHRoICE9ICh0aGlzLnJlbmRlcmJ1ZmZlciBhcyBhbnkpLndpZHRoIHx8IHRoaXMuaGVpZ2h0ICE9ICh0aGlzLnJlbmRlcmJ1ZmZlciBhcyBhbnkpLmhlaWdodCkge1xuICAgICAgICAgICAgKHRoaXMucmVuZGVyYnVmZmVyIGFzIGFueSkud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICAgICAgKHRoaXMucmVuZGVyYnVmZmVyIGFzIGFueSkuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLmdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoXG4gICAgICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlJFTkRFUkJVRkZFUixcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuREVQVEhfQ09NUE9ORU5UMTYsXG4gICAgICAgICAgICAgICAgdGhpcy53aWR0aCxcbiAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLmdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKFxuICAgICAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5GUkFNRUJVRkZFUixcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuQ09MT1JfQVRUQUNITUVOVDAsXG4gICAgICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfMkQsXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5nbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuRlJBTUVCVUZGRVIsXG4gICAgICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LkRFUFRIX0FUVEFDSE1FTlQsXG4gICAgICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlJFTkRFUkJVRkZFUixcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmJ1ZmZlcixcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdsLnZpZXdwb3J0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgdGhpcy5nbC5iaW5kRnJhbWVidWZmZXIoV2ViR0xSZW5kZXJpbmdDb250ZXh0LkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgdGhpcy5nbC5iaW5kUmVuZGVyYnVmZmVyKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5SRU5ERVJCVUZGRVIsIG51bGwpO1xuICAgICAgICAvLyB0aGlzLmdsLnZpZXdwb3J0KHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pO1xuICAgICAgICAvLyB0aGlzLmdsLnZpZXdwb3J0KDAsIDAsIDgwMCwgNjQwKTtcbiAgICAgICAgdGhpcy5nbC52aWV3cG9ydCgwLCAwLCAxMjgwLCA3MjApO1xuXG4gICAgfVxuXG4gICAgcHVibGljIFVucmVnaXN0ZXJUZXh0dXJlKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICAgICAgaWYgKHRoaXMudGV4dHVyZSAhPSBudWxsKSB7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ3JhcGhpY3MvdGV4dHVyZS9CYXNlVGV4dHVyZS50cyIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tL1JlY3RhbmdsZVwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IEJhc2VUZXh0dXJlIH0gZnJvbSBcIi4vQmFzZVRleHR1cmVcIjtcblxuZXhwb3J0IGNsYXNzIFRleHR1cmUge1xuICAgIHB1YmxpYyBiYXNlVGV4dHVyZTogQmFzZVRleHR1cmU7XG4gICAgcHVibGljIGZyYW1lOiBSZWN0YW5nbGU7XG4gICAgcHVibGljIHRyaW06IFZlY3RvcjI7XG4gICAgcHVibGljIHBpdm90OiBWZWN0b3IyO1xuICAgIHB1YmxpYyBub0ZyYW1lOiBib29sZWFuO1xuICAgIHB1YmxpYyB1dnM6IEZsb2F0MzJBcnJheTtcblxuICAgIGNvbnN0cnVjdG9yKGJhc2VUZXh0dXJlOiBCYXNlVGV4dHVyZSwgZnJhbWU6IFJlY3RhbmdsZSwgcGl2b3Q6IFZlY3RvcjIgPSBudWxsKSB7XG4gICAgICAgIHRoaXMubm9GcmFtZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKGZyYW1lID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubm9GcmFtZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyaW0gPSBuZXcgVmVjdG9yMigpO1xuICAgICAgICB0aGlzLnBpdm90ID0gcGl2b3QgPT0gbnVsbCA/IG5ldyBWZWN0b3IyKCkgOiBwaXZvdDtcbiAgICAgICAgdGhpcy51dnMgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVVWUygpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVVVlMoKSB7XG4gICAgICAgIHZhciB0dyA9IHRoaXMuYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgIHZhciB0aCA9IHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMudXZzWzBdID0gdGhpcy5mcmFtZS54IC8gdHc7XG4gICAgICAgIHRoaXMudXZzWzFdID0gdGhpcy5mcmFtZS55IC8gdGg7XG5cbiAgICAgICAgdGhpcy51dnNbMl0gPSAodGhpcy5mcmFtZS54ICsgdGhpcy5mcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgdGhpcy51dnNbM10gPSB0aGlzLmZyYW1lLnkgLyB0aDtcblxuICAgICAgICB0aGlzLnV2c1s0XSA9ICh0aGlzLmZyYW1lLnggKyB0aGlzLmZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgICB0aGlzLnV2c1s1XSA9ICh0aGlzLmZyYW1lLnkgKyB0aGlzLmZyYW1lLmhlaWdodCkgLyB0aDtcblxuICAgICAgICB0aGlzLnV2c1s2XSA9IHRoaXMuZnJhbWUueCAvIHR3O1xuICAgICAgICB0aGlzLnV2c1s3XSA9ICh0aGlzLmZyYW1lLnkgKyB0aGlzLmZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ3JhcGhpY3MvdGV4dHVyZS9UZXh0dXJlLnRzIiwiaW1wb3J0IHsgRGlzcGxheU9iamVjdENvbnRhaW5lciB9IGZyb20gXCIuL0Rpc3BsYXlPYmplY3RDb250YWluZXJcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vLi4vZ2VvbS9WZWN0b3IyXCI7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSBcIi4uL3RleHR1cmUvVGV4dHVyZVwiO1xuXG5leHBvcnQgY2xhc3MgU3ByaXRlIGV4dGVuZHMgRGlzcGxheU9iamVjdENvbnRhaW5lciB7XG4gICBcbiAgICBwdWJsaWMgYW5jaG9yOiBWZWN0b3IyO1xuICAgIHB1YmxpYyB0ZXh0dXJlOiBUZXh0dXJlO1xuICAgIHB1YmxpYyBibGVuZE1vZGU6IG51bWJlcjtcblxuICAgIHB1YmxpYyB0cmFuc2Zvcm1lZFZlcnRzOiBGbG9hdDMyQXJyYXk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hbmNob3IgPSBuZXcgVmVjdG9yMigpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVkVmVydHMgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjYWxjRXh0ZW50cygpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy50ZXh0dXJlLmZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy50ZXh0dXJlLmZyYW1lLmhlaWdodDtcblxuICAgICAgICB2YXIgYVggPSB0aGlzLmFuY2hvci54O1xuICAgICAgICB2YXIgYVkgPSB0aGlzLmFuY2hvci55O1xuICAgICAgICB2YXIgdzAgPSB3aWR0aCAqICgxIC0gYVgpO1xuICAgICAgICB2YXIgdzEgPSB3aWR0aCAqIC1hWDtcblxuICAgICAgICB2YXIgaDAgPSBoZWlnaHQgKiAoMSAtIGFZKTtcbiAgICAgICAgdmFyIGgxID0gaGVpZ2h0ICogLWFZO1xuXG4gICAgICAgIHZhciBhID0gdGhpcy53b3JsZFRyYW5zZm9ybVswXTtcbiAgICAgICAgdmFyIGIgPSB0aGlzLndvcmxkVHJhbnNmb3JtWzNdO1xuICAgICAgICB2YXIgYyA9IHRoaXMud29ybGRUcmFuc2Zvcm1bMV07XG4gICAgICAgIHZhciBkID0gdGhpcy53b3JsZFRyYW5zZm9ybVs0XTtcbiAgICAgICAgdmFyIHR4ID0gdGhpcy53b3JsZFRyYW5zZm9ybVsyXTtcbiAgICAgICAgdmFyIHR5ID0gdGhpcy53b3JsZFRyYW5zZm9ybVs1XTtcblxuICAgICAgICB0aGlzLnRyYW5zZm9ybWVkVmVydHNbMF0gPSBhICogdzEgKyBjICogaDEgKyB0eDtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1lZFZlcnRzWzFdID0gZCAqIGgxICsgYiAqIHcxICsgdHk7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm1lZFZlcnRzWzJdID0gYSAqIHcwICsgYyAqIGgxICsgdHg7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtZWRWZXJ0c1szXSA9IGQgKiBoMSArIGIgKiB3MCArIHR5O1xuXG4gICAgICAgIHRoaXMudHJhbnNmb3JtZWRWZXJ0c1s0XSA9IGEgKiB3MCArIGMgKiBoMCArIHR4O1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVkVmVydHNbNV0gPSBkICogaDAgKyBiICogdzAgKyB0eTtcblxuICAgICAgICB0aGlzLnRyYW5zZm9ybWVkVmVydHNbNl0gPSBhICogdzEgKyBjICogaDAgKyB0eDtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1lZFZlcnRzWzddID0gZCAqIGgwICsgYiAqIHcxICsgdHk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYWFiYi5hZGRQb2ludCh0aGlzLnRyYW5zZm9ybWVkVmVydHNbaSAqIDJdLCB0aGlzLnRyYW5zZm9ybWVkVmVydHNbaSAqIDIgKyAxXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ3JhcGhpY3MvZGlzcGxheWxpc3QvU3ByaXRlLnRzIiwiZXhwb3J0IGNsYXNzIFR5cGVkQXJyYXkyRCB7XG4gICAgcHVibGljIHc6IG51bWJlcjtcbiAgICBwdWJsaWMgaDogbnVtYmVyO1xuXG4gICAgcHVibGljIGJ1ZmZlcjogQXJyYXlCdWZmZXI7XG4gICAgcHVibGljIGRhdGEzMjogVWludDMyQXJyYXk7XG4gICAgcHVibGljIGRhdGE4OiBVaW50OEFycmF5O1xuXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGJ1ZmZlcjogQXJyYXlCdWZmZXIgPSBudWxsKSB7XG4gICAgICAgIHRoaXMudyA9IHdpZHRoO1xuICAgICAgICB0aGlzLmggPSBoZWlnaHQ7XG5cbiAgICAgICAgaWYgKGJ1ZmZlciA9PSBudWxsKSB0aGlzLmJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLncgKiB0aGlzLmggKiA0KTtcbiAgICAgICAgZWxzZSB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5kYXRhMzIgPSBuZXcgVWludDMyQXJyYXkodGhpcy5idWZmZXIpO1xuICAgICAgICB0aGlzLmRhdGE4ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIpO1xuICAgIH1cblxuICAgIGdldCh4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEzMlt5ICogdGhpcy53ICsgeF07XG4gICAgfVxuXG4gICAgc2V0KHg6IG51bWJlciwgeTogbnVtYmVyLCB2OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5kYXRhMzJbeSAqIHRoaXMudyArIHhdID0gdjtcbiAgICB9XG5cbiAgICAvLyBnZXRJbmRleCh4Om51bWJlciwgeTpudW1iZXIpOm51bWJlciB7XG4gICAgLy8gICAgIHJldHVybiB5ICogdyArIHg7XG4gICAgLy8gfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2RzL1R5cGVkQXJyYXkyRC50cyIsImltcG9ydCB7IENvbnRhY3QgfSBmcm9tIFwiLi9Db250YWN0XCI7XG5pbXBvcnQgeyBCRlByb3h5IH0gZnJvbSBcIi4vQkZQcm94eVwiO1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4vRmlsdGVyXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgQm9keSB9IGZyb20gXCIuLi9Cb2R5XCI7XG5pbXBvcnQgeyBSYXkgfSBmcm9tIFwiLi9SYXlcIjtcbmltcG9ydCB7IFNlZ21lbnQgfSBmcm9tIFwiLi4vLi4vZ2VvbS9TZWdtZW50XCI7XG5cbmNvbnN0IGNvbnRhY3Q6IENvbnRhY3QgPSBuZXcgQ29udGFjdCgpO1xuXG5jb25zdCBlcHNpbG9uOiBudW1iZXIgPSAxZS04O1xuXG5sZXQgY29sbGlkZUNvdW50OiBudW1iZXIgPSAwO1xuXG5leHBvcnQgY29uc3QgQ29sbGlkZSA9IGZ1bmN0aW9uKHByb3h5QTogQkZQcm94eSwgcHJveHlCOiBCRlByb3h5KTogYm9vbGVhbiB7XG4gICAgY29sbGlkZUNvdW50Kys7XG4gICAgLy9FeGl0IG9uIHN0YXRpYyB2cyBzdGF0aWNzLCB0aGV5IHNob3VsZCBuZXZlciBiZSBzZW50IGJ1dCB5b3UgbmV2ZXIga25vd1xuICAgIC8vU2Vuc29ycyBkb250IHRyaWdnZXIgb3RoZXIgc2Vuc29yc1xuICAgIGlmICgocHJveHlBLmlzU3RhdGljICYmIHByb3h5Qi5pc1N0YXRpYykgfHwgKHByb3h5QS5pc1NlbnNvciAmJiBwcm94eUIuaXNTZW5zb3IpKSByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAoIXByb3h5QS5pc0FjdGl2ZSB8fCAhcHJveHlCLmlzQWN0aXZlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAvL0RvIGZpbHRlcmluZ1xuICAgIGlmICghRmlsdGVyLkNIRUNLKHByb3h5QS5maWx0ZXIsIHByb3h5Qi5maWx0ZXIpKSByZXR1cm4gZmFsc2U7XG5cbiAgICB2YXIgY29sbGlkZWQgPSBmYWxzZTtcblxuICAgIGlmIChwcm94eUEuaXNTZW5zb3IgfHwgcHJveHlCLmlzU2Vuc29yKSB7XG4gICAgICAgIC8vT25lIGlzIGEgc2Vuc29yIHNvIGp1c3QgY2hlY2sgZm9yIG92ZXJsYXBcbiAgICAgICAgY29sbGlkZWQgPSBTdGF0aWNBQUJCdnNTdGF0aWNBQUJCKFxuICAgICAgICAgICAgcHJveHlBLmFhYmIucG9zaXRpb24sXG4gICAgICAgICAgICBwcm94eUEuYWFiYi5leHRlbnRzLFxuICAgICAgICAgICAgcHJveHlCLmFhYmIucG9zaXRpb24sXG4gICAgICAgICAgICBwcm94eUIuYWFiYi5leHRlbnRzLFxuICAgICAgICAgICAgY29udGFjdCxcbiAgICAgICAgKTtcblxuICAgICAgICAvL1RPRE8gc2hvdWxkIHdlIG1ha2UgYSBzcGVjaWFsIGNhc2UgZm9yIGJ1bGxldHM/XG4gICAgfSBlbHNlIGlmICghcHJveHlBLmlzU3RhdGljICYmICFwcm94eUIuaXNTdGF0aWMpIHtcbiAgICAgICAgLy9Cb3RoIGFyZSBkeW5hbWljLCB3aGljaCBtZWFucyBib3RoIGhhdmUgYm9kaWVzXG4gICAgICAgIGlmIChwcm94eUEuYm9keS5pc0J1bGxldCAmJiBwcm94eUIuYm9keS5pc0J1bGxldCkge1xuICAgICAgICAgICAgLy9Cb3RoIGJ1bGxldHM/IGZvciBub3cgbm90aGluZ1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHByb3h5QS5ib2R5LmlzQnVsbGV0KSB7XG4gICAgICAgICAgICAvL0p1c3QgQSBpcyBhIGJ1bGxldFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFN0YXRpY0FBQkJ2c1N3ZWVwdEFBQkIoXG4gICAgICAgICAgICAgICAgICAgIHByb3h5Qi5hYWJiLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBwcm94eUIuYWFiYi5leHRlbnRzLFxuICAgICAgICAgICAgICAgICAgICBwcm94eUEuYWFiYi5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgcHJveHlBLmFhYmIuZXh0ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgcHJveHlBLmJvZHkuZGVsdGEsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3QsXG4gICAgICAgICAgICAgICAgKSA9PSB0cnVlXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBwcm94eUEuYm9keS5yZXNwb25kQnVsbGV0Q29sbGlzaW9uKGNvbnRhY3QpO1xuICAgICAgICAgICAgICAgIGNvbGxpZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwcm94eUIuYm9keS5pc0J1bGxldCkge1xuICAgICAgICAgICAgLy9KdXN0IEIgaXMgYSBidWxsZXRcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBTdGF0aWNBQUJCdnNTd2VlcHRBQUJCKFxuICAgICAgICAgICAgICAgICAgICBwcm94eUEuYWFiYi5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgcHJveHlBLmFhYmIuZXh0ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgcHJveHlCLmFhYmIucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHByb3h5Qi5hYWJiLmV4dGVudHMsXG4gICAgICAgICAgICAgICAgICAgIHByb3h5Qi5ib2R5LmRlbHRhLFxuICAgICAgICAgICAgICAgICAgICBjb250YWN0LFxuICAgICAgICAgICAgICAgICkgPT0gdHJ1ZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcHJveHlCLmJvZHkucmVzcG9uZEJ1bGxldENvbGxpc2lvbihjb250YWN0KTtcbiAgICAgICAgICAgICAgICBjb2xsaWRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL1JlZ3VsYXIgZHluYW1pYzw+ZHluYW1pY1xuICAgICAgICAgICAgY29sbGlkZWQgPSBTdGF0aWNBQUJCdnNTdGF0aWNBQUJCKFxuICAgICAgICAgICAgICAgIHByb3h5QS5hYWJiLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHByb3h5QS5hYWJiLmV4dGVudHMsXG4gICAgICAgICAgICAgICAgcHJveHlCLmFhYmIucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgcHJveHlCLmFhYmIuZXh0ZW50cyxcbiAgICAgICAgICAgICAgICBjb250YWN0LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vV2VyZSBqdXN0IGxlZnQgd2l0aCBzdGF0aWM8PmR5bmFtaWMgY29sbGlzaW9uc1xuICAgICAgICAvL09yZGVyIHRoZW1cbiAgICAgICAgdmFyIHN0YXRpY1Byb3h5LCBkeW5hbWljUHJveHk7XG4gICAgICAgIGlmIChwcm94eUEuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgIHN0YXRpY1Byb3h5ID0gcHJveHlBO1xuICAgICAgICAgICAgZHluYW1pY1Byb3h5ID0gcHJveHlCO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGljUHJveHkgPSBwcm94eUI7XG4gICAgICAgICAgICBkeW5hbWljUHJveHkgPSBwcm94eUE7XG4gICAgICAgIH1cbiAgICAgICAgLy9UZXN0XG4gICAgICAgIGlmIChkeW5hbWljUHJveHkuYm9keS5pc0J1bGxldCkge1xuICAgICAgICAgICAgY29sbGlkZWQgPSBCdWxsZXRBQUJCKGR5bmFtaWNQcm94eSwgc3RhdGljUHJveHkpO1xuICAgICAgICAgICAgaWYgKGNvbGxpZGVkKSB7XG4gICAgICAgICAgICAgICAgZHluYW1pY1Byb3h5LmJvZHkucmVzcG9uZEJ1bGxldENvbGxpc2lvbihjb250YWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEFBQkJ2c1N0YXRpY1NvbGlkQUFCQihcbiAgICAgICAgICAgICAgICBkeW5hbWljUHJveHkuYWFiYi5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICBkeW5hbWljUHJveHkuYWFiYi5leHRlbnRzLFxuICAgICAgICAgICAgICAgIHN0YXRpY1Byb3h5LmFhYmIucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgc3RhdGljUHJveHkuYWFiYi5leHRlbnRzLFxuICAgICAgICAgICAgICAgIHN0YXRpY1Byb3h5LnJlc3BvbnNlQmlhcyxcbiAgICAgICAgICAgICAgICBjb250YWN0LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIC8vV2UgaGF2ZSB0byB0aGUgcmVzcG9uc2UgcHJvY2VzcyBhbmQgZ2V0IHRoZSByZXN1bHRcbiAgICAgICAgICAgIGNvbGxpZGVkID0gZHluYW1pY1Byb3h5LmJvZHkucmVzcG9uZFN0YXRpY0NvbGxpc2lvbihjb250YWN0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2xsaWRlZCA9PSB0cnVlKSB7XG4gICAgICAgIHByb3h5QS5jb2xsaWRlKHByb3h5QiwgY29udGFjdCk7XG4gICAgICAgIHByb3h5Qi5jb2xsaWRlKHByb3h5QSwgY29udGFjdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbGxpZGVkO1xufTtcblxuZXhwb3J0IGNvbnN0IEJ1bGxldEFBQkIgPSBmdW5jdGlvbihzZWdtZW50UHJveHk6IEJGUHJveHksIHN0YXRpY1Byb3h5OiBCRlByb3h5KTogYm9vbGVhbiB7XG4gICAgLy8gcmV0dXJuIFN0YXRpY1NlZ21lbnR2c1N0YXRpY0FBQkIoc3RhdGljUHJveHkuYWFiYi5wb3NpdGlvbixzdGF0aWNQcm94eS5hYWJiLmV4dGVudHMsc2VnbWVudFByb3h5LmJvZHkucG9zaXRpb24sc2VnbWVudFByb3h5LmJvZHkuZGVsdGEsMCwwLGNvbnRhY3QpO1xuICAgIHJldHVybiBTdGF0aWNBQUJCdnNTd2VlcHRBQUJCKFxuICAgICAgICBzdGF0aWNQcm94eS5hYWJiLnBvc2l0aW9uLFxuICAgICAgICBzdGF0aWNQcm94eS5hYWJiLmV4dGVudHMsXG4gICAgICAgIHNlZ21lbnRQcm94eS5hYWJiLnBvc2l0aW9uLFxuICAgICAgICBzZWdtZW50UHJveHkuYWFiYi5leHRlbnRzLFxuICAgICAgICBzZWdtZW50UHJveHkuYm9keS5kZWx0YSxcbiAgICAgICAgY29udGFjdCxcbiAgICApO1xufTtcblxuZXhwb3J0IGNvbnN0IFJheUFBQkIgPSBmdW5jdGlvbihyYXk6IFJheSwgcHJveHk6IEJGUHJveHkpOiBib29sZWFuIHtcbiAgICBpZiAoU3RhdGljU2VnbWVudHZzU3RhdGljQUFCQihwcm94eS5hYWJiLnBvc2l0aW9uLCBwcm94eS5hYWJiLmV4dGVudHMsIHJheS5vcmlnaW4sIHJheS5kZWx0YSwgMCwgMCwgY29udGFjdCkpIHtcbiAgICAgICAgcmF5LnJlcG9ydChjb250YWN0LmRlbHRhLngsIGNvbnRhY3QuZGVsdGEueSwgY29udGFjdC5ub3JtYWwueCwgY29udGFjdC5ub3JtYWwueSwgcHJveHkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0IGNvbnN0IFNwcmluZyA9IGZ1bmN0aW9uKGJvZHlBOiBCb2R5LCBib2R5QjogQm9keSwgbGVuZ3RoOiBudW1iZXIsIGs6IG51bWJlcikge1xuICAgIHZhciBkeCA9IGJvZHlBLnBvc2l0aW9uLnggLSBib2R5Qi5wb3NpdGlvbi54O1xuICAgIHZhciBkeSA9IGJvZHlBLnBvc2l0aW9uLnkgLSBib2R5Qi5wb3NpdGlvbi55O1xuICAgIC8vIEJ1dCwgd2UgbmVlZCB0byBhY2NvdW50IGZvciAncmVzdCBsZW5ndGgnIGJlaW5nIGBsYCBub3QgMFxuICAgIC8vIE5vcm1hbGl6ZSBkeCBhbmQgZHkgdG8gbGVuZ3RoIDE7IHB1cmVseSBkaXJlY3Rpb25hbC4gYF9uYCBtZWFucyAnbm9ybWFsaXplZCcgaGVyZVxuICAgIHZhciBkaXN0ID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTsgLy8rMC4wMDAwMDE7XG4gICAgaWYgKGRpc3QgPCBsZW5ndGgpIHJldHVybjtcbiAgICB2YXIgZHhfbiA9IGR4IC8gZGlzdDtcbiAgICB2YXIgZHlfbiA9IGR5IC8gZGlzdDtcblxuICAgIHZhciB0cnVlX29mZnNldCA9IGRpc3QgLSBsZW5ndGg7XG4gICAgZHhfbiAqPSB0cnVlX29mZnNldDtcbiAgICBkeV9uICo9IHRydWVfb2Zmc2V0O1xuICAgIHZhciBmeCA9IGsgKiBkeF9uO1xuICAgIHZhciBmeSA9IGsgKiBkeV9uO1xuICAgIGJvZHlBLmFkZEZvcmNlKG5ldyBWZWN0b3IyKGZ4LCBmeSkpO1xuICAgIGJvZHlCLmFkZEZvcmNlKG5ldyBWZWN0b3IyKC1meCwgLWZ5KSk7XG4gICAgLy8gYm9keUEuY29sbGlzaW9uRm9yY2UucGx1c0VxdWFscyhuZXcgVmVjdG9yMihmeCxmeSkpO1xuICAgIC8vIGJvZHlCLmNvbGxpc2lvbkZvcmNlLnBsdXNFcXVhbHMobmV3IFZlY3RvcjIoLWZ4LC1meSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IFN0YXRpY0FBQkJ2c1N0YXRpY0FBQkIgPSBmdW5jdGlvbihcbiAgICBhYWJiX3Bvc2l0aW9uX0E6IFZlY3RvcjIsXG4gICAgYWFiYl9leHRlbnRzX0E6IFZlY3RvcjIsXG4gICAgYWFiYl9wb3NpdGlvbl9COiBWZWN0b3IyLFxuICAgIGFhYmJfZXh0ZW50c19COiBWZWN0b3IyLFxuICAgIGNvbnRhY3Q6IENvbnRhY3QsXG4pOiBib29sZWFuIHtcbiAgICB2YXIgZHggPSBhYWJiX3Bvc2l0aW9uX0IueCAtIGFhYmJfcG9zaXRpb25fQS54O1xuICAgIHZhciBweCA9IGFhYmJfZXh0ZW50c19CLnggKyBhYWJiX2V4dGVudHNfQS54IC0gTWF0aC5hYnMoZHgpO1xuICAgIGlmIChweCA8PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIGR5ID0gYWFiYl9wb3NpdGlvbl9CLnkgLSBhYWJiX3Bvc2l0aW9uX0EueTtcbiAgICB2YXIgcHkgPSBhYWJiX2V4dGVudHNfQi55ICsgYWFiYl9leHRlbnRzX0EueSAtIE1hdGguYWJzKGR5KTtcbiAgICBpZiAocHkgPD0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChweCA8IHB5KSB7XG4gICAgICAgIHZhciBzeCA9IGR4IDwgMCA/IC0xIDogMTtcbiAgICAgICAgY29udGFjdC5kaXN0YW5jZSA9IGNvbnRhY3QuZGVsdGEueCA9IHB4ICogc3g7XG4gICAgICAgIGNvbnRhY3QuZGVsdGEueSA9IDA7XG4gICAgICAgIGNvbnRhY3Qubm9ybWFsLnggPSBzeDtcbiAgICAgICAgY29udGFjdC5ub3JtYWwueSA9IDA7XG4gICAgICAgIGNvbnRhY3QucG9zaXRpb24ueCA9IGFhYmJfcG9zaXRpb25fQS54ICsgYWFiYl9leHRlbnRzX0EueCAqIHN4O1xuICAgICAgICBjb250YWN0LnBvc2l0aW9uLnkgPSBhYWJiX3Bvc2l0aW9uX0IueTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgc3kgPSBkeSA8IDAgPyAtMSA6IDE7XG4gICAgICAgIGNvbnRhY3QuZGVsdGEueCA9IDA7XG4gICAgICAgIGNvbnRhY3QuZGlzdGFuY2UgPSBjb250YWN0LmRlbHRhLnkgPSBweSAqIHN5O1xuICAgICAgICBjb250YWN0Lm5vcm1hbC54ID0gMDtcbiAgICAgICAgY29udGFjdC5ub3JtYWwueSA9IHN5O1xuICAgICAgICBjb250YWN0LnBvc2l0aW9uLnggPSBhYWJiX3Bvc2l0aW9uX0IueDtcbiAgICAgICAgY29udGFjdC5wb3NpdGlvbi55ID0gYWFiYl9wb3NpdGlvbl9BLnkgKyBhYWJiX2V4dGVudHNfQS55ICogc3k7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0IGNvbnN0IElzU2VnVnNBQUJCID0gZnVuY3Rpb24oXG4gICAgc2VnbWVudDogU2VnbWVudCxcbiAgICBhYWJiX3Bvc2l0aW9uOiBWZWN0b3IyLFxuICAgIGFhYmJfZXh0ZW50czogVmVjdG9yMixcbiAgICBwYWRkaW5nWDogbnVtYmVyLFxuICAgIHBhZGRpbmdZOiBudW1iZXIsXG4pIHtcbiAgICByZXR1cm4gSXNTdGF0aWNTZWdtZW50dnNTdGF0aWNBQUJCKFxuICAgICAgICBhYWJiX3Bvc2l0aW9uLFxuICAgICAgICBhYWJiX2V4dGVudHMsXG4gICAgICAgIHNlZ21lbnQuc3RhcnQsXG4gICAgICAgIHNlZ21lbnQuc2NhbGUsXG4gICAgICAgIHNlZ21lbnQuc2lnbixcbiAgICAgICAgcGFkZGluZ1gsXG4gICAgICAgIHBhZGRpbmdZLFxuICAgICk7XG59O1xuXG5leHBvcnQgY29uc3QgSXNTdGF0aWNTZWdtZW50dnNTdGF0aWNBQUJCID0gZnVuY3Rpb24oXG4gICAgYWFiYl9wb3NpdGlvbjogVmVjdG9yMixcbiAgICBhYWJiX2V4dGVudHM6IFZlY3RvcjIsXG4gICAgc2VnbWVudF9wb3NpdGlvbjogVmVjdG9yMixcbiAgICBzY2FsZTogVmVjdG9yMixcbiAgICBzaWduOiBWZWN0b3IyLFxuICAgIHBhZGRpbmdYOiBudW1iZXIsXG4gICAgcGFkZGluZ1k6IG51bWJlcixcbik6IGJvb2xlYW4ge1xuICAgIC8vIHZhciBzY2FsZS54ID0gMS9zZWdtZW50X2RlbHRhLng7XG4gICAgLy8gdmFyIHNjYWxlLnkgPSAxL3NlZ21lbnRfZGVsdGEueTtcblxuICAgIC8vIHZhciBzaWduLnggPSBzY2FsZS54PDAgPyAtMSA6IDE7XG4gICAgLy8gdmFyIHNpZ24ueSA9IHNjYWxlLnk8MCA/IC0xIDogMTtcblxuICAgIHZhciBuZWFyVGltZVggPSAoYWFiYl9wb3NpdGlvbi54IC0gc2lnbi54ICogKGFhYmJfZXh0ZW50cy54ICsgcGFkZGluZ1gpIC0gc2VnbWVudF9wb3NpdGlvbi54KSAqIHNjYWxlLng7XG4gICAgdmFyIG5lYXJUaW1lWSA9IChhYWJiX3Bvc2l0aW9uLnkgLSBzaWduLnkgKiAoYWFiYl9leHRlbnRzLnkgKyBwYWRkaW5nWSkgLSBzZWdtZW50X3Bvc2l0aW9uLnkpICogc2NhbGUueTtcblxuICAgIHZhciBmYXJUaW1lWCA9IChhYWJiX3Bvc2l0aW9uLnggKyBzaWduLnggKiAoYWFiYl9leHRlbnRzLnggKyBwYWRkaW5nWCkgLSBzZWdtZW50X3Bvc2l0aW9uLngpICogc2NhbGUueDtcbiAgICB2YXIgZmFyVGltZVkgPSAoYWFiYl9wb3NpdGlvbi55ICsgc2lnbi55ICogKGFhYmJfZXh0ZW50cy55ICsgcGFkZGluZ1kpIC0gc2VnbWVudF9wb3NpdGlvbi55KSAqIHNjYWxlLnk7XG5cbiAgICBpZiAobmVhclRpbWVYID4gZmFyVGltZVkgfHwgbmVhclRpbWVZID4gZmFyVGltZVgpIHJldHVybiBmYWxzZTtcblxuICAgIHZhciBuZWFyVGltZSA9IE1hdGgubWF4KG5lYXJUaW1lWCwgbmVhclRpbWVZKTtcbiAgICB2YXIgZmFyVGltZSA9IE1hdGgubWluKGZhclRpbWVYLCBmYXJUaW1lWSk7XG5cbiAgICBpZiAobmVhclRpbWUgPj0gMSB8fCBmYXJUaW1lIDw9IDApIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0IGNvbnN0IFN0YXRpY1NlZ21lbnR2c1N0YXRpY0FBQkIgPSBmdW5jdGlvbihcbiAgICBhYWJiX3Bvc2l0aW9uOiBWZWN0b3IyLFxuICAgIGFhYmJfZXh0ZW50czogVmVjdG9yMixcbiAgICBzZWdtZW50X3Bvc2l0aW9uOiBWZWN0b3IyLFxuICAgIHNlZ21lbnRfZGVsdGE6IFZlY3RvcjIsXG4gICAgcGFkZGluZ1g6IG51bWJlcixcbiAgICBwYWRkaW5nWTogbnVtYmVyLFxuICAgIGNvbnRhY3Q6IENvbnRhY3QsXG4pOiBib29sZWFuIHtcbiAgICB2YXIgc2NhbGVYID0gMSAvIHNlZ21lbnRfZGVsdGEueDtcbiAgICB2YXIgc2NhbGVZID0gMSAvIHNlZ21lbnRfZGVsdGEueTtcblxuICAgIHZhciBzaWduWCA9IHNjYWxlWCA8IDAgPyAtMSA6IDE7XG4gICAgdmFyIHNpZ25ZID0gc2NhbGVZIDwgMCA/IC0xIDogMTtcblxuICAgIHZhciBuZWFyVGltZVggPSAoYWFiYl9wb3NpdGlvbi54IC0gc2lnblggKiAoYWFiYl9leHRlbnRzLnggKyBwYWRkaW5nWCkgLSBzZWdtZW50X3Bvc2l0aW9uLngpICogc2NhbGVYO1xuICAgIHZhciBuZWFyVGltZVkgPSAoYWFiYl9wb3NpdGlvbi55IC0gc2lnblkgKiAoYWFiYl9leHRlbnRzLnkgKyBwYWRkaW5nWSkgLSBzZWdtZW50X3Bvc2l0aW9uLnkpICogc2NhbGVZO1xuXG4gICAgdmFyIGZhclRpbWVYID0gKGFhYmJfcG9zaXRpb24ueCArIHNpZ25YICogKGFhYmJfZXh0ZW50cy54ICsgcGFkZGluZ1gpIC0gc2VnbWVudF9wb3NpdGlvbi54KSAqIHNjYWxlWDtcbiAgICB2YXIgZmFyVGltZVkgPSAoYWFiYl9wb3NpdGlvbi55ICsgc2lnblkgKiAoYWFiYl9leHRlbnRzLnkgKyBwYWRkaW5nWSkgLSBzZWdtZW50X3Bvc2l0aW9uLnkpICogc2NhbGVZO1xuXG4gICAgaWYgKG5lYXJUaW1lWCA+IGZhclRpbWVZIHx8IG5lYXJUaW1lWSA+IGZhclRpbWVYKSByZXR1cm4gZmFsc2U7XG5cbiAgICB2YXIgbmVhclRpbWUgPSBNYXRoLm1heChuZWFyVGltZVgsIG5lYXJUaW1lWSk7XG4gICAgdmFyIGZhclRpbWUgPSBNYXRoLm1pbihmYXJUaW1lWCwgZmFyVGltZVkpO1xuXG4gICAgaWYgKG5lYXJUaW1lID49IDEgfHwgZmFyVGltZSA8PSAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICBjb250YWN0LnRpbWUgPSBNYXRoLm1pbihNYXRoLm1heChuZWFyVGltZSwgMCksIDEpO1xuICAgIGlmIChuZWFyVGltZVggPiBuZWFyVGltZVkpIHtcbiAgICAgICAgY29udGFjdC5ub3JtYWwueCA9IC1zaWduWDtcbiAgICAgICAgY29udGFjdC5ub3JtYWwueSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29udGFjdC5ub3JtYWwueCA9IDA7XG4gICAgICAgIGNvbnRhY3Qubm9ybWFsLnkgPSAtc2lnblk7XG4gICAgfVxuXG4gICAgY29udGFjdC5kZWx0YS54ID0gY29udGFjdC50aW1lICogc2VnbWVudF9kZWx0YS54O1xuICAgIGNvbnRhY3QuZGVsdGEueSA9IGNvbnRhY3QudGltZSAqIHNlZ21lbnRfZGVsdGEueTtcblxuICAgIGNvbnRhY3QucG9zaXRpb24ueCA9IHNlZ21lbnRfcG9zaXRpb24ueCArIGNvbnRhY3QuZGVsdGEueDtcbiAgICBjb250YWN0LnBvc2l0aW9uLnkgPSBzZWdtZW50X3Bvc2l0aW9uLnkgKyBjb250YWN0LmRlbHRhLnk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBTdGF0aWNBQUJCdnNTd2VlcHRBQUJCID0gZnVuY3Rpb24oXG4gICAgYWFiYl9wb3NpdGlvbl9BOiBWZWN0b3IyLFxuICAgIGFhYmJfZXh0ZW50c19BOiBWZWN0b3IyLFxuICAgIGFhYmJfcG9zaXRpb25fQjogVmVjdG9yMixcbiAgICBhYWJiX2V4dGVudHNfQjogVmVjdG9yMixcbiAgICBhYWJiX2RlbHRhX0I6IFZlY3RvcjIsXG4gICAgY29udGFjdDogQ29udGFjdCxcbik6IGJvb2xlYW4ge1xuICAgIGlmIChhYWJiX2RlbHRhX0IueCA9PSAwICYmIGFhYmJfZGVsdGFfQi55ID09IDApIHtcbiAgICAgICAgY29udGFjdC5zd2VlcFBvc2l0aW9uLnggPSBhYWJiX3Bvc2l0aW9uX0IueDtcbiAgICAgICAgY29udGFjdC5zd2VlcFBvc2l0aW9uLnkgPSBhYWJiX3Bvc2l0aW9uX0IueTtcbiAgICAgICAgaWYgKFN0YXRpY0FBQkJ2c1N0YXRpY0FBQkIoYWFiYl9wb3NpdGlvbl9BLCBhYWJiX2V4dGVudHNfQSwgYWFiYl9wb3NpdGlvbl9CLCBhYWJiX2V4dGVudHNfQiwgY29udGFjdCkpIHtcbiAgICAgICAgICAgIGNvbnRhY3QudGltZSA9IDA7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRhY3QudGltZSA9IDE7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBTdGF0aWNTZWdtZW50dnNTdGF0aWNBQUJCKFxuICAgICAgICAgICAgICAgIGFhYmJfcG9zaXRpb25fQSxcbiAgICAgICAgICAgICAgICBhYWJiX2V4dGVudHNfQSxcbiAgICAgICAgICAgICAgICBhYWJiX3Bvc2l0aW9uX0IsXG4gICAgICAgICAgICAgICAgYWFiYl9kZWx0YV9CLFxuICAgICAgICAgICAgICAgIGFhYmJfZXh0ZW50c19CLngsXG4gICAgICAgICAgICAgICAgYWFiYl9leHRlbnRzX0IueSxcbiAgICAgICAgICAgICAgICBjb250YWN0LFxuICAgICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnRhY3QudGltZSA9IE1hdGgubWluKE1hdGgubWF4KGNvbnRhY3QudGltZSAtIGVwc2lsb24sIDApLCAxKTtcbiAgICAgICAgICAgIGNvbnRhY3Quc3dlZXBQb3NpdGlvbi54ID0gYWFiYl9wb3NpdGlvbl9CLnggKyBhYWJiX2RlbHRhX0IueCAqIGNvbnRhY3QudGltZTtcbiAgICAgICAgICAgIGNvbnRhY3Quc3dlZXBQb3NpdGlvbi55ID0gYWFiYl9wb3NpdGlvbl9CLnkgKyBhYWJiX2RlbHRhX0IueSAqIGNvbnRhY3QudGltZTtcbiAgICAgICAgICAgIC8vSW5saW5lIGV4cGFuZGVkIG5vcm1hbGl6ZSB0byBhdm9pZCBvYmplY3QgY3JlYXRpb25cbiAgICAgICAgICAgIHZhciB0ID0gTWF0aC5zcXJ0KGFhYmJfZGVsdGFfQi54ICogYWFiYl9kZWx0YV9CLnggKyBhYWJiX2RlbHRhX0IueSAqIGFhYmJfZGVsdGFfQi55KTtcbiAgICAgICAgICAgIGNvbnRhY3QucG9zaXRpb24ueCArPSBhYWJiX2RlbHRhX0IueCAvIHQgKiBhYWJiX2V4dGVudHNfQi54O1xuICAgICAgICAgICAgY29udGFjdC5wb3NpdGlvbi55ICs9IGFhYmJfZGVsdGFfQi55IC8gdCAqIGFhYmJfZXh0ZW50c19CLnk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRhY3Quc3dlZXBQb3NpdGlvbi54ID0gYWFiYl9wb3NpdGlvbl9CLnggKiBhYWJiX2RlbHRhX0IueDtcbiAgICAgICAgICAgIGNvbnRhY3Quc3dlZXBQb3NpdGlvbi55ID0gYWFiYl9wb3NpdGlvbl9CLnkgKiBhYWJiX2RlbHRhX0IueTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBBQUJCdnNTdGF0aWNTb2xpZEFBQkIgPSBmdW5jdGlvbihcbiAgICBhYWJiX3Bvc2l0aW9uX0E6IFZlY3RvcjIsXG4gICAgYWFiYl9leHRlbnRzX0E6IFZlY3RvcjIsXG4gICAgYWFiYl9wb3NpdGlvbl9COiBWZWN0b3IyLFxuICAgIGFhYmJfZXh0ZW50c19COiBWZWN0b3IyLFxuICAgIGJpYXM6IFZlY3RvcjIsXG4gICAgY29udGFjdDogQ29udGFjdCxcbik6IGJvb2xlYW4ge1xuICAgIC8vTmV3IG92ZXJsYXAgY29kZSwgaGFuZGxlIGNvcm5lcnMgYmV0dGVyXG4gICAgdmFyIGR4ID0gYWFiYl9wb3NpdGlvbl9CLnggLSBhYWJiX3Bvc2l0aW9uX0EueDtcbiAgICB2YXIgcHggPSBhYWJiX2V4dGVudHNfQi54ICsgYWFiYl9leHRlbnRzX0EueCAtIE1hdGguYWJzKGR4KTtcblxuICAgIHZhciBkeSA9IGFhYmJfcG9zaXRpb25fQi55IC0gYWFiYl9wb3NpdGlvbl9BLnk7XG4gICAgdmFyIHB5ID0gYWFiYl9leHRlbnRzX0IueSArIGFhYmJfZXh0ZW50c19BLnkgLSBNYXRoLmFicyhkeSk7XG5cbiAgICBpZiAocHggPCBweSkge1xuICAgICAgICBjb250YWN0Lm5vcm1hbC54ID0gZHggPCAwID8gMSA6IC0xO1xuICAgICAgICBjb250YWN0Lm5vcm1hbC55ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWN0Lm5vcm1hbC54ID0gMDtcbiAgICAgICAgY29udGFjdC5ub3JtYWwueSA9IGR5IDwgMCA/IDEgOiAtMTtcbiAgICB9XG5cbiAgICBjb250YWN0Lm5vcm1hbC54ICo9IGJpYXMueDtcbiAgICBjb250YWN0Lm5vcm1hbC55ICo9IGJpYXMueTtcblxuICAgIC8vIHZhciBkeCA9IGFhYmJfcG9zaXRpb25fQi54IC0gYWFiYl9wb3NpdGlvbl9BLng7XG4gICAgLy8gdmFyIGR5ID0gYWFiYl9wb3NpdGlvbl9CLnkgLSBhYWJiX3Bvc2l0aW9uX0EueTtcblxuICAgIC8vIGlmIChkeCpkeD5keSpkeSkge1xuICAgIC8vICAgICBjb250YWN0Lm5vcm1hbC54ID0gZHg+PTAgPyAtMTogMTtcbiAgICAvLyAgICAgY29udGFjdC5ub3JtYWwueSA9IDA7XG4gICAgLy8gfSBlbHNlIHtcbiAgICAvLyAgICAgY29udGFjdC5ub3JtYWwueCA9IDA7XG4gICAgLy8gICAgIGNvbnRhY3Qubm9ybWFsLnkgPSBkeT49MCA/IC0xIDogMTtcbiAgICAvLyB9XG4gICAgdmFyIHBjeCA9IGNvbnRhY3Qubm9ybWFsLnggKiAoYWFiYl9leHRlbnRzX0EueCArIGFhYmJfZXh0ZW50c19CLngpICsgYWFiYl9wb3NpdGlvbl9CLng7XG4gICAgdmFyIHBjeSA9IGNvbnRhY3Qubm9ybWFsLnkgKiAoYWFiYl9leHRlbnRzX0EueSArIGFhYmJfZXh0ZW50c19CLnkpICsgYWFiYl9wb3NpdGlvbl9CLnk7XG5cbiAgICB2YXIgcGR4ID0gYWFiYl9wb3NpdGlvbl9BLnggLSBwY3g7XG4gICAgdmFyIHBkeSA9IGFhYmJfcG9zaXRpb25fQS55IC0gcGN5O1xuXG4gICAgY29udGFjdC5kaXN0YW5jZSA9IHBkeCAqIGNvbnRhY3Qubm9ybWFsLnggKyBwZHkgKiBjb250YWN0Lm5vcm1hbC55O1xuXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG4vLyBwdWJsaWMgc3RhdGljIFN0YWlycyhhYWJiX3Bvc2l0aW9uX0E6VmVjdG9yMixhYWJiX2V4dGVudHNfQTpWZWN0b3IyLGFhYmJfcG9zaXRpb25fQjpWZWN0b3IyLGFhYmJfZXh0ZW50c19COlZlY3RvcjIsYmlhczpWZWN0b3IyLGNvbnRhY3Q6Q29udGFjdCk6bnVtYmVyIHtcblxuLy8gICAgICAvL05ldyBvdmVybGFwIGNvZGUsIGhhbmRsZSBjb3JuZXJzIGJldHRlclxuLy8gICAgICB2YXIgZHggPSBhYWJiX3Bvc2l0aW9uX0IueCAtIGFhYmJfcG9zaXRpb25fQS54O1xuLy8gICAgICB2YXIgcHggPSAoYWFiYl9leHRlbnRzX0IueCArIGFhYmJfZXh0ZW50c19BLngpIC0gTWF0aC5hYnMoZHgpO1xuXG4vLyAgICAgIHZhciBkeSA9IGFhYmJfcG9zaXRpb25fQi55IC0gYWFiYl9wb3NpdGlvbl9BLnk7XG4vLyAgICAgIHZhciBweSA9IChhYWJiX2V4dGVudHNfQi55ICsgYWFiYl9leHRlbnRzX0EueSkgLSBNYXRoLmFicyhkeSk7XG5cbi8vICAgICAgaWYgKHB4PHB5KSB7XG4vLyAgICAgICAgICBjb250YWN0Lm5vcm1hbC54ID0gZHg8MCA/IDEgOiAtMTtcbi8vICAgICAgICAgIGNvbnRhY3Qubm9ybWFsLnkgPSAwO1xuLy8gICAgICB9IGVsc2Uge1xuLy8gICAgICAgICAgY29udGFjdC5ub3JtYWwueCA9IDA7XG4vLyAgICAgICAgICBjb250YWN0Lm5vcm1hbC55ID0gZHk8MCA/IDEgOiAtMTtcbi8vICAgICAgfVxuXG4vLyAgICAgIGNvbnRhY3Qubm9ybWFsLnggPSAwO1xuLy8gICAgICBjb250YWN0Lm5vcm1hbC55ID0gLTE7XG5cbi8vICAgICAgdmFyIHBjeCA9IChjb250YWN0Lm5vcm1hbC54ICogKGFhYmJfZXh0ZW50c19BLngrYWFiYl9leHRlbnRzX0IueCkgKSArIGFhYmJfcG9zaXRpb25fQi54O1xuLy8gICAgICB2YXIgcGN5ID0gKGNvbnRhY3Qubm9ybWFsLnkgKiAoYWFiYl9leHRlbnRzX0EueSthYWJiX2V4dGVudHNfQi55KSApICsgYWFiYl9wb3NpdGlvbl9CLnk7XG5cbi8vICAgICAgdmFyIHBkeCA9IGFhYmJfcG9zaXRpb25fQS54IC0gcGN4O1xuLy8gICAgICB2YXIgcGR5ID0gYWFiYl9wb3NpdGlvbl9BLnkgLSBwY3k7XG5cbi8vICAgICAgY29udGFjdC5kaXN0YW5jZSA9IHBkeCpjb250YWN0Lm5vcm1hbC54ICsgcGR5KmNvbnRhY3Qubm9ybWFsLnk7XG5cbi8vICAgICAgaWYgKHB4PHB5KSB7XG4vLyAgICAgICAgICByZXR1cm4gZHg8MCA/IDEgOiAtMTtcbi8vICAgICAgfVxuLy8gICAgICByZXR1cm4gMDtcbi8vICB9XG5cbi8qXG4gICAgVGhpcyBpcyBzZXBlcmF0ZSB0byBhdm9pZCBvdmVyY29tcGxpY2F0aW5nIHRoZSBhYm92ZSB3aXRoIHRvbyBtdWNoIGJyYW5jaGluZ1xuICAgICovXG5leHBvcnQgY29uc3QgQUFCQnZzU3RhdGljU29saWRBQUJCRml4ZWROb3JtYWwgPSBmdW5jdGlvbihcbiAgICBhYWJiX3Bvc2l0aW9uX0E6IFZlY3RvcjIsXG4gICAgYWFiYl9leHRlbnRzX0E6IFZlY3RvcjIsXG4gICAgYWFiYl9wb3NpdGlvbl9COiBWZWN0b3IyLFxuICAgIGFhYmJfZXh0ZW50c19COiBWZWN0b3IyLFxuICAgIG5vcm1hbDogVmVjdG9yMixcbiAgICBjb250YWN0OiBDb250YWN0LFxuKTogYm9vbGVhbiB7XG4gICAgY29udGFjdC5ub3JtYWwuY29weShub3JtYWwpO1xuXG4gICAgdmFyIHBjeCA9IGNvbnRhY3Qubm9ybWFsLnggKiAoYWFiYl9leHRlbnRzX0EueCArIGFhYmJfZXh0ZW50c19CLngpICsgYWFiYl9wb3NpdGlvbl9CLng7XG4gICAgdmFyIHBjeSA9IGNvbnRhY3Qubm9ybWFsLnkgKiAoYWFiYl9leHRlbnRzX0EueSArIGFhYmJfZXh0ZW50c19CLnkpICsgYWFiYl9wb3NpdGlvbl9CLnk7XG5cbiAgICB2YXIgcGR4ID0gYWFiYl9wb3NpdGlvbl9BLnggLSBwY3g7XG4gICAgdmFyIHBkeSA9IGFhYmJfcG9zaXRpb25fQS55IC0gcGN5O1xuXG4gICAgY29udGFjdC5kaXN0YW5jZSA9IHBkeCAqIGNvbnRhY3Qubm9ybWFsLnggKyBwZHkgKiBjb250YWN0Lm5vcm1hbC55O1xuXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBBQUJCdnNTdGF0aWNTb2xpZEFBQkJTbG9wZSA9IGZ1bmN0aW9uKFxuICAgIGFhYmJfcG9zaXRpb25fQTogVmVjdG9yMixcbiAgICBhYWJiX2V4dGVudHNfQTogVmVjdG9yMixcbiAgICBhYWJiX3Bvc2l0aW9uX0I6IFZlY3RvcjIsXG4gICAgYWFiYl9leHRlbnRzX0I6IFZlY3RvcjIsXG4gICAgYmlhczogVmVjdG9yMixcbiAgICBjb250YWN0OiBDb250YWN0LFxuKTogYm9vbGVhbiB7XG4gICAgdmFyIF9zcXIgPSAwLjcwNzEwNjc4MTE4NjU1O1xuXG4gICAgLy9OZXcgb3ZlcmxhcCBjb2RlLCBoYW5kbGUgY29ybmVycyBiZXR0ZXJcbiAgICB2YXIgZHggPSBhYWJiX3Bvc2l0aW9uX0IueCAtIGFhYmJfcG9zaXRpb25fQS54O1xuICAgIHZhciBweCA9IGFhYmJfZXh0ZW50c19CLnggKyBhYWJiX2V4dGVudHNfQS54IC0gTWF0aC5hYnMoZHgpO1xuXG4gICAgdmFyIGR5ID0gYWFiYl9wb3NpdGlvbl9CLnkgLSBhYWJiX3Bvc2l0aW9uX0EueTtcbiAgICB2YXIgcHkgPSBhYWJiX2V4dGVudHNfQi55ICsgYWFiYl9leHRlbnRzX0EueSAtIE1hdGguYWJzKGR5KTtcblxuICAgIC8vIGlmIChweDxweSkge1xuICAgIC8vICAgICBjb250YWN0Lm5vcm1hbC54ID0gZHg8MCA/IDEgOiAtMTtcbiAgICAvLyAgICAgY29udGFjdC5ub3JtYWwueSA9IDA7XG4gICAgLy8gfSBlbHNlIHtcbiAgICAvLyAgICAgY29udGFjdC5ub3JtYWwueCA9IDA7XG4gICAgLy8gICAgIGNvbnRhY3Qubm9ybWFsLnkgPSBkeTwwID8gMSA6IC0xO1xuICAgIC8vIH1cblxuICAgIC8vIGNvbnRhY3Qubm9ybWFsLnggKj0gYmlhcy54O1xuICAgIC8vIGNvbnRhY3Qubm9ybWFsLnkgKj0gYmlhcy55O1xuXG4gICAgY29udGFjdC5ub3JtYWwueCA9IC1fc3FyO1xuICAgIGNvbnRhY3Qubm9ybWFsLnkgPSAtX3NxcjtcblxuICAgIC8vIHZhciBkeCA9IGFhYmJfcG9zaXRpb25fQi54IC0gYWFiYl9wb3NpdGlvbl9BLng7XG4gICAgLy8gdmFyIGR5ID0gYWFiYl9wb3NpdGlvbl9CLnkgLSBhYWJiX3Bvc2l0aW9uX0EueTtcblxuICAgIC8vIGlmIChkeCpkeD5keSpkeSkge1xuICAgIC8vICAgICBjb250YWN0Lm5vcm1hbC54ID0gZHg+PTAgPyAtMTogMTtcbiAgICAvLyAgICAgY29udGFjdC5ub3JtYWwueSA9IDA7XG4gICAgLy8gfSBlbHNlIHtcbiAgICAvLyAgICAgY29udGFjdC5ub3JtYWwueCA9IDA7XG4gICAgLy8gICAgIGNvbnRhY3Qubm9ybWFsLnkgPSBkeT49MCA/IC0xIDogMTtcbiAgICAvLyB9XG4gICAgdmFyIHBjeCA9IGNvbnRhY3Qubm9ybWFsLnggKiAoYWFiYl9leHRlbnRzX0EueCArIGFhYmJfZXh0ZW50c19CLngpICsgYWFiYl9wb3NpdGlvbl9CLng7XG4gICAgdmFyIHBjeSA9IGNvbnRhY3Qubm9ybWFsLnkgKiAoYWFiYl9leHRlbnRzX0EueSArIGFhYmJfZXh0ZW50c19CLnkpICsgYWFiYl9wb3NpdGlvbl9CLnk7XG5cbiAgICB2YXIgcGR4ID0gYWFiYl9wb3NpdGlvbl9BLnggLSBwY3ggLSA4O1xuICAgIHZhciBwZHkgPSBhYWJiX3Bvc2l0aW9uX0EueSAtIHBjeTtcblxuICAgIGNvbnRhY3QuZGlzdGFuY2UgPSBwZHggKiBjb250YWN0Lm5vcm1hbC54ICsgcGR5ICogY29udGFjdC5ub3JtYWwueTtcblxuICAgIHJldHVybiB0cnVlO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9JbnRlcnNlY3QudHMiLCJpbXBvcnQgeyBJUGFydGljbGVFbWl0dGVyIH0gZnJvbSBcIi4vSVBhcnRpY2xlRW1pdHRlclwiO1xuaW1wb3J0IHsgSVBhcnRpY2xlRW5naW5lIH0gZnJvbSBcIi4uL2VuZ2luZXMvSVBhcnRpY2xlRW5naW5lXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IFJhbmRvbUZsb2F0IH0gZnJvbSBcIi4uLy4uL3V0aWwvUmFuZG9tXCI7XG5pbXBvcnQgeyBFbmdpbmUsIEdldEM0RSB9IGZyb20gXCIuLi8uLi9lY3MvRW5naW5lXCI7XG5cbmV4cG9ydCBjbGFzcyBFeHBsb3Npb24gaW1wbGVtZW50cyBJUGFydGljbGVFbWl0dGVyIHtcbiAgICBwdWJsaWMgbWFzczogbnVtYmVyO1xuICAgIHB1YmxpYyBwb3dlcjogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IobWFzczogbnVtYmVyLCBwb3dlcjogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMubWFzcyA9IG1hc3M7XG4gICAgICAgIHRoaXMucG93ZXIgPSBwb3dlcjtcbiAgICB9XG5cbiAgICB1cGRhdGUodGltZTogbnVtYmVyLCBjNGU6IEdldEM0RSwgcG9zaXRpb246IFZlY3RvcjIsIHBhcnRpY2xlRW5naW5lOiBJUGFydGljbGVFbmdpbmUpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1hc3M7IGkrKykge1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gUmFuZG9tRmxvYXQoMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgICAgICAgdmFyIHAgPSBSYW5kb21GbG9hdCgwLCB0aGlzLnBvd2VyICogMik7XG4gICAgICAgICAgICB2YXIgdnggPSBNYXRoLmNvcyhhbmdsZSkgKiBwO1xuICAgICAgICAgICAgdmFyIHZ5ID0gTWF0aC5zaW4oYW5nbGUpICogcDtcbiAgICAgICAgICAgIHBhcnRpY2xlRW5naW5lLkVtaXRQYXJ0aWNsZShcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi54LFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnksXG4gICAgICAgICAgICAgICAgdngsXG4gICAgICAgICAgICAgICAgdnksXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgIFJhbmRvbUZsb2F0KDUwLCAyMDApLFxuICAgICAgICAgICAgICAgIDAuOTksXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIDQsXG4gICAgICAgICAgICAgICAgMjU1LFxuICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3BhcnRpY2xlL2VtaXR0ZXIvRXhwbG9zaW9uLnRzIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IENvbnRhY3QgfSBmcm9tIFwiLi9Db250YWN0XCI7XG5pbXBvcnQgeyBCRlByb3h5IH0gZnJvbSBcIi4vQkZQcm94eVwiO1xuaW1wb3J0IHsgQUFCQjIgfSBmcm9tIFwiLi4vLi4vZ2VvbS9BQUJCMlwiO1xuXG5pbnRlcmZhY2UgUmF5Q2FsbGJhY2sge1xuICAgIChwcm94eTogQkZQcm94eSk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIFJheSB7XG4gICAgcHVibGljIG9yaWdpbjogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG4gICAgcHVibGljIHRhcmdldDogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG4gICAgcHVibGljIHJhbmdlOiBudW1iZXIgPSAwO1xuXG4gICAgcHVibGljIGRlbHRhOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcbiAgICBwdWJsaWMgZGlyZWN0aW9uOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcblxuICAgIHB1YmxpYyBjb250YWN0OiBDb250YWN0ID0gbmV3IENvbnRhY3QoKTtcblxuICAgIHB1YmxpYyBoaXQ6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgY2FsbGJhY2s6IFJheUNhbGxiYWNrO1xuXG4gICAgcHVibGljIGJvdW5kczogQUFCQjIgPSBuZXcgQUFCQjIoKTtcblxuICAgIGNvbnN0cnVjdG9yKCkge31cblxuICAgIHB1YmxpYyBpbml0YWxpemUob3JpZ2luOiBWZWN0b3IyLCB0YXJnZXQ6IFZlY3RvcjIsIHJhbmdlOiBudW1iZXIsIGNhbGxiYWNrOiBSYXlDYWxsYmFjaykge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMub3JpZ2luLmNvcHkob3JpZ2luKTtcbiAgICAgICAgdGhpcy50YXJnZXQuY29weSh0YXJnZXQpO1xuXG4gICAgICAgIHRoaXMuZGVsdGEuY29weSh0YXJnZXQpO1xuICAgICAgICB0aGlzLmRlbHRhLm1pbnVzRXF1YWxzKG9yaWdpbik7XG5cbiAgICAgICAgdGhpcy5kaXJlY3Rpb24uY29weSh0aGlzLmRlbHRhKTtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24ubm9ybWFsaXplKCk7XG5cbiAgICAgICAgaWYgKHJhbmdlIDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMucmFuZ2UgPSB0aGlzLmRlbHRhLmxlbmd0aCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xuICAgICAgICAgICAgLy9zY2FsZSB0aGUgZGVsdGEgY29ycmVjdGx5IG5vd1xuICAgICAgICAgICAgdGhpcy5kZWx0YS5jb3B5KHRoaXMuZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuZGVsdGEubXVsdEVxdWFscyhyYW5nZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJvdW5kcy5hZGRQb2ludCh0aGlzLm9yaWdpbi54LCB0aGlzLm9yaWdpbi55KTtcbiAgICAgICAgdGhpcy5ib3VuZHMuYWRkUG9pbnQodGhpcy5vcmlnaW4ueCArIHRoaXMuZGVsdGEueCwgdGhpcy5vcmlnaW4ueSArIHRoaXMuZGVsdGEueSk7XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNldCgpIHtcbiAgICAgICAgdGhpcy5jb250YWN0LmRpc3RhbmNlID0gOTk5OTk5OTk5OTtcbiAgICAgICAgdGhpcy5oaXQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVwb3J0KGRpc3RYOiBudW1iZXIsIGRpc3RZOiBudW1iZXIsIG5vcm1hbFg6IG51bWJlciwgbm9ybWFsWTogbnVtYmVyLCBwcm94eTogQkZQcm94eSA9IG51bGwpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2sgIT0gbnVsbCAmJiBwcm94eSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYWxsYmFjayhwcm94eSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRpc3RTcXJkID0gZGlzdFggKiBkaXN0WCArIGRpc3RZICogZGlzdFk7XG4gICAgICAgIGlmIChkaXN0U3FyZCA8IHRoaXMuY29udGFjdC5kaXN0YW5jZSAqIHRoaXMuY29udGFjdC5kaXN0YW5jZSkge1xuICAgICAgICAgICAgdGhpcy5jb250YWN0LnBvc2l0aW9uLnNldFRvKHRoaXMub3JpZ2luLnggKyBkaXN0WCwgdGhpcy5vcmlnaW4ueSArIGRpc3RZKTtcbiAgICAgICAgICAgIHRoaXMuY29udGFjdC5ub3JtYWwuc2V0VG8obm9ybWFsWCwgbm9ybWFsWSk7XG4gICAgICAgICAgICB0aGlzLmNvbnRhY3QuZGlzdGFuY2UgPSBNYXRoLnNxcnQoZGlzdFNxcmQpO1xuICAgICAgICAgICAgdGhpcy5oaXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3BoeXNpY3MvY29sbGlzaW9uL1JheS50cyIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vZ2VvbS9WZWN0b3IyXCI7XG5cbmV4cG9ydCBjb25zdCBaRVJPX1RPTEVSQU5DRSA9IDFlLTg7XG5cbmV4cG9ydCBjb25zdCBSQURfREVHID0gMTgwIC8gTWF0aC5QSTtcblxuZXhwb3J0IGNvbnN0IERFR19SQUQgPSBNYXRoLlBJIC8gMTgwO1xuXG5leHBvcnQgY29uc3QgTE4yID0gMC42OTMxNDcxODA1NTk5NDUzO1xuXG5leHBvcnQgY29uc3QgTE4xMCA9IDIuMzAyNTg1MDkyOTk0MDQ2O1xuXG5leHBvcnQgY29uc3QgUElIQUxGID0gMS41NzA3OTYzMjY3OTQ4OTY2O1xuXG5leHBvcnQgY29uc3QgUEkgPSAzLjE0MTU5MjY1MzU4OTc5MztcblxuZXhwb3J0IGNvbnN0IFBJMiA9IDYuMjgzMTg1MzA3MTc5NTg2O1xuXG5leHBvcnQgY29uc3QgRVBTID0gMWUtNjtcblxuZXhwb3J0IGNvbnN0IFNRUlQyID0gMS40MTQyMTM1NjIzNzMwOTU7XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1JhZChkZWc6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIGRlZyAqIERFR19SQUQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0RlZyhyYWQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHJhZCAqIFJBRF9ERUc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDbGFtcCh2YWx1ZTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heCh2YWx1ZSwgbWluKSwgbWF4KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNjYWxlUmVjdGFuZ2xlV2l0aFJhdGlvKGNvbnRhaW5lclJlY3Q6IFZlY3RvcjIsIGl0ZW1SZWN0OiBWZWN0b3IyKTogbnVtYmVyIHtcbiAgICAvL3ZhciBzWCA9IGl0ZW1SZWN0LnggLyBjb250YWluZXJSZWN0Lng7XG4gICAgLy92YXIgc1kgPSBpdGVtUmVjdC55IC8gY29udGFpbmVyUmVjdC55O1xuXG4gICAgdmFyIHNYID0gY29udGFpbmVyUmVjdC54IC8gaXRlbVJlY3QueDtcbiAgICB2YXIgc1kgPSBjb250YWluZXJSZWN0LnkgLyBpdGVtUmVjdC55O1xuXG4gICAgdmFyIHJEID0gY29udGFpbmVyUmVjdC54IC8gY29udGFpbmVyUmVjdC55O1xuICAgIHZhciByUiA9IGl0ZW1SZWN0LnggLyBpdGVtUmVjdC55O1xuXG4gICAgcmV0dXJuIHJEIDwgclIgPyBzWCA6IHNZO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3V0aWwvTWF0aHMudHMiLCJleHBvcnQgY2xhc3MgTGlnaHQge1xuICAgIHB1YmxpYyByYW5nZTogbnVtYmVyO1xuICAgIHB1YmxpYyBhdHRlbnVhdGlvbjogbnVtYmVyO1xuICAgIHB1YmxpYyBpbnRlbnNpdHk6IG51bWJlcjtcbiAgICBwdWJsaWMgZmxpY2tlcjogbnVtYmVyO1xuICAgIHB1YmxpYyByZWQ6IG51bWJlcjtcbiAgICBwdWJsaWMgZ3JlZW46IG51bWJlcjtcbiAgICBwdWJsaWMgYmx1ZTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHJhbmdlOiBudW1iZXIsXG4gICAgICAgIGF0dGVudWF0aW9uOiBudW1iZXIsXG4gICAgICAgIGludGVuc2l0eTogbnVtYmVyLFxuICAgICAgICBmbGlja2VyOiBudW1iZXIsXG4gICAgICAgIHJlZDogbnVtYmVyLFxuICAgICAgICBncmVlbjogbnVtYmVyLFxuICAgICAgICBibHVlOiBudW1iZXIsXG4gICAgKSB7XG4gICAgICAgIHRoaXMucmFuZ2UgPSByYW5nZTtcbiAgICAgICAgdGhpcy5hdHRlbnVhdGlvbiA9IGF0dGVudWF0aW9uO1xuICAgICAgICB0aGlzLmludGVuc2l0eSA9IGludGVuc2l0eTtcbiAgICAgICAgdGhpcy5mbGlja2VyID0gZmxpY2tlcjtcbiAgICAgICAgdGhpcy5yZWQgPSByZWQ7XG4gICAgICAgIHRoaXMuZ3JlZW4gPSBncmVlbjtcbiAgICAgICAgdGhpcy5ibHVlID0gYmx1ZTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ3JhcGhpY3MvY29tcG9uZW50cy9MaWdodC50cyIsImltcG9ydCB7IEVuZ2luZSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9lY3MvRW5naW5lXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL3BoeXNpY3MvY29sbGlzaW9uL0ZpbHRlclwiO1xuaW1wb3J0IHsgVGVzdEZpbHRlcnMgfSBmcm9tIFwiLi4vLi4vY29uZmlnL0ZpbHRlcnNcIjtcbmltcG9ydCB7IEJvZHkgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGh5c2ljcy9Cb2R5XCI7XG5pbXBvcnQgeyBNYXRlcmlhbCB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL01hdGVyaWFsXCI7XG5pbXBvcnQgeyBFeHRlbnRzIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9FeHRlbnRzXCI7XG5pbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9ncmFwaGljcy9jb21wb25lbnRzL0dyYXBoaWNzXCI7XG5pbXBvcnQgeyBHcmFwaGljc0FuaW1hdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9ncmFwaGljcy9jb21wb25lbnRzL0dyYXBoaWNzQW5pbWF0aW9uXCI7XG5pbXBvcnQgeyBQaHlzaWNzQm9keSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL2NvbXBvbmVudHMvUGh5c2ljc0JvZHlcIjtcbmltcG9ydCB7IFBoeXNpY3NDb2xsaXNpb24gfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGh5c2ljcy9jb21wb25lbnRzL1BoeXNpY3NDb2xsaXNpb25cIjtcbmltcG9ydCB7IE1vdmVhYmxlIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9Nb3ZlYWJsZVwiO1xuaW1wb3J0IHsgQWN0aXZlIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9BY3RpdmVcIjtcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL1BsYXllclwiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL1Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBTdGVlcmluZyB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9haS9zdGVlcmluZy9jb21wb25lbnRzL1N0ZWVyaW5nXCI7XG5pbXBvcnQgeyBXYW5kZXIgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvYWkvc3RlZXJpbmcvYmVoYXZpb3JzL1dhbmRlclwiO1xuaW1wb3J0IHsgU2VlayB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9haS9zdGVlcmluZy9iZWhhdmlvcnMvU2Vla1wiO1xuaW1wb3J0IHsgU3RlZXJpbmdBZ2VudFBhcmFtZXRlcnMsIEhFQVZZX1NURUVSSU5HX1BBUkFNUyB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9haS9zdGVlcmluZy9TdGVlcmluZ0FnZW50UGFyYW1ldGVyc1wiO1xuaW1wb3J0IHsgQWdlIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9BZ2VcIjtcbmltcG9ydCB7IEhlYWx0aCB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvSGVhbHRoXCI7XG5pbXBvcnQgeyBEZXN0cm95IH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9EZXN0cm95XCI7XG5pbXBvcnQgeyBQYXJ0aWNsZUVtaXR0ZXIgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGFydGljbGUvY29tcG9uZW50cy9QYXJ0aWNsZUVtaXR0ZXJcIjtcbmltcG9ydCB7IEV4cGxvc2lvbiB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9wYXJ0aWNsZS9lbWl0dGVyL0V4cGxvc2lvblwiO1xuaW1wb3J0IHsgU2ltcGxlRlNNU3RhdGVzIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2FpL2ZzbS9TaW1wbGVGU01cIjtcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9TdGF0ZVwiO1xuaW1wb3J0IHsgVGlsZU1hcENvbGxpc2lvbiB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9icm9hZHBoYXNlL1RpbGVNYXBDb2xsaXNpb25cIjtcbmltcG9ydCB7IFdhbGxBdm9pZGFuY2UgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvYWkvc3RlZXJpbmcvYmVoYXZpb3JzL1dhbGxBdm9pZGFuY2VcIjtcblxuZXhwb3J0IGNsYXNzIEJlZUZhY3Rvcnkge1xuXG4gICAgc3RhdGljIHN0YXRlczogU2ltcGxlRlNNU3RhdGVzID0ge1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbihlbmdpbmU6IEVuZ2luZSwgZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgICAgICAgIGlmIChlbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGVudGl0eSwgRGVzdHJveSkpIHJldHVybjtcbiAgICAgICAgICAgIGVuZ2luZS5hZGRDb21wb25lbnRzVG9FbnRpdHkoZW50aXR5LCBbbmV3IERlc3Ryb3koMSldKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBzdGF0aWMgY3JlYXRlKGVuZ2luZTogRW5naW5lLCBwb3NpdGlvbjogUG9zaXRpb24pOiBFbnRpdHkge1xuICAgICAgICB2YXIgYmVlQm9keSA9IG5ldyBCb2R5KG5ldyBNYXRlcmlhbCgwLjEsIDAuMywgMCkpO1xuICAgICAgICBiZWVCb2R5LnNldE1hc3MoMC4xKTtcbiAgICAgICAgYmVlQm9keS5zZXRCb3VuY2VzKDApO1xuICAgICAgICBiZWVCb2R5Lmdsb2JhbEZvcmNlRmFjdG9yID0gMC4wO1xuICAgICAgICBiZWVCb2R5Lm1heFNjYWxhclZlbG9jaXR5ID0gMjAwO1xuXG4gICAgICAgIHZhciBiZWUgPSBlbmdpbmUuY3JlYXRlRW50aXR5KCk7XG4gICAgICAgIGVuZ2luZS5hZGRDb21wb25lbnRzVG9FbnRpdHkoYmVlLCBbXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIG5ldyBFeHRlbnRzKDMgLyAyICogMSwgMyAvIDIgKiAxKSxcbiAgICAgICAgICAgIG5ldyBHcmFwaGljcyhcImluc2VjdHNcIiksXG4gICAgICAgICAgICBuZXcgR3JhcGhpY3NBbmltYXRpb24oXCJpbnNlY3RzXCIsIFwiZmlyZWZseVwiKSxcbiAgICAgICAgICAgIG5ldyBQaHlzaWNzQm9keShiZWVCb2R5LCB0cnVlKSxcbiAgICAgICAgICAgIG5ldyBNb3ZlYWJsZSgpLFxuICAgICAgICAgICAgbmV3IFBoeXNpY3NDb2xsaXNpb24oZmFsc2UsIG51bGwsIFtdKSxcbiAgICAgICAgICAgIG5ldyBTdGVlcmluZyhcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBXYW5kZXIoODAsIDQwLCAxNDMuNSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBTZWVrKHBvc2l0aW9uLmNvb3Jkcy5jbG9uZSgpLCAzMiksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBXYWxsQXZvaWRhbmNlKDQwKVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgSEVBVllfU1RFRVJJTkdfUEFSQU1TLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIG5ldyBTdGF0ZShCZWVGYWN0b3J5LnN0YXRlcywgbnVsbCwgZmFsc2UpLFxuICAgICAgICAgICAgbmV3IEFnZSgxMDAwMCwgXCJkZXN0cm95XCIpLFxuICAgICAgICAgICAgbmV3IEhlYWx0aCgxMCwgMTAsIDAsIFwiZGVzdHJveVwiKSxcbiAgICAgICAgICAgIG5ldyBBY3RpdmUoKSxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgcmV0dXJuIGJlZTtcbiAgICB9XG4gICAgc3RhdGljIG9uRGVzdHJveShlbmdpbmU6IEVuZ2luZSwgZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgICAgaWYgKGVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBEZXN0cm95KSkgcmV0dXJuO1xuICAgICAgICBlbmdpbmUuYWRkQ29tcG9uZW50c1RvRW50aXR5KGVudGl0eSwgW25ldyBEZXN0cm95KDEpXSk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Rlc3QvZmFjdG9yaWVzL2NoYXJhY3Rlci9CZWVGYWN0b3J5LnRzIiwiaW1wb3J0IHsgVGlsZU1hcENvbGxpc2lvbiB9IGZyb20gXCIuLi8uLi9waHlzaWNzL2NvbGxpc2lvbi9icm9hZHBoYXNlL1RpbGVNYXBDb2xsaXNpb25cIjtcblxuZXhwb3J0IGNsYXNzIFN0ZWVyaW5nQWdlbnRQYXJhbWV0ZXJzIHtcbiAgICBzdGF0aWMgZGVmYXVsdF9zY2FsZTogbnVtYmVyID0gMC4yO1xuICAgIHN0YXRpYyBoZWF2eV9zY2FsZTogbnVtYmVyID0gNTtcbiAgICBzdGF0aWMgZGVmYXVsdF9tYXhBY2NlbGVyYXRpb246IG51bWJlciA9IDEwMDtcbiAgICBzdGF0aWMgZGVmYXVsdF9tYXhTdGVlcmluZ0ZvcmNlUGVyU3RlcDogbnVtYmVyID0gMTAwO1xuXG4gICAgcHVibGljIG1heEFjY2VsZXJhdGlvbjogbnVtYmVyOyAvLyA9IDEwMC81O1xuICAgIHB1YmxpYyBtYXhTdGVlcmluZ0ZvcmNlUGVyU3RlcDogbnVtYmVyOyAvLyA9IDEwMC81O1xuICAgIHB1YmxpYyBtYXA6IFRpbGVNYXBDb2xsaXNpb247XG5cbiAgICBjb25zdHJ1Y3RvcihtYXhBY2NlbGVyYXRpb246IG51bWJlciwgbWF4U3RlZXJpbmdGb3JjZVBlclN0ZXA6IG51bWJlcikge1xuICAgICAgICB0aGlzLm1heEFjY2VsZXJhdGlvbiA9IG1heEFjY2VsZXJhdGlvbjtcbiAgICAgICAgdGhpcy5tYXhTdGVlcmluZ0ZvcmNlUGVyU3RlcCA9IG1heFN0ZWVyaW5nRm9yY2VQZXJTdGVwO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU1RFRVJJTkdfUEFSQU1TOiBTdGVlcmluZ0FnZW50UGFyYW1ldGVycyA9IG5ldyBTdGVlcmluZ0FnZW50UGFyYW1ldGVycyhcbiAgICBTdGVlcmluZ0FnZW50UGFyYW1ldGVycy5kZWZhdWx0X21heEFjY2VsZXJhdGlvbiAqIFN0ZWVyaW5nQWdlbnRQYXJhbWV0ZXJzLmRlZmF1bHRfc2NhbGUsXG4gICAgU3RlZXJpbmdBZ2VudFBhcmFtZXRlcnMuZGVmYXVsdF9tYXhTdGVlcmluZ0ZvcmNlUGVyU3RlcCAqIFN0ZWVyaW5nQWdlbnRQYXJhbWV0ZXJzLmRlZmF1bHRfc2NhbGUsXG4pO1xuXG5leHBvcnQgY29uc3QgSEVBVllfU1RFRVJJTkdfUEFSQU1TOiBTdGVlcmluZ0FnZW50UGFyYW1ldGVycyA9IG5ldyBTdGVlcmluZ0FnZW50UGFyYW1ldGVycyhcbiAgICBTdGVlcmluZ0FnZW50UGFyYW1ldGVycy5kZWZhdWx0X21heEFjY2VsZXJhdGlvbiAqIFN0ZWVyaW5nQWdlbnRQYXJhbWV0ZXJzLmhlYXZ5X3NjYWxlLFxuICAgIFN0ZWVyaW5nQWdlbnRQYXJhbWV0ZXJzLmRlZmF1bHRfbWF4U3RlZXJpbmdGb3JjZVBlclN0ZXAgKiBTdGVlcmluZ0FnZW50UGFyYW1ldGVycy5oZWF2eV9zY2FsZSxcbik7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvYWkvc3RlZXJpbmcvU3RlZXJpbmdBZ2VudFBhcmFtZXRlcnMudHMiLCJpbXBvcnQgeyBCZWhhdmlvciB9IGZyb20gXCIuL0JlaGF2aW9yXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uLy4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgU3RlZXJpbmdTZXR0aW5ncyB9IGZyb20gXCIuLi9TdGVlcmluZ1NldHRpbmdzXCI7XG5pbXBvcnQgeyBTdGVlcmluZ0FnZW50UGFyYW1ldGVycyB9IGZyb20gXCIuLi9TdGVlcmluZ0FnZW50UGFyYW1ldGVyc1wiO1xuaW1wb3J0IHsgQm9keSB9IGZyb20gXCIuLi8uLi8uLi9waHlzaWNzL0JvZHlcIjtcblxuZXhwb3J0IGNsYXNzIFNlZWsgZXh0ZW5kcyBCZWhhdmlvciB7XG4gICAgcHVibGljIHRhcmdldDogVmVjdG9yMjtcbiAgICBwdWJsaWMgc2Vla0Rpc3Q6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHRhcmdldDogVmVjdG9yMiwgc2Vla0Rpc3Q6IG51bWJlciA9IDApIHtcbiAgICAgICAgc3VwZXIoU3RlZXJpbmdTZXR0aW5ncy5zZWVrV2VpZ2h0LCBTdGVlcmluZ1NldHRpbmdzLnNlZWtQcmlvcml0eSk7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLnNlZWtEaXN0ID0gc2Vla0Rpc3Q7XG4gICAgfVxuXG4gICAgcHVibGljIGNhbGN1bGF0ZShhZ2VudDogQm9keSwgcGFyYW1zOiBTdGVlcmluZ0FnZW50UGFyYW1ldGVycywgcmVzdWx0OiBWZWN0b3IyKSB7XG4gICAgICAgIFNlZWsuY2FsYyhhZ2VudCwgcGFyYW1zLCByZXN1bHQsIHRoaXMudGFyZ2V0LCB0aGlzLnNlZWtEaXN0KTtcbiAgICB9XG5cbiAgICAvL0hhbmQgb3B0aW1pemVkIGFzIGNhbGxlZCBzbyBvZnRlblxuICAgIHN0YXRpYyBjYWxjKFxuICAgICAgICBhZ2VudDogQm9keSxcbiAgICAgICAgcGFyYW1zOiBTdGVlcmluZ0FnZW50UGFyYW1ldGVycyxcbiAgICAgICAgcmVzdWx0OiBWZWN0b3IyLFxuICAgICAgICB0YXJnZXQ6IFZlY3RvcjIsXG4gICAgICAgIHNlZWtEaXN0OiBudW1iZXIgPSAwLFxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgICB2YXIgZFg6IG51bWJlciA9IHRhcmdldC54IC0gYWdlbnQucG9zaXRpb24ueCArIDAuMDAwMDAxO1xuICAgICAgICB2YXIgZFk6IG51bWJlciA9IHRhcmdldC55IC0gYWdlbnQucG9zaXRpb24ueSArIDAuMDAwMDAxO1xuICAgICAgICB2YXIgZDogbnVtYmVyID0gZFggKiBkWCArIGRZICogZFk7XG5cbiAgICAgICAgaWYgKHNlZWtEaXN0ID4gMCAmJiBkIDwgc2Vla0Rpc3QgKiBzZWVrRGlzdCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHQgPSBNYXRoLnNxcnQoZCk7XG5cbiAgICAgICAgcmVzdWx0LnggPSBkWCAvIHQ7XG4gICAgICAgIHJlc3VsdC54ICo9IHBhcmFtcy5tYXhTdGVlcmluZ0ZvcmNlUGVyU3RlcDtcbiAgICAgICAgcmVzdWx0LnggLT0gYWdlbnQudmVsb2NpdHkueCAqICg2MCAvIDEwMDApO1xuXG4gICAgICAgIHJlc3VsdC55ID0gZFkgLyB0O1xuICAgICAgICByZXN1bHQueSAqPSBwYXJhbXMubWF4U3RlZXJpbmdGb3JjZVBlclN0ZXA7XG4gICAgICAgIHJlc3VsdC55IC09IGFnZW50LnZlbG9jaXR5LnkgKiAoNjAgLyAxMDAwKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvYWkvc3RlZXJpbmcvYmVoYXZpb3JzL1NlZWsudHMiLCJpbXBvcnQgeyBCZWhhdmlvciB9IGZyb20gXCIuL0JlaGF2aW9yXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uLy4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgRmVlbGVyIH0gZnJvbSBcIi4vRmVlbGVyXCI7XG5pbXBvcnQgeyBUaWxlTWFwQ29sbGlzaW9uIH0gZnJvbSBcIi4uLy4uLy4uL3BoeXNpY3MvY29sbGlzaW9uL2Jyb2FkcGhhc2UvVGlsZU1hcENvbGxpc2lvblwiO1xuaW1wb3J0IHsgU3RlZXJpbmdTZXR0aW5ncyB9IGZyb20gXCIuLi9TdGVlcmluZ1NldHRpbmdzXCI7XG5pbXBvcnQgeyBTdGVlcmluZ0FnZW50UGFyYW1ldGVycyB9IGZyb20gXCIuLi9TdGVlcmluZ0FnZW50UGFyYW1ldGVyc1wiO1xuaW1wb3J0IHsgQm9keSB9IGZyb20gXCIuLi8uLi8uLi9waHlzaWNzL0JvZHlcIjtcbmltcG9ydCB7IEFBQkIyIH0gZnJvbSBcIi4uLy4uLy4uL2dlb20vQUFCQjJcIjtcbmltcG9ydCB7IHRvUmFkIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvTWF0aHNcIjtcbmltcG9ydCB7IEFBQkIgfSBmcm9tIFwiLi4vLi4vLi4vZ2VvbS9BQUJCXCI7XG5cbmV4cG9ydCBjbGFzcyBXYWxsQXZvaWRhbmNlIGV4dGVuZHMgQmVoYXZpb3Ige1xuICAgIHB1YmxpYyBmZWVsZXJMZW5ndGg6IG51bWJlcjtcblxuICAgIGZlZWxlcnM6IEFycmF5PEZlZWxlcj47XG5cbiAgICBwdHYxOiBWZWN0b3IyO1xuICAgIHB0djI6IFZlY3RvcjI7XG5cbiAgICBsYXN0UG9zOiBWZWN0b3IyO1xuXG4gICAgcEE6IFZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xuICAgIHBCOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcblxuICAgIHRvcDogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKDAsIC0xKTtcbiAgICByaWdodDogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKDEsIDApO1xuICAgIGJvdHRvbTogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKDAsIDEpO1xuICAgIGxlZnQ6IFZlY3RvcjIgPSBuZXcgVmVjdG9yMigtMSwgMCk7XG4gICAgc2VhcmNoQUFCQjogQUFCQjIgPSBuZXcgQUFCQjIoKTtcblxuICAgIGNsb3Nlc3RGZWVsZXI6IEZlZWxlciA9IG51bGw7XG4gICAgY2xvc2VzdERpc3Q6IG51bWJlciA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcblxuICAgIGNvbnN0cnVjdG9yKCBmZWVsZXJMZW5ndGg6IG51bWJlcikge1xuICAgICAgICBzdXBlcihTdGVlcmluZ1NldHRpbmdzLndhbGxBdm9pZGFuY2VXZWlnaHQsIFN0ZWVyaW5nU2V0dGluZ3Mud2FsbEF2b2lkYW5jZVByaW9yaXR5KTtcbiAgICAgICAgdGhpcy5mZWVsZXJMZW5ndGggPSBmZWVsZXJMZW5ndGg7XG5cbiAgICAgICAgdGhpcy5wdHYxID0gbmV3IFZlY3RvcjIoKTtcbiAgICAgICAgdGhpcy5wdHYyID0gbmV3IFZlY3RvcjIoKTtcblxuICAgICAgICB0aGlzLmZlZWxlcnMgPSBuZXcgQXJyYXk8RmVlbGVyPigpO1xuICAgICAgICB0aGlzLmZlZWxlcnMucHVzaChuZXcgRmVlbGVyKDAsIGZlZWxlckxlbmd0aCkpO1xuICAgICAgICB0aGlzLmZlZWxlcnMucHVzaChuZXcgRmVlbGVyKHRvUmFkKC00MCksIGZlZWxlckxlbmd0aCAqIDAuNSkpO1xuICAgICAgICB0aGlzLmZlZWxlcnMucHVzaChuZXcgRmVlbGVyKHRvUmFkKDQwKSwgZmVlbGVyTGVuZ3RoICogMC41KSk7XG5cbiAgICAgICAgdGhpcy5sYXN0UG9zID0gbmV3IFZlY3RvcjIoKTtcbiAgICB9XG5cbiAgICBjaGVja0FBQkIoYWFiYjogQUFCQikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZmVlbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gZm9yIChmZWVsZXIgaW4gZmVlbGVycykge1xuICAgICAgICAgICAgY29uc3QgZmVlbGVyID0gdGhpcy5mZWVsZXJzW2ldO1xuICAgICAgICAgICAgLy90b3BcbiAgICAgICAgICAgIHRoaXMucEEuc2V0VG8oYWFiYi5sLCBhYWJiLnQpO1xuICAgICAgICAgICAgdGhpcy5wQi5zZXRUbyhhYWJiLnIsIGFhYmIudCk7XG4gICAgICAgICAgICBmZWVsZXIuVGVzdFNlZ21lbnQodGhpcy5wQSwgdGhpcy5wQiwgdGhpcy50b3ApO1xuICAgICAgICAgICAgLy9yaWdodFxuICAgICAgICAgICAgdGhpcy5wQS5zZXRUbyhhYWJiLnIsIGFhYmIuYik7XG4gICAgICAgICAgICBmZWVsZXIuVGVzdFNlZ21lbnQodGhpcy5wQiwgdGhpcy5wQSwgdGhpcy5yaWdodCk7XG4gICAgICAgICAgICAvL2JvdHRvbVxuICAgICAgICAgICAgdGhpcy5wQi5zZXRUbyhhYWJiLmwsIGFhYmIuYik7XG4gICAgICAgICAgICBmZWVsZXIuVGVzdFNlZ21lbnQodGhpcy5wQSwgdGhpcy5wQiwgdGhpcy5ib3R0b20pO1xuICAgICAgICAgICAgLy9sZWZ0XG4gICAgICAgICAgICB0aGlzLnBBLnNldFRvKGFhYmIubCwgYWFiYi50KTtcbiAgICAgICAgICAgIGZlZWxlci5UZXN0U2VnbWVudCh0aGlzLnBCLCB0aGlzLnBBLCB0aGlzLmxlZnQpO1xuXG4gICAgICAgICAgICBpZiAoZmVlbGVyLmRpc3RUb0Nsb3Nlc3RJUCA8IHRoaXMuY2xvc2VzdERpc3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3Nlc3REaXN0ID0gZmVlbGVyLmRpc3RUb0Nsb3Nlc3RJUDtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3Nlc3RGZWVsZXIgPSBmZWVsZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBmdW5jdGlvbiBjaGVjayhzaGFwZTpHZW9tZXRyaWNTaGFwZSwgcG9zOlZlY3RvcjIpOlZvaWQge1xuXG4gICAgLy8gXHR2YXIgdGlsZTpUaWxlID0gY2FzdCBzaGFwZTtcblxuICAgIC8vIFx0dmFyIHR2MSA6IFZlY3RvcjIgPSB0aWxlLnRyYW5zZm9ybWVkVmVydGljZXNbMF07XG4gICAgLy8gXHR2YXIgdHYyIDogVmVjdG9yMiA9IHRpbGUudHJhbnNmb3JtZWRWZXJ0aWNlc1sxXTtcblxuICAgIC8vIFx0Zm9yIChpIGluIDAuLi50aWxlLnZlcnRleENvdW50KSB7XG4gICAgLy8gXHRcdHB0djEueCA9IHR2MS54ICsgcG9zLng7XG4gICAgLy8gXHRcdHB0djEueSA9IHR2MS55ICsgcG9zLnk7XG4gICAgLy8gXHRcdHB0djIueCA9IHR2Mi54ICsgcG9zLng7XG4gICAgLy8gXHRcdHB0djIueSA9IHR2Mi55ICsgcG9zLnk7XG5cbiAgICAvLyBcdFx0Zm9yIChmZWVsZXIgaW4gZmVlbGVycykge1xuXG4gICAgLy8gXHRcdFx0Ly9pZiAoZmVlbGVyLmRvdCh0YS5uKSA+IDApXG4gICAgLy8gXHRcdFx0Ly9cdGNvbnRpbnVlO1xuXG4gICAgLy8gXHRcdFx0ZmVlbGVyLlRlc3RTZWdtZW50KHB0djEsIHB0djIsIHRpbGUudHJhbnNmb3JtZWRBeGVzW2ldLm4pO1xuXG4gICAgLy8gXHRcdH1cblxuICAgIC8vIFx0XHR0djEgPSB0djI7XG4gICAgLy8gXHRcdHR2MiA9IHRpbGUudHJhbnNmb3JtZWRWZXJ0aWNlc1soaSArIDIpICUgdGlsZS52ZXJ0ZXhDb3VudF07XG4gICAgLy8gXHR9XG4gICAgLy8gfVxuXG4gICAgY2FsY3VsYXRlKGFnZW50OiBCb2R5LCBwYXJhbXM6IFN0ZWVyaW5nQWdlbnRQYXJhbWV0ZXJzLCByZXN1bHQ6IFZlY3RvcjIpIHtcbiAgICAgICAgaWYgKHRoaXMubGFzdFBvcy5kaXN0U3FyZChhZ2VudC5wb3NpdGlvbikgPCAxKSByZXR1cm47XG4gICAgICAgIHRoaXMubGFzdFBvcy5jb3B5KGFnZW50LnBvc2l0aW9uKTtcblxuICAgICAgICB2YXIgdW5pdDogVmVjdG9yMiA9IGFnZW50LnZlbG9jaXR5LmNsb25lKCk7XG4gICAgICAgIHVuaXQubm9ybWFsaXplKCk7IC8vR2V0VmVsb2NpdHkoKS51bml0KCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmZlZWxlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGZlZWxlciA9IHRoaXMuZmVlbGVyc1tpXTtcblxuICAgICAgICAgICAgZmVlbGVyLlJlc2V0KHVuaXQsIGFnZW50LnBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2xvc2VzdEZlZWxlciA9IG51bGw7XG4gICAgICAgIHRoaXMuY2xvc2VzdERpc3QgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cbiAgICAgICAgdGhpcy5zZWFyY2hBQUJCLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuc2VhcmNoQUFCQi5hZGRQb2ludChhZ2VudC5wb3NpdGlvbi54LCBhZ2VudC5wb3NpdGlvbi55KTtcbiAgICAgICAgdGhpcy5zZWFyY2hBQUJCLmFkZFBvaW50KHRoaXMuZmVlbGVyc1swXS50aXAueCwgdGhpcy5mZWVsZXJzWzBdLnRpcC55KTtcbiAgICAgICAgdGhpcy5zZWFyY2hBQUJCLmFkZFBvaW50KHRoaXMuZmVlbGVyc1sxXS50aXAueCwgdGhpcy5mZWVsZXJzWzFdLnRpcC55KTtcbiAgICAgICAgdGhpcy5zZWFyY2hBQUJCLmFkZFBvaW50KHRoaXMuZmVlbGVyc1syXS50aXAueCwgdGhpcy5mZWVsZXJzWzJdLnRpcC55KTtcbiAgICAgICAgLy8gc2VhcmNoQUFCQi5leHBhbmQoMjApO1xuICAgICAgICBwYXJhbXMubWFwLml0ZXJhdGVDZWxscyh0aGlzLnNlYXJjaEFBQkIsIHRoaXMuY2hlY2tBQUJCKTtcblxuICAgICAgICBpZiAodGhpcy5jbG9zZXN0RmVlbGVyICE9IG51bGwpIHRoaXMuY2xvc2VzdEZlZWxlci5DYWxjdWxhdGVGb3JjZShyZXN1bHQpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9haS9zdGVlcmluZy9iZWhhdmlvcnMvV2FsbEF2b2lkYW5jZS50cyIsImV4cG9ydCBjbGFzcyBXaW5kIHtcbiAgICBwdWJsaWMgcGFydGljbGVDb3VudDogbnVtYmVyO1xuICAgIHB1YmxpYyBpbmNQZXJGcmFtZTogbnVtYmVyO1xuICAgIHB1YmxpYyBwYXJ0aWNsZVBlclVuaXRQZXJGcmFtZTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IocGFydGljbGVQZXJVbml0UGVyRnJhbWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLnBhcnRpY2xlUGVyVW5pdFBlckZyYW1lID0gcGFydGljbGVQZXJVbml0UGVyRnJhbWU7XG4gICAgICAgIHRoaXMucGFydGljbGVDb3VudCA9IDAuMDtcbiAgICAgICAgdGhpcy5pbmNQZXJGcmFtZSA9IDAuMDtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL1dpbmQudHMiLCJpbXBvcnQgeyBFbnRpdHlHcm91cCB9IGZyb20gXCIuLi8uLi9nbGF6ZS91dGlsL0VudGl0eUdyb3VwXCI7XG5cbmV4cG9ydCBjbGFzcyBCZWVIaXZlIHtcbiAgICBwdWJsaWMgZ3JvdXA6IEVudGl0eUdyb3VwO1xuXG4gICAgY29uc3RydWN0b3IobWF4QmVlczogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZ3JvdXAgPSBuZXcgRW50aXR5R3JvdXAobWF4QmVlcyk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Rlc3QvY29tcG9uZW50cy9CZWVIaXZlLnRzIiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IFNpZ25hbCB9IGZyb20gXCIuLi9zaWduYWxzL1NpZ25hbFwiO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tIFwiLi4vY29yZS9jb21wb25lbnRzL1N0YXRlXCI7XG5pbXBvcnQgeyBFbnRpdHlTdGF0ZSB9IGZyb20gXCIuLi9jb3JlL3N0YXRlL0VudGl0eVN0YXRlc1wiO1xuXG4vLyBlbnVtIEdyb3VwRXZlbnQge1xuLy8gXHRNZW1iZXJBZGRlZDtcbi8vIFx0TWVtYmVyUmVtb3ZlZDtcbi8vIH1cblxuZXhwb3J0IGNsYXNzIEVudGl0eUdyb3VwIHtcbiAgICAvLyBwdWJsaWMgdmFyIGdyb3VwTWFuYWdlcjpFbnRpdHk7XG4gICAgcHVibGljIG1lbWJlcnM6IFNldDxFbnRpdHk+O1xuICAgIHB1YmxpYyBtYXhNZW1iZXJzOiBudW1iZXI7XG4gICAgcHVibGljIG1lc3NhZ2VzOiBTaWduYWw7XG5cbiAgICBjb25zdHJ1Y3RvcihtYXhNZW1iZXJzOiBudW1iZXIpIHtcbiAgICAgICAgLy8gdGhpcy5ncm91cE1hbmFnZXIgPSBncm91cE1hbmFnZXI7XG4gICAgICAgIHRoaXMubWF4TWVtYmVycyA9IG1heE1lbWJlcnM7XG4gICAgICAgIHRoaXMubWVtYmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlcyA9IG5ldyBTaWduYWwoKTtcbiAgICAgICAgdGhpcy5vbk1lbWJlck1lc3NhZ2UgPSB0aGlzLm9uTWVtYmVyTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRNZW1iZXIoZW50aXR5OkVudGl0eSwgc3RhdGU6U3RhdGUpIHtcbiAgICBcdGlmICghdGhpcy5oYXNDYXBhY2l0eSgpKVxuICAgIFx0XHRyZXR1cm47XG4gICAgICAgIHRoaXMubWVtYmVycy5hZGQoZW50aXR5KTtcbiAgICAgICAgc3RhdGUubWVzc2FnZXMuYWRkKHRoaXMub25NZW1iZXJNZXNzYWdlKTtcbiAgICBcdC8vIGVudGl0eS5tZXNzYWdlcy5hZGQodGhpcy5vbk1lbWJlck1lc3NhZ2UpO1xuICAgIFx0Ly8gdGhpcy5tZXNzYWdlcy5kaXNwYXRjaChHcm91cEV2ZW50Lk1lbWJlckFkZGVkLGVudGl0eSk7XG4gICAgfVxuXG4gICAgcHVibGljICByZW1vdmVNZW1iZXIoZW50aXR5OkVudGl0eSkge1xuICAgICAgICB0aGlzLm1lbWJlcnMuZGVsZXRlKGVudGl0eSk7XG4gICAgfVxuXG4gICAgcHVibGljICBvbk1lbWJlck1lc3NhZ2UoZW50aXR5OkVudGl0eSwgc3RhdGU6c3RyaW5nKSB7XG4gICAgXHRzd2l0Y2ggKHN0YXRlKSB7XG4gICAgXHRcdGNhc2UgRW50aXR5U3RhdGUuRGVzdHJveTpcbiAgICBcdFx0XHR0aGlzLnJlbW92ZU1lbWJlcihlbnRpdHkpO1xuICAgIFx0fVxuICAgIH1cblxuICAgIHB1YmxpYyAgaGFzQ2FwYWNpdHkoKTpib29sZWFuIHtcbiAgICBcdHJldHVybiB0aGlzLm1lbWJlcnMuc2l6ZTx0aGlzLm1heE1lbWJlcnM7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3V0aWwvRW50aXR5R3JvdXAudHMiLCJleHBvcnQgZW51bSBFbnRpdHlTdGF0ZSB7XG4gICAgRGVzdHJveSA9IFwiZGVzdHJveVwiXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2NvcmUvc3RhdGUvRW50aXR5U3RhdGVzLnRzIiwiaW1wb3J0IHsgRW50aXR5R3JvdXAgfSBmcm9tIFwiLi4vLi4vZ2xhemUvdXRpbC9FbnRpdHlHcm91cFwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2dsYXplL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IEludGVydmFsRGVsYXkgfSBmcm9tIFwiLi4vLi4vZ2xhemUvdXRpbC9JbnRlcnZhbERlbGF5XCI7XG5cbmV4cG9ydCBjbGFzcyBCaXJkTmVzdCB7XG4gICAgcHVibGljIGdyb3VwOiBFbnRpdHlHcm91cDtcblxuICAgIHB1YmxpYyB0cmlnZ2VyOiBFbnRpdHk7XG4gICAgcHVibGljIHRyaWdnZXJlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHVibGljIHJhZGl1czogbnVtYmVyID0gMTAwO1xuXG4gICAgcHVibGljIGludGVydmFsRGVsYXk6IEludGVydmFsRGVsYXk7XG5cbiAgICBjb25zdHJ1Y3RvcihtYXhCaXJkczogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZ3JvdXAgPSBuZXcgRW50aXR5R3JvdXAobWF4QmlyZHMpO1xuICAgICAgICB0aGlzLmludGVydmFsRGVsYXkgPSBuZXcgSW50ZXJ2YWxEZWxheSgxMDAwKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdGVzdC9jb21wb25lbnRzL0JpcmROZXN0LnRzIiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2dsYXplL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IEludGVydmFsRGVsYXkgfSBmcm9tIFwiLi4vLi4vZ2xhemUvdXRpbC9JbnRlcnZhbERlbGF5XCI7XG5pbXBvcnQgeyBMaWdodFN0YWNrU3RhdGVNYWNoaW5lIH0gZnJvbSBcIi4uLy4uL2dsYXplL2FpL2ZzbS9TdGFja0ZTTVwiO1xuXG5leHBvcnQgY2xhc3MgQmlyZCB7XG4gICAgcHVibGljIG5lc3Q6IEVudGl0eTtcblxuICAgIHB1YmxpYyAgYWk6TGlnaHRTdGFja1N0YXRlTWFjaGluZTxFbnRpdHk+O1xuICAgIC8vIHB1YmxpYyAgYWkyOkJlaGF2aW9yO1xuICAgIC8vIHB1YmxpYyAgY3R4OkJlaGF2aW9yQ29udGV4dDtcblxuICAgIHB1YmxpYyBkZWxheTogSW50ZXJ2YWxEZWxheTtcbiAgICBwdWJsaWMgY2hhc2VDaGVjazogSW50ZXJ2YWxEZWxheTtcblxuICAgIHB1YmxpYyB0YXJnZXQ6IEVudGl0eTtcblxuICAgIGNvbnN0cnVjdG9yKG5lc3Q6IEVudGl0eSkge1xuICAgICAgICB0aGlzLm5lc3QgPSBuZXN0O1xuICAgICAgICB0aGlzLmFpID0gbmV3IExpZ2h0U3RhY2tTdGF0ZU1hY2hpbmU8RW50aXR5PigpO1xuICAgICAgICB0aGlzLmRlbGF5ID0gbmV3IEludGVydmFsRGVsYXkoMTAwMCk7XG4gICAgICAgIHRoaXMuY2hhc2VDaGVjayA9IG5ldyBJbnRlcnZhbERlbGF5KDUwMCk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Rlc3QvY29tcG9uZW50cy9CaXJkLnRzIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi8uLi9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IEJvZHkgfSBmcm9tIFwiLi4vLi4vLi4vcGh5c2ljcy9Cb2R5XCI7XG5pbXBvcnQgeyBTdGVlcmluZ0FnZW50UGFyYW1ldGVycyB9IGZyb20gXCIuLi9TdGVlcmluZ0FnZW50UGFyYW1ldGVyc1wiO1xuaW1wb3J0IHsgU3RlZXJpbmdTZXR0aW5ncyB9IGZyb20gXCIuLi9TdGVlcmluZ1NldHRpbmdzXCI7XG5pbXBvcnQgeyBCZWhhdmlvciB9IGZyb20gXCIuL0JlaGF2aW9yXCI7XG5cbmV4cG9ydCBjbGFzcyBBcnJpdmFsIGV4dGVuZHMgQmVoYXZpb3Ige1xuICAgIHB1YmxpYyB0YXJnZXQ6IFZlY3RvcjI7XG4gICAgcHVibGljIGFycml2YWxab25lOiBudW1iZXI7XG4gICAgcHVibGljIHNlZWtEaXN0OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQ6IFZlY3RvcjIsIGFycml2YWxab25lOiBudW1iZXIgPSAwLCBzZWVrRGlzdDogbnVtYmVyID0gMCkge1xuICAgICAgICBzdXBlcihTdGVlcmluZ1NldHRpbmdzLnNlZWtXZWlnaHQsIFN0ZWVyaW5nU2V0dGluZ3Muc2Vla1ByaW9yaXR5KTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuYXJyaXZhbFpvbmUgPSBhcnJpdmFsWm9uZTtcbiAgICAgICAgdGhpcy5zZWVrRGlzdCA9IHNlZWtEaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBjYWxjdWxhdGUoYWdlbnQ6IEJvZHksIHBhcmFtczogU3RlZXJpbmdBZ2VudFBhcmFtZXRlcnMsIHJlc3VsdDogVmVjdG9yMikge1xuICAgICAgICBBcnJpdmFsLmNhbGMoYWdlbnQsIHBhcmFtcywgcmVzdWx0LCB0aGlzLnRhcmdldCwgdGhpcy5hcnJpdmFsWm9uZSwgdGhpcy5zZWVrRGlzdCk7XG4gICAgfVxuXG4gICAgLy9IYW5kIG9wdGltaXplZCBhcyBjYWxsZWQgc28gb2Z0ZW5cbiAgICBwdWJsaWMgc3RhdGljIGNhbGMoXG4gICAgICAgIGFnZW50OiBCb2R5LFxuICAgICAgICBwYXJhbXM6IFN0ZWVyaW5nQWdlbnRQYXJhbWV0ZXJzLFxuICAgICAgICByZXN1bHQ6IFZlY3RvcjIsXG4gICAgICAgIHRhcmdldDogVmVjdG9yMixcbiAgICAgICAgYXJyaXZhbFpvbmU6IG51bWJlciA9IDAsXG4gICAgICAgIHNlZWtEaXN0OiBudW1iZXIgPSAwLFxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgICB2YXIgZFg6IG51bWJlciA9IHRhcmdldC54IC0gYWdlbnQucG9zaXRpb24ueCArIDAuMDAwMDAxO1xuICAgICAgICB2YXIgZFk6IG51bWJlciA9IHRhcmdldC55IC0gYWdlbnQucG9zaXRpb24ueSArIDAuMDAwMDAxO1xuICAgICAgICB2YXIgZDogbnVtYmVyID0gZFggKiBkWCArIGRZICogZFk7XG5cbiAgICAgICAgaWYgKHNlZWtEaXN0ID4gMCAmJiBkIDwgc2Vla0Rpc3QgKiBzZWVrRGlzdCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHQgPSBNYXRoLnNxcnQoZCk7XG5cbiAgICAgICAgdmFyIHNjYWxlOiBudW1iZXIgPSAxLjA7XG5cbiAgICAgICAgaWYgKHQgPCBhcnJpdmFsWm9uZSkge1xuICAgICAgICAgICAgc2NhbGUgPSB0IC8gYXJyaXZhbFpvbmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQueCA9IGRYIC8gdDtcbiAgICAgICAgcmVzdWx0LnggKj0gcGFyYW1zLm1heFN0ZWVyaW5nRm9yY2VQZXJTdGVwO1xuICAgICAgICByZXN1bHQueCAtPSBhZ2VudC52ZWxvY2l0eS54ICogKDYwIC8gMTAwMCk7XG4gICAgICAgIHJlc3VsdC54ICo9IHNjYWxlO1xuXG4gICAgICAgIHJlc3VsdC55ID0gZFkgLyB0O1xuICAgICAgICByZXN1bHQueSAqPSBwYXJhbXMubWF4U3RlZXJpbmdGb3JjZVBlclN0ZXA7XG4gICAgICAgIHJlc3VsdC55IC09IGFnZW50LnZlbG9jaXR5LnkgKiAoNjAgLyAxMDAwKTtcbiAgICAgICAgcmVzdWx0LnggKj0gc2NhbGU7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2FpL3N0ZWVyaW5nL2JlaGF2aW9ycy9BcnJpdmFsLnRzIiwiZXhwb3J0IGNsYXNzIFdhdGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHt9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvY29yZS9jb21wb25lbnRzL1dhdGVyLnRzIiwiZXhwb3J0IGNsYXNzIERvb3Ige1xuICAgIHB1YmxpYyB0eXBlOiBzdHJpbmc7XG4gICAgcHVibGljIG9wZW46IGJvb2xlYW47XG4gICAgcHVibGljIHRyaWdnZXJFdmVudDogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IodHlwZTogc3RyaW5nLCBvcGVuOiBib29sZWFuLCB0cmlnZ2VyRXZlbnQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLm9wZW4gPSBvcGVuO1xuICAgICAgICB0aGlzLnRyaWdnZXJFdmVudCA9IHRyaWdnZXJFdmVudDtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdGVzdC9jb21wb25lbnRzL0Rvb3IudHMiLCJleHBvcnQgY2xhc3MgQ2hpY2tlbiB7XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Rlc3QvY29tcG9uZW50cy9DaGlja2VuLnRzIiwiZXhwb3J0IGNsYXNzIERlYnVnR3JhcGhpY3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge31cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9ncmFwaGljcy9jb21wb25lbnRzL0RlYnVnR3JhcGhpY3MudHMiLCJpbXBvcnQgeyBJbnRlcnZhbERlbGF5IH0gZnJvbSBcIi4uLy4uL2dsYXplL3V0aWwvSW50ZXJ2YWxEZWxheVwiO1xuXG5leHBvcnQgY2xhc3MgR3VuVHVycmV0IHtcbiAgICBwdWJsaWMgaW50ZXJ2YWxEZWxheTogSW50ZXJ2YWxEZWxheTtcblxuICAgIGNvbnN0cnVjdG9yKGludGVydmFsOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5pbnRlcnZhbERlbGF5ID0gbmV3IEludGVydmFsRGVsYXkoaW50ZXJ2YWwpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy90ZXN0L2NvbXBvbmVudHMvR3VuVHVycmV0LnRzIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi9nbGF6ZS9nZW9tL1ZlY3RvcjJcIjtcblxuZXhwb3J0IGNsYXNzIFRlbGVwb3J0ZXIge1xuXG4gICAgcHVibGljIHRlbGVwb3J0UG9zaXRpb246VmVjdG9yMjtcblxuICAgIGNvbnN0cnVjdG9yKHRlbGVwb3J0UG9zaXRpb246VmVjdG9yMikge1xuICAgICAgICB0aGlzLnRlbGVwb3J0UG9zaXRpb24gPSB0ZWxlcG9ydFBvc2l0aW9uO1xuICAgIH1cblxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy90ZXN0L2NvbXBvbmVudHMvVGVsZXBvcnRlci50cyIsImltcG9ydCB7IEdhbWVUZXN0QSB9IGZyb20gXCIuL3Rlc3QvR2FtZVRlc3RBXCI7XG5cbmNvbnN0IGdhbWUgPSBuZXcgR2FtZVRlc3RBKCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5kZXgudHMiLCJpbXBvcnQgeyBHbGF6ZUVuZ2luZSB9IGZyb20gXCIuLi9nbGF6ZS9HbGF6ZUVuZ2luZVwiO1xuaW1wb3J0IHsgR3JhcGhpY3NSZW5kZXJTeXN0ZW0gfSBmcm9tIFwiLi4vZ2xhemUvZ3JhcGhpY3Mvc3lzdGVtcy9HcmFwaGljc1JlbmRlclN5c3RlbVwiO1xuaW1wb3J0IHsgQUFCQjIgfSBmcm9tIFwiLi4vZ2xhemUvZ2VvbS9BQUJCMlwiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL1Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gXCIuLi9nbGF6ZS9ncmFwaGljcy9jb21wb25lbnRzL0dyYXBoaWNzXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL2dsYXplL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgU3ByaXRlUmVuZGVyZXIgfSBmcm9tIFwiLi4vZ2xhemUvZ3JhcGhpY3MvcmVuZGVyL3Nwcml0ZS9TcHJpdGVSZW5kZXJlclwiO1xuaW1wb3J0IHtcbiAgICBUTVhNYXAsXG4gICAgVE1YTGF5ZXIsXG4gICAgVE1YZGVjb2RlTGF5ZXIsXG4gICAgR2V0TGF5ZXIsXG4gICAgTGF5ZXJUb0Nvb3JkVGV4dHVyZSxcbiAgICBMYXllclRvQ29sbGlzaW9uRGF0YSxcbiAgICBHZXRUaWxlU2V0LFxufSBmcm9tIFwiLi4vZ2xhemUvdG14L1RNWE1hcFwiO1xuaW1wb3J0IHsgVGlsZU1hcFJlbmRlcmVyIH0gZnJvbSBcIi4uL2dsYXplL2dyYXBoaWNzL3JlbmRlci90aWxlL1RpbGVNYXBSZW5kZXJlclwiO1xuaW1wb3J0IHsgR3JhcGhpY3NBbmltYXRpb24gfSBmcm9tIFwiLi4vZ2xhemUvZ3JhcGhpY3MvY29tcG9uZW50cy9HcmFwaGljc0FuaW1hdGlvblwiO1xuaW1wb3J0IHsgQW5pbWF0aW9uU3lzdGVtIH0gZnJvbSBcIi4uL2dsYXplL2dyYXBoaWNzL3N5c3RlbXMvQW5pbWF0aW9uU3lzdGVtXCI7XG5pbXBvcnQgeyBUaWxlTWFwQ29sbGlzaW9uIH0gZnJvbSBcIi4uL2dsYXplL3BoeXNpY3MvY29sbGlzaW9uL2Jyb2FkcGhhc2UvVGlsZU1hcENvbGxpc2lvblwiO1xuaW1wb3J0IHsgQnJ1dGVmb3JjZUJyb2FkcGhhc2UgfSBmcm9tIFwiLi4vZ2xhemUvcGh5c2ljcy9jb2xsaXNpb24vYnJvYWRwaGFzZS9CcnV0ZWZvcmNlQnJvYWRwaGFzZVwiO1xuaW1wb3J0IHsgUGh5c2ljc1N0YXRpY1N5c3RlbSB9IGZyb20gXCIuLi9nbGF6ZS9waHlzaWNzL3N5c3RlbXMvUGh5c2ljc1N0YXRpY1N5c3RlbVwiO1xuaW1wb3J0IHsgUGh5c2ljc01vdmVhYmxlU3lzdGVtIH0gZnJvbSBcIi4uL2dsYXplL3BoeXNpY3Mvc3lzdGVtcy9QaHlzaWNzTW92ZWFibGVTeXN0ZW1cIjtcbmltcG9ydCB7IFBoeXNpY3NDb2xsaXNpb25TeXN0ZW0gfSBmcm9tIFwiLi4vZ2xhemUvcGh5c2ljcy9zeXN0ZW1zL1BoeXNpY3NDb2xsaXNpb25TeXN0ZW1cIjtcbmltcG9ydCB7IFBoeXNpY3NNYXNzU3lzdGVtIH0gZnJvbSBcIi4uL2dsYXplL3BoeXNpY3Mvc3lzdGVtcy9QaHlzaWNzTWFzc1N5c3RlbVwiO1xuaW1wb3J0IHsgUGh5c2ljc1Bvc2l0aW9uU3lzdGVtIH0gZnJvbSBcIi4uL2dsYXplL3BoeXNpY3Mvc3lzdGVtcy9QaHlzaWNzUG9zaXRpb25TeXN0ZW1cIjtcbmltcG9ydCB7IEV4dGVudHMgfSBmcm9tIFwiLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL0V4dGVudHNcIjtcbmltcG9ydCB7IFBoeXNpY3NDb2xsaXNpb24gfSBmcm9tIFwiLi4vZ2xhemUvcGh5c2ljcy9jb21wb25lbnRzL1BoeXNpY3NDb2xsaXNpb25cIjtcbmltcG9ydCB7IEZpbHRlciB9IGZyb20gXCIuLi9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9GaWx0ZXJcIjtcbmltcG9ydCB7IE1hdGVyaWFsIH0gZnJvbSBcIi4uL2dsYXplL3BoeXNpY3MvTWF0ZXJpYWxcIjtcbmltcG9ydCB7IEJvZHkgfSBmcm9tIFwiLi4vZ2xhemUvcGh5c2ljcy9Cb2R5XCI7XG5pbXBvcnQgeyBQaHlzaWNzQm9keSB9IGZyb20gXCIuLi9nbGF6ZS9waHlzaWNzL2NvbXBvbmVudHMvUGh5c2ljc0JvZHlcIjtcbmltcG9ydCB7IE1vdmVhYmxlIH0gZnJvbSBcIi4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9Nb3ZlYWJsZVwiO1xuaW1wb3J0IHsgQWN0aXZlIH0gZnJvbSBcIi4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9BY3RpdmVcIjtcbmltcG9ydCB7IFBoeXNpY3NVcGRhdGVTeXN0ZW0gfSBmcm9tIFwiLi4vZ2xhemUvcGh5c2ljcy9zeXN0ZW1zL1BoeXNpY3NVcGRhdGVTeXN0ZW1cIjtcbmltcG9ydCB7IENvbnRyb2xsYWJsZSB9IGZyb20gXCIuLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvQ29udHJvbGxhYmxlXCI7XG5pbXBvcnQgeyBDb250cm9sbGVyU3lzdGVtIH0gZnJvbSBcIi4uL2dsYXplL2NvcmUvc3lzdGVtcy9Db250cm9sbGVyU3lzdGVtXCI7XG5pbXBvcnQgeyBUaWxlR3JhcGhpY3NSZW5kZXJTeXN0ZW0gfSBmcm9tIFwiLi4vZ2xhemUvZ3JhcGhpY3Mvc3lzdGVtcy9UaWxlR3JhcGhpY3NSZW5kZXJTeXN0ZW1cIjtcbmltcG9ydCB7IFRpbGVHcmFwaGljcyB9IGZyb20gXCIuLi9nbGF6ZS9ncmFwaGljcy9jb21wb25lbnRzL1RpbGVHcmFwaGljc1wiO1xuaW1wb3J0IHsgRml4ZWQgfSBmcm9tIFwiLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL0ZpeGVkXCI7XG5pbXBvcnQgeyBCbG9ja1BhcnRpY2xlRW5naW5lMiB9IGZyb20gXCIuLi9nbGF6ZS9wYXJ0aWNsZS9lbmdpbmVzL0Jsb2NrUGFydGljbGVFbmdpbmUyXCI7XG5pbXBvcnQgeyBQYXJ0aWNsZVN5c3RlbSB9IGZyb20gXCIuLi9nbGF6ZS9wYXJ0aWNsZS9zeXN0ZW1zL1BhcnRpY2xlU3lzdGVtXCI7XG5pbXBvcnQgeyBQYXJ0aWNsZUVtaXR0ZXIgfSBmcm9tIFwiLi4vZ2xhemUvcGFydGljbGUvY29tcG9uZW50cy9QYXJ0aWNsZUVtaXR0ZXJcIjtcbmltcG9ydCB7IEV4cGxvc2lvbiB9IGZyb20gXCIuLi9nbGF6ZS9wYXJ0aWNsZS9lbWl0dGVyL0V4cGxvc2lvblwiO1xuaW1wb3J0IHsgRml4ZWRWaWV3TWFuYWdlbWVudFN5c3RlbSB9IGZyb20gXCIuLi9nbGF6ZS9zcGFjZS9zeXN0ZW1zL0ZpeGVkVmlld01hbmFnZW1lbnRTeXN0ZW1cIjtcbmltcG9ydCB7IEFnZVN5c3RlbSB9IGZyb20gXCIuLi9nbGF6ZS9jb3JlL3N5c3RlbXMvQWdlU3lzdGVtXCI7XG5pbXBvcnQgeyBIZWFsdGggfSBmcm9tIFwiLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL0hlYWx0aFwiO1xuaW1wb3J0IHsgSGVhbHRoU3lzdGVtIH0gZnJvbSBcIi4uL2dsYXplL2NvcmUvc3lzdGVtcy9IZWFsdGhTeXN0ZW1cIjtcbmltcG9ydCB7IENvbGxzaW9uQ291bnRTeXN0ZW0gfSBmcm9tIFwiLi4vZ2xhemUvY29yZS9zeXN0ZW1zL0NvbGxpc2lvbkNvdW50U3lzdGVtXCI7XG5pbXBvcnQgeyBUZXN0RmlsdGVycyB9IGZyb20gXCIuL2NvbmZpZy9GaWx0ZXJzXCI7XG5pbXBvcnQgeyBTdGFuZGFyZEJ1bGxldCB9IGZyb20gXCIuL2ZhY3Rvcmllcy9wcm9qZWN0aWxlL1N0YW5kYXJkQnVsbGV0XCI7XG5pbXBvcnQgeyBEZXN0cm95U3lzdGVtIH0gZnJvbSBcIi4uL2dsYXplL2NvcmUvc3lzdGVtcy9EZXN0cm95U3lzdGVtXCI7XG5pbXBvcnQgeyBQbGF5ZXJGYWN0b3J5IH0gZnJvbSBcIi4vZmFjdG9yaWVzL2NoYXJhY3Rlci9QbGF5ZXJGYWN0b3J5XCI7XG5pbXBvcnQgeyBQbGF5ZXJTeXN0ZW0gfSBmcm9tIFwiLi9zeXN0ZW1zL1BsYXllclN5c3RlbVwiO1xuaW1wb3J0IHsgRW52aXJvbm1lbnRGb3JjZVN5c3RlbSB9IGZyb20gXCIuLi9nbGF6ZS9waHlzaWNzL3N5c3RlbXMvRW52aXJvbm1lbnRGb3JjZVN5c3RlbVwiO1xuaW1wb3J0IHsgY3JlYXRlVE1YTGF5ZXJFbnRpdGllcyB9IGZyb20gXCIuLi9nbGF6ZS90bXgvVE1YRmFjdG9yeVwiO1xuaW1wb3J0IHsgRm9yY2VGYWN0b3J5IH0gZnJvbSBcIi4uL2dsYXplL3RteC9mYWN0b3JpZXMvRm9yY2VGYWN0b3J5XCI7XG5pbXBvcnQgeyBQb2ludExpZ2h0aW5nU3lzdGVtIH0gZnJvbSBcIi4uL2dsYXplL2dyYXBoaWNzL3N5c3RlbXMvUG9pbnRMaWdodGluZ1N5c3RlbVwiO1xuaW1wb3J0IHsgTGlnaHQgfSBmcm9tIFwiLi4vZ2xhemUvZ3JhcGhpY3MvY29tcG9uZW50cy9MaWdodFwiO1xuaW1wb3J0IHsgVmlld2FibGUgfSBmcm9tIFwiLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL1ZpZXdhYmxlXCI7XG5pbXBvcnQgeyBTdGVlcmluZ1N5c3RlbSB9IGZyb20gXCIuLi9nbGF6ZS9haS9zdGVlcmluZy9zeXN0ZW1zL1N0ZWVyaW5nU3lzdGVtXCI7XG5pbXBvcnQgeyBCZWVIaXZlIH0gZnJvbSBcIi4vY29tcG9uZW50cy9CZWVIaXZlXCI7XG5pbXBvcnQgeyBCZWVIaXZlU3lzdGVtIH0gZnJvbSBcIi4vc3lzdGVtcy9CZWVIaXZlU3lzdGVtXCI7XG5pbXBvcnQgeyBCaXJkTmVzdCB9IGZyb20gXCIuL2NvbXBvbmVudHMvQmlyZE5lc3RcIjtcbmltcG9ydCB7IEJpcmROZXN0U3lzdGVtIH0gZnJvbSBcIi4vc3lzdGVtcy9CaXJkTmVzdFN5c3RlbVwiO1xuaW1wb3J0IHsgQ29tYmF0VXRpbHMgfSBmcm9tIFwiLi4vZ2xhemUvdXRpbC9Db21iYXRVdGlsc1wiO1xuaW1wb3J0IHsgQmlyZFN5c3RlbSB9IGZyb20gXCIuL3N5c3RlbXMvQmlyZFN5c3RlbVwiO1xuaW1wb3J0IHsgV2F0ZXJTeXN0ZW0gfSBmcm9tIFwiLi4vZ2xhemUvY29yZS9zeXN0ZW1zL1dhdGVyU3lzdGVtXCI7XG5pbXBvcnQgeyBXaW5kU3lzdGVtIH0gZnJvbSBcIi4uL2dsYXplL2NvcmUvc3lzdGVtcy9XaW5kU3lzdGVtXCI7XG5pbXBvcnQgeyBXYXRlckZhY3RvcnkgfSBmcm9tIFwiLi4vZ2xhemUvdG14L2ZhY3Rvcmllcy9XYXRlckZhY3RvcnlcIjtcbmltcG9ydCB7IERvb3JGYWN0b3J5IH0gZnJvbSBcIi4vZmFjdG9yaWVzL2l0ZW0vRG9vckZhY3RvcnlcIjtcbmltcG9ydCB7IFN0YXRlU3lzdGVtIH0gZnJvbSBcIi4uL2dsYXplL2NvcmUvc3lzdGVtcy9TdGF0ZVN5c3RlbVwiO1xuaW1wb3J0IHsgTWVzc2FnZUJ1cyB9IGZyb20gXCIuLi9nbGF6ZS91dGlsL01lc3NhZ2VCdXNcIjtcbmltcG9ydCB7IFN0YXRlVXBkYXRlciB9IGZyb20gXCIuLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvU3RhdGVVcGRhdGVyXCI7XG5pbXBvcnQgeyBTdGF0ZVVwZGF0ZVN5c3RlbSB9IGZyb20gXCIuLi9nbGF6ZS9jb3JlL3N5c3RlbXMvU3RhdGVVcGRhdGVTeXN0ZW1cIjtcbmltcG9ydCB7IGxpc3RlbkRlYnVnQnV0dG9ucyB9IGZyb20gXCIuLi9nbGF6ZS90b29scy9IVE1MRGV2VG9vbHNcIjtcbmltcG9ydCB7IER5bmFtaWNUcmVlQnJvYWRwaGFzZSB9IGZyb20gXCIuLi9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9icm9hZHBoYXNlL0R5bmFtaWNUcmVlQnJvYWRwaGFzZVwiO1xuaW1wb3J0IHsgQ2hpY2tlblN5c3RlbSB9IGZyb20gXCIuL3N5c3RlbXMvQ2hpY2tlblN5c3RlbVwiO1xuaW1wb3J0IHsgRGVidWdSZW5kZXJTeXN0ZW0gfSBmcm9tIFwiLi4vZ2xhemUvZ3JhcGhpY3Mvc3lzdGVtcy9EZWJ1Z1JlbmRlcmVyU3lzdGVtXCI7XG5pbXBvcnQgeyBEZWJ1Z0dyYXBoaWNzIH0gZnJvbSBcIi4uL2dsYXplL2dyYXBoaWNzL2NvbXBvbmVudHMvRGVidWdHcmFwaGljc1wiO1xuaW1wb3J0IHsgRHluYW1pY1RyZWUgfSBmcm9tIFwiLi4vZ2xhemUvcGh5c2ljcy9jb2xsaXNpb24vYnJvYWRwaGFzZS9EeW5hbWljVHJlZVwiO1xuaW1wb3J0IHsgRGVidWdSZW5kZXJlciB9IGZyb20gXCIuLi9nbGF6ZS9ncmFwaGljcy9yZW5kZXIvZGVidWcvRGVidWdSZW5kZXJlclwiO1xuaW1wb3J0IHsgR3VuVHVycmV0IH0gZnJvbSBcIi4vY29tcG9uZW50cy9HdW5UdXJyZXRcIjtcbmltcG9ydCB7IEd1blR1cnJldFN5c3RlbSB9IGZyb20gXCIuL3N5c3RlbXMvR3VuVHVycmV0U3lzdGVtXCI7XG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gXCIuLi9nbGF6ZS91dGlsL0ZuVXRpbHNcIjtcbmltcG9ydCB7IENhbWVyYSB9IGZyb20gXCIuLi9nbGF6ZS9ncmFwaGljcy9kaXNwbGF5bGlzdC9DYW1lcmFcIjtcbmltcG9ydCB7IEZsb29kTGlnaHRpbmdTeXN0ZW0gfSBmcm9tIFwiLi4vZ2xhemUvZ3JhcGhpY3Mvc3lzdGVtcy9GbG9vZExpZ2h0aW5nU3lzdGVtXCI7XG5pbXBvcnQgeyBSZWN1cnNpdmVMaWdodGluZ1N5c3RlbSB9IGZyb20gXCIuLi9nbGF6ZS9ncmFwaGljcy9zeXN0ZW1zL1JlY3Vyc2l2ZUxpZ2h0aW5nU3lzdGVtXCI7XG5pbXBvcnQgeyBDQUxpZ2h0aW5nU3lzdGVtIH0gZnJvbSBcIi4uL2dsYXplL2dyYXBoaWNzL3N5c3RlbXMvQ0FMaWdodGluZ1N5c3RlbVwiO1xuaW1wb3J0IHsgV2F0ZXJSZW5kZXJTeXN0ZW0gfSBmcm9tIFwiLi4vZ2xhemUvZ3JhcGhpY3Mvc3lzdGVtcy9XYXRlclJlbmRlclN5c3RlbVwiO1xuaW1wb3J0IHsgQkZTTGlnaHRpbmdTeXN0ZW0gfSBmcm9tIFwiLi4vZ2xhemUvZ3JhcGhpY3Mvc3lzdGVtcy9CRlNMaWdodGluZ1N5c3RlbVwiO1xuaW1wb3J0IHsgSG9sZGFibGUgfSBmcm9tIFwiLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL0hvbGRhYmxlXCI7XG5pbXBvcnQgeyBIb2xkZXJTeXN0ZW0gfSBmcm9tIFwiLi4vZ2xhemUvY29yZS9zeXN0ZW1zL0hvbGRlclN5c3RlbVwiO1xuaW1wb3J0IHsgSG9sZGFibGVTeXN0ZW0gfSBmcm9tIFwiLi4vZ2xhemUvY29yZS9zeXN0ZW1zL0hvbGRhYmxlU3lzdGVtXCI7XG5pbXBvcnQgeyBIZWxkU3lzdGVtIH0gZnJvbSBcIi4uL2dsYXplL2NvcmUvc3lzdGVtcy9IZWxkU3lzdGVtXCI7XG5pbXBvcnQgeyBQaGFzZSB9IGZyb20gXCIuLi9nbGF6ZS9lY3MvUGhhc2VcIjtcbmltcG9ydCB7IFRlbGVwb3J0ZXJGYWN0b3J5IH0gZnJvbSBcIi4vZmFjdG9yaWVzL2l0ZW0vVGVsZXBvcnRlckZhY3RvcnlcIjtcbmltcG9ydCB7IFRlbGVwb3J0ZXJTeXN0ZW0gfSBmcm9tIFwiLi9zeXN0ZW1zL1RlbGVwb3J0ZXJTeXN0ZW1cIjtcbmltcG9ydCB7IFdhdGVySG9sZGVyIH0gZnJvbSBcIi4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9XYXRlckhvbGRlclwiO1xuXG5pbnRlcmZhY2UgR2xhemVNYXBMYXllckNvbmZpZyB7fVxuXG5pbnRlcmZhY2UgR2xhemVHYW1lQ29uZmlnIHtcbiAgICB0aWxlU2l6ZTogbnVtYmVyO1xuICAgIG1hcDogc3RyaW5nO1xuICAgIHNwcml0ZUNvbmZpZzogc3RyaW5nO1xuICAgIHNwcml0ZVRleHR1cmU6IHN0cmluZztcbiAgICBzcHJpdGVGcmFtZXM6IHN0cmluZztcbiAgICB0aWxlc1RleHR1cmU6IHN0cmluZztcbiAgICBtYXBMYXllcnM6IEdsYXplTWFwTGF5ZXJDb25maWdbXTtcbn1cblxuY29uc3QgTUFQX0RBVEE6IHN0cmluZyA9IFwiZGF0YS8xNm1hcC5qc29uXCI7XG5jb25zdCBURVhUVVJFX0NPTkZJRzogc3RyaW5nID0gXCJkYXRhL3Nwcml0ZXMuanNvblwiO1xuY29uc3QgVEVYVFVSRV9EQVRBOiBzdHJpbmcgPSBcImRhdGEvc3ByaXRlcy5wbmdcIjtcbmNvbnN0IEZSQU1FU19DT05GSUc6IHN0cmluZyA9IFwiZGF0YS9mcmFtZXMuanNvblwiO1xuXG5jb25zdCBQQVJUSUNMRV9URVhUVVJFX0NPTkZJRzogc3RyaW5nID0gXCJkYXRhL3BhcnRpY2xlcy5qc29uXCI7XG5jb25zdCBQQVJUSUNMRV9URVhUVVJFX0RBVEE6IHN0cmluZyA9IFwiZGF0YS9wYXJ0aWNsZXMucG5nXCI7XG5jb25zdCBQQVJUSUNMRV9GUkFNRVNfQ09ORklHOiBzdHJpbmcgPSBcImRhdGEvcGFydGljbGVGcmFtZXMuanNvblwiO1xuY29uc3QgVElMRV9GUkFNRVNfQ09ORklHOiBzdHJpbmcgPSBcImRhdGEvdGlsZUZyYW1lcy5qc29uXCI7XG5cbi8vIGNvbnN0IENPTF9TUFJJVEVfU0hFRVQ6c3RyaW5nID0gXCJkYXRhL3N1cGVyU2V0LnBuZ1wiO1xuLy8gY29uc3QgVElMRV9TUFJJVEVfU0hFRVRfMTpzdHJpbmcgPSBcImRhdGEvc3VwZXJTZXQucG5nXCI7XG4vLyBjb25zdCBUSUxFX1NQUklURV9TSEVFVF8yOnN0cmluZyA9IFwiZGF0YS9zdXBlclNldC5wbmdcIjtcbi8vIGNvbnN0IFRJTEVfU1BSSVRFX1NIRUVUX0I6c3RyaW5nID0gXCJkYXRhL3N1cGVyU2V0LnBuZ1wiO1xuXG5jb25zdCBUSUxFX1NQUklURV9TSEVFVDogc3RyaW5nID0gXCJkYXRhL3N1cGVyU2V0LnBuZ1wiO1xuXG5jb25zdCBUSUxFX1NJWkUgPSAxNjtcblxuZXhwb3J0IGNsYXNzIEdhbWVUZXN0QSBleHRlbmRzIEdsYXplRW5naW5lIHtcbiAgICBwcml2YXRlIHJlbmRlclN5c3RlbTogR3JhcGhpY3NSZW5kZXJTeXN0ZW07XG4gICAgcHJpdmF0ZSB0bXhNYXA6IFRNWE1hcDtcbiAgICBwcml2YXRlIGRlYnVnR3JhcGhpY3M6IERlYnVnUmVuZGVyZXI7XG4gICAgcHJpdmF0ZSBkeW5hbWljVHJlZTogRHluYW1pY1RyZWU7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZXdcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgICAgICAgc3VwZXIoY2FudmFzKTtcbiAgICAgICAgdGhpcy5sb2FkQXNzZXRzKFtURVhUVVJFX0NPTkZJRywgVEVYVFVSRV9EQVRBLCBGUkFNRVNfQ09ORklHLCBNQVBfREFUQSwgVElMRV9TUFJJVEVfU0hFRVQsIFRJTEVfRlJBTUVTX0NPTkZJR10pO1xuICAgIH1cblxuICAgIGluaXRhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmUuYWRkQ2FwYWNpdHlUb0VuZ2luZSgxMDAwKTtcblxuICAgICAgICBjb25zdCB0bXhNYXA6IFRNWE1hcCA9IEpTT04ucGFyc2UodGhpcy5hc3NldHMuYXNzZXRzLmdldChNQVBfREFUQSkpIGFzIFRNWE1hcDtcblxuICAgICAgICB2YXIgY2FtZXJhUmFuZ2UgPSBuZXcgQUFCQjIoMCwgVElMRV9TSVpFICogdG14TWFwLndpZHRoLCBUSUxFX1NJWkUgKiB0bXhNYXAuaGVpZ2h0LCAwKTtcbiAgICAgICAgY2FtZXJhUmFuZ2UuZXhwYW5kKC1USUxFX1NJWkUpO1xuICAgICAgICBjb25zdCBjYW1lcmEgPSBuZXcgQ2FtZXJhKCk7XG4gICAgICAgIGNhbWVyYS53b3JsZEV4dGVudHNBQUJCID0gY2FtZXJhUmFuZ2U7XG5cbiAgICAgICAgY29uc3QgY29sbGlzaW9uRGF0YSA9IExheWVyVG9Db2xsaXNpb25EYXRhKFxuICAgICAgICAgICAgVE1YZGVjb2RlTGF5ZXIoR2V0TGF5ZXIodG14TWFwLCBcIkNvbGxpc2lvblwiKSksXG4gICAgICAgICAgICBHZXRUaWxlU2V0KHRteE1hcCwgXCJDb2xsaXNpb25cIikuZmlyc3RnaWQsXG4gICAgICAgICAgICBUSUxFX1NJWkUsXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgdGlsZU1hcENvbGxpc2lvbiA9IG5ldyBUaWxlTWFwQ29sbGlzaW9uKGNvbGxpc2lvbkRhdGEpO1xuICAgICAgICBjb25zdCBibG9ja1BhcnRpY2xlRW5naW5lID0gbmV3IEJsb2NrUGFydGljbGVFbmdpbmUyKDQwMDAsIDEwMDAgLyA2MCwgY29sbGlzaW9uRGF0YSk7XG5cbiAgICAgICAgLy8gY29uc3QgYnJvYWRwaGFzZSA9IG5ldyBCcnV0ZWZvcmNlQnJvYWRwaGFzZSh0aWxlTWFwQ29sbGlzaW9uKTtcbiAgICAgICAgY29uc3QgYnJvYWRwaGFzZSA9IG5ldyBEeW5hbWljVHJlZUJyb2FkcGhhc2UodGlsZU1hcENvbGxpc2lvbik7XG4gICAgICAgIHRoaXMuZHluYW1pY1RyZWUgPSBicm9hZHBoYXNlLnRyZWU7XG5cbiAgICAgICAgQ29tYmF0VXRpbHMuc2V0dXAodGhpcy5lbmdpbmUsIGJyb2FkcGhhc2UpO1xuXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VCdXMgPSBuZXcgTWVzc2FnZUJ1cygpO1xuICAgICAgICAvLyBKdXN0IGEgaGFjayBmb3IgZGV2XG4gICAgICAgICh3aW5kb3cgYXMgYW55KS5tYiA9IG1lc3NhZ2VCdXM7XG5cbiAgICAgICAgY29uc3QgY29yZVBoYXNlID0gbmV3IFBoYXNlKCk7XG4gICAgICAgIHRoaXMuZW5naW5lLmFkZFBoYXNlKGNvcmVQaGFzZSk7XG5cbiAgICAgICAgLy8gTm9uIGR5bmFtaWNcbiAgICAgICAgY29yZVBoYXNlLmFkZFN5c3RlbShuZXcgUGh5c2ljc01hc3NTeXN0ZW0oKSk7XG4gICAgICAgIGNvcmVQaGFzZS5hZGRTeXN0ZW0obmV3IFBoeXNpY3NTdGF0aWNTeXN0ZW0oYnJvYWRwaGFzZSkpO1xuICAgICAgICBjb3JlUGhhc2UuYWRkU3lzdGVtKG5ldyBQaHlzaWNzTW92ZWFibGVTeXN0ZW0oYnJvYWRwaGFzZSkpO1xuXG4gICAgICAgIC8vIER5bmFtaWNcbiAgICAgICAgY29yZVBoYXNlLmFkZFN5c3RlbShuZXcgUGh5c2ljc1VwZGF0ZVN5c3RlbSgpKTtcbiAgICAgICAgY29yZVBoYXNlLmFkZFN5c3RlbShuZXcgUGh5c2ljc0NvbGxpc2lvblN5c3RlbShicm9hZHBoYXNlKSk7XG4gICAgICAgIGNvcmVQaGFzZS5hZGRTeXN0ZW0obmV3IFBoeXNpY3NQb3NpdGlvblN5c3RlbSgpKTtcbiAgICAgICAgY29yZVBoYXNlLmFkZFN5c3RlbShuZXcgSGVsZFN5c3RlbSgpKTtcblxuICAgICAgICBjb3JlUGhhc2UuYWRkU3lzdGVtKG5ldyBQbGF5ZXJTeXN0ZW0odGhpcy5pbnB1dCwgYmxvY2tQYXJ0aWNsZUVuZ2luZSkpO1xuICAgICAgICBjb3JlUGhhc2UuYWRkU3lzdGVtKG5ldyBTdGVlcmluZ1N5c3RlbSh0aWxlTWFwQ29sbGlzaW9uKSk7XG5cbiAgICAgICAgY29yZVBoYXNlLmFkZFN5c3RlbShuZXcgQ29udHJvbGxlclN5c3RlbSh0aGlzLmlucHV0KSk7XG5cbiAgICAgICAgY29yZVBoYXNlLmFkZFN5c3RlbShuZXcgUGFydGljbGVTeXN0ZW0oYmxvY2tQYXJ0aWNsZUVuZ2luZSkpO1xuXG4gICAgICAgIC8vIFRPRE8gVGVtcFxuICAgICAgICBjb3JlUGhhc2UuYWRkU3lzdGVtKG5ldyBGaXhlZFZpZXdNYW5hZ2VtZW50U3lzdGVtKGNhbWVyYSkpO1xuXG4gICAgICAgIGNvcmVQaGFzZS5hZGRTeXN0ZW0obmV3IEFnZVN5c3RlbSgpKTtcbiAgICAgICAgY29yZVBoYXNlLmFkZFN5c3RlbShuZXcgSGVhbHRoU3lzdGVtKCkpO1xuICAgICAgICBjb3JlUGhhc2UuYWRkU3lzdGVtKG5ldyBDb2xsc2lvbkNvdW50U3lzdGVtKCkpO1xuICAgICAgICBjb3JlUGhhc2UuYWRkU3lzdGVtKG5ldyBFbnZpcm9ubWVudEZvcmNlU3lzdGVtKCkpO1xuXG4gICAgICAgIGNvcmVQaGFzZS5hZGRTeXN0ZW0obmV3IEJlZUhpdmVTeXN0ZW0oKSk7XG4gICAgICAgIGNvcmVQaGFzZS5hZGRTeXN0ZW0obmV3IEJpcmROZXN0U3lzdGVtKCkpO1xuICAgICAgICBjb3JlUGhhc2UuYWRkU3lzdGVtKG5ldyBCaXJkU3lzdGVtKENvbWJhdFV0aWxzLmJmQXJlYVF1ZXJ5KSk7XG5cbiAgICAgICAgY29uc3QgY2hpY2tlblN5c3RlbSA9IG5ldyBDaGlja2VuU3lzdGVtKGJsb2NrUGFydGljbGVFbmdpbmUpO1xuICAgICAgICBjb3JlUGhhc2UuYWRkU3lzdGVtKGNoaWNrZW5TeXN0ZW0pO1xuICAgICAgICBjb3JlUGhhc2UuYWRkU3lzdGVtKG5ldyBHdW5UdXJyZXRTeXN0ZW0oKSk7XG5cbiAgICAgICAgY29yZVBoYXNlLmFkZFN5c3RlbShuZXcgV2F0ZXJTeXN0ZW0oYmxvY2tQYXJ0aWNsZUVuZ2luZSkpO1xuICAgICAgICBjb3JlUGhhc2UuYWRkU3lzdGVtKG5ldyBXaW5kU3lzdGVtKGJsb2NrUGFydGljbGVFbmdpbmUsIDE2KSk7XG5cbiAgICAgICAgY29yZVBoYXNlLmFkZFN5c3RlbShuZXcgU3RhdGVTeXN0ZW0oKSk7XG4gICAgICAgIGNvcmVQaGFzZS5hZGRTeXN0ZW0obmV3IFN0YXRlVXBkYXRlU3lzdGVtKG1lc3NhZ2VCdXMpKTtcblxuICAgICAgICBjb3JlUGhhc2UuYWRkU3lzdGVtKG5ldyBIb2xkZXJTeXN0ZW0oVGVzdEZpbHRlcnMuSE9MREFCTEVfQ0FUKSk7XG4gICAgICAgIGNvcmVQaGFzZS5hZGRTeXN0ZW0obmV3IEhvbGRhYmxlU3lzdGVtKFRlc3RGaWx0ZXJzLkhPTERBQkxFX0NBVCkpO1xuXG4gICAgICAgIGNvcmVQaGFzZS5hZGRTeXN0ZW0obmV3IFRlbGVwb3J0ZXJTeXN0ZW0oKSk7XG5cbiAgICAgICAgY29yZVBoYXNlLmFkZFN5c3RlbShuZXcgRGVzdHJveVN5c3RlbSgpKTtcblxuICAgICAgICAvLyBCRUdJTiBSRU5ERVIgU1lTVEVNXG5cbiAgICAgICAgY29uc3QgcmVuZGVyUGhhc2UgPSBuZXcgUGhhc2UoKTtcbiAgICAgICAgdGhpcy5lbmdpbmUuYWRkUGhhc2UocmVuZGVyUGhhc2UpO1xuICAgICAgICB0aGlzLnJlbmRlclN5c3RlbSA9IG5ldyBHcmFwaGljc1JlbmRlclN5c3RlbSh0aGlzLmNhbnZhcywgY2FtZXJhLCBuZXcgVmVjdG9yMigxMjgwLCA3MjApKTtcbiAgICAgICAgdGhpcy5yZW5kZXJTeXN0ZW0udGV4dHVyZU1hbmFnZXIuQWRkVGV4dHVyZShURVhUVVJFX0RBVEEsIHRoaXMuYXNzZXRzLmFzc2V0cy5nZXQoVEVYVFVSRV9EQVRBKSk7XG4gICAgICAgIHRoaXMucmVuZGVyU3lzdGVtLnRleHR1cmVNYW5hZ2VyLkFkZFRleHR1cmUoVElMRV9TUFJJVEVfU0hFRVQsIHRoaXMuYXNzZXRzLmFzc2V0cy5nZXQoVElMRV9TUFJJVEVfU0hFRVQpKTtcblxuICAgICAgICB0aGlzLnJlbmRlclN5c3RlbS50ZXh0dXJlTWFuYWdlci5QYXJzZVRleHR1cmVQYWNrZXJKU09OKHRoaXMuYXNzZXRzLmFzc2V0cy5nZXQoVEVYVFVSRV9DT05GSUcpLCBURVhUVVJFX0RBVEEpO1xuICAgICAgICB0aGlzLnJlbmRlclN5c3RlbS5mcmFtZUxpc3RNYW5hZ2VyLlBhcnNlRnJhbWVMaXN0SlNPTih0aGlzLmFzc2V0cy5hc3NldHMuZ2V0KEZSQU1FU19DT05GSUcpKTtcblxuICAgICAgICAvLyBUT0RPIE1vdmUgdGhpcyB1cCwgbGF0ZXIgJiBkb3J0IG91dCBkZXBzLlxuICAgICAgICByZW5kZXJQaGFzZS5hZGRTeXN0ZW0obmV3IEFuaW1hdGlvblN5c3RlbSh0aGlzLnJlbmRlclN5c3RlbS5mcmFtZUxpc3RNYW5hZ2VyKSk7XG5cbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IExheWVyVG9Db29yZFRleHR1cmUoVE1YZGVjb2RlTGF5ZXIoR2V0TGF5ZXIodG14TWFwLCBcIkJhY2tncm91bmRcIikpKTtcbiAgICAgICAgY29uc3QgZm9yZWdyb3VuZDEgPSBMYXllclRvQ29vcmRUZXh0dXJlKFRNWGRlY29kZUxheWVyKEdldExheWVyKHRteE1hcCwgXCJGb3JlZ3JvdW5kMVwiKSkpO1xuICAgICAgICBjb25zdCBmb3JlZ3JvdW5kMiA9IExheWVyVG9Db29yZFRleHR1cmUoVE1YZGVjb2RlTGF5ZXIoR2V0TGF5ZXIodG14TWFwLCBcIkZvcmVncm91bmQyXCIpKSk7XG5cbiAgICAgICAgdmFyIHRpbGVNYXBSZW5kZXJlciA9IG5ldyBUaWxlTWFwUmVuZGVyZXIoMTYgLyAyLCAyKTtcblxuICAgICAgICB0aWxlTWFwUmVuZGVyZXIuU2V0VGlsZVJlbmRlckxheWVyKFwiYmdcIiwgW1wiQmFja2dyb3VuZFwiLCBcIkZvcmVncm91bmQxXCJdKTtcbiAgICAgICAgdGlsZU1hcFJlbmRlcmVyLlNldFRpbGVSZW5kZXJMYXllcihcImZnXCIsIFtcIkZvcmVncm91bmQyXCJdKTtcblxuICAgICAgICB0aGlzLnJlbmRlclN5c3RlbS5yZW5kZXJlci5BZGRSZW5kZXJlcih0aWxlTWFwUmVuZGVyZXIpO1xuXG4gICAgICAgIHRpbGVNYXBSZW5kZXJlci5TZXRUaWxlTGF5ZXJGcm9tRGF0YShcbiAgICAgICAgICAgIGZvcmVncm91bmQyLFxuICAgICAgICAgICAgdGhpcy5yZW5kZXJTeXN0ZW0udGV4dHVyZU1hbmFnZXIuYmFzZVRleHR1cmVzLmdldChUSUxFX1NQUklURV9TSEVFVCksXG4gICAgICAgICAgICBcIkZvcmVncm91bmQyXCIsXG4gICAgICAgICAgICAxLFxuICAgICAgICAgICAgMSxcbiAgICAgICAgKTtcbiAgICAgICAgdGlsZU1hcFJlbmRlcmVyLlNldFRpbGVMYXllckZyb21EYXRhKFxuICAgICAgICAgICAgZm9yZWdyb3VuZDEsXG4gICAgICAgICAgICB0aGlzLnJlbmRlclN5c3RlbS50ZXh0dXJlTWFuYWdlci5iYXNlVGV4dHVyZXMuZ2V0KFRJTEVfU1BSSVRFX1NIRUVUKSxcbiAgICAgICAgICAgIFwiRm9yZWdyb3VuZDFcIixcbiAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAxLFxuICAgICAgICApO1xuICAgICAgICB0aWxlTWFwUmVuZGVyZXIuU2V0VGlsZUxheWVyRnJvbURhdGEoXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLFxuICAgICAgICAgICAgdGhpcy5yZW5kZXJTeXN0ZW0udGV4dHVyZU1hbmFnZXIuYmFzZVRleHR1cmVzLmdldChUSUxFX1NQUklURV9TSEVFVCksXG4gICAgICAgICAgICBcIkJhY2tncm91bmRcIixcbiAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAxLFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHNwcml0ZVJlbmRlciA9IG5ldyBTcHJpdGVSZW5kZXJlcigpO1xuICAgICAgICBzcHJpdGVSZW5kZXIuQWRkU3RhZ2UodGhpcy5yZW5kZXJTeXN0ZW0uc3RhZ2UpO1xuICAgICAgICB0aGlzLnJlbmRlclN5c3RlbS5yZW5kZXJlci5BZGRSZW5kZXJlcihzcHJpdGVSZW5kZXIpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyU3lzdGVtLml0ZW1Db250YWluZXIuYWRkQ2hpbGQodGlsZU1hcFJlbmRlcmVyLnJlbmRlckxheWVyc01hcC5nZXQoXCJiZ1wiKS5zcHJpdGUpO1xuICAgICAgICB0aGlzLnJlbmRlclN5c3RlbS5jYW1lcmEuYWRkQ2hpbGQodGlsZU1hcFJlbmRlcmVyLnJlbmRlckxheWVyc01hcC5nZXQoXCJmZ1wiKS5zcHJpdGUpO1xuXG4gICAgICAgIHJlbmRlclBoYXNlLmFkZFN5c3RlbSh0aGlzLnJlbmRlclN5c3RlbSk7XG5cbiAgICAgICAgY29uc3QgZGVidWdDYW52YXM6IEhUTUxDYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWV3RGVidWdcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGRlYnVnUmVuZGVyU3lzdGVtID0gbmV3IERlYnVnUmVuZGVyU3lzdGVtKGRlYnVnQ2FudmFzLCB0aGlzLnJlbmRlclN5c3RlbS5jYW1lcmEpO1xuICAgICAgICByZW5kZXJQaGFzZS5hZGRTeXN0ZW0oZGVidWdSZW5kZXJTeXN0ZW0pO1xuICAgICAgICB0aGlzLmRlYnVnR3JhcGhpY3MgPSBkZWJ1Z1JlbmRlclN5c3RlbS5kZWJ1Z1JlbmRlcjtcblxuICAgICAgICByZW5kZXJQaGFzZS5hZGRTeXN0ZW0oXG4gICAgICAgICAgICBuZXcgVGlsZUdyYXBoaWNzUmVuZGVyU3lzdGVtKHRoaXMuYXNzZXRzLmFzc2V0cy5nZXQoVElMRV9GUkFNRVNfQ09ORklHKSwgdGlsZU1hcFJlbmRlcmVyLCB0aWxlTWFwQ29sbGlzaW9uKSxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnJlbmRlclN5c3RlbS5yZW5kZXJlci5BZGRSZW5kZXJlcihibG9ja1BhcnRpY2xlRW5naW5lLnJlbmRlcmVyKTtcblxuICAgICAgICAvLyBHUFUgY2FsY3VsYXRlZCBsaWdodHNcbiAgICAgICAgLy8gY29uc3QgbGlnaHRTeXN0ZW0gPSBuZXcgUG9pbnRMaWdodGluZ1N5c3RlbSh0aWxlTWFwQ29sbGlzaW9uKTtcbiAgICAgICAgLy8gdGhpcy5yZW5kZXJTeXN0ZW0ucmVuZGVyZXIuQWRkUmVuZGVyZXIobGlnaHRTeXN0ZW0ucmVuZGVyZXIpO1xuICAgICAgICAvLyByZW5kZXJQaGFzZS5hZGRTeXN0ZW0obGlnaHRTeXN0ZW0pO1xuXG4gICAgICAgIC8vIEpTIGNhbGN1bGF0ZWQgaWdodHNcbiAgICAgICAgLy8gY29uc3QgbGlnaHRTeXN0ZW0gPSBuZXcgRmxvb2RMaWdodGluZ1N5c3RlbSh0aWxlTWFwQ29sbGlzaW9uLmRhdGEpO1xuICAgICAgICAvLyB0aGlzLnJlbmRlclN5c3RlbS5yZW5kZXJlci5BZGRSZW5kZXJlcihsaWdodFN5c3RlbS5yZW5kZXJlcik7XG4gICAgICAgIC8vIHJlbmRlclBoYXNlLmFkZFN5c3RlbShsaWdodFN5c3RlbSk7XG5cbiAgICAgICAgLy8gSlMgcmVjdXJzaXZlIGxpZ2h0cyBzbG9vb29vd1xuICAgICAgICAvLyBjb25zdCBsaWdodFN5c3RlbSA9IG5ldyBSZWN1cnNpdmVMaWdodGluZ1N5c3RlbSh0aWxlTWFwQ29sbGlzaW9uLmRhdGEpO1xuICAgICAgICAvLyBvciBsZXNzIHNsb3dcbiAgICAgICAgLy8gY29uc3QgbGlnaHRTeXN0ZW0gPSBuZXcgQkZTTGlnaHRpbmdTeXN0ZW0odGlsZU1hcENvbGxpc2lvbi5kYXRhKTtcblxuICAgICAgICAvLyBjb25zdCBsaWdodFN5c3RlbSA9IG5ldyBXYXRlclJlbmRlclN5c3RlbSh0aWxlTWFwQ29sbGlzaW9uLmRhdGEpO1xuICAgICAgICAvLyBjb25zdCBsaWdodFN5c3RlbSA9IG5ldyBDQUxpZ2h0aW5nU3lzdGVtKHRpbGVNYXBDb2xsaXNpb24uZGF0YSk7XG4gICAgICAgIC8vIHRoaXMucmVuZGVyU3lzdGVtLnJlbmRlcmVyLkFkZFJlbmRlcmVyKGxpZ2h0U3lzdGVtLnJlbmRlcmVyKTtcbiAgICAgICAgLy8gcmVuZGVyUGhhc2UuYWRkU3lzdGVtKGxpZ2h0U3lzdGVtKTtcblxuICAgICAgICAvLyBFTkQgU0VUVVAgUkVOREVSIFNZU1RFTVxuXG4gICAgICAgIGNvbnN0IHBsYXllclBvc2l0aW9uID0gdGhpcy5tYXBQb3NpdGlvbigzMy41LCAzOC41KTsgLy8gICAgIHRoaXMubWFwUG9zaXRpb24oMywgMTYpO1xuICAgICAgICBjb25zdCBwbGF5ZXJFbnRpdHkgPSBQbGF5ZXJGYWN0b3J5LmNyZWF0ZSh0aGlzLmVuZ2luZSwgcGxheWVyUG9zaXRpb24pO1xuICAgICAgICBjaGlja2VuU3lzdGVtLnNjYXJlZE9mKHBsYXllckVudGl0eSk7XG4gICAgICAgIHRoaXMucmVuZGVyU3lzdGVtLmNhbWVyYVRhcmdldCA9IHBsYXllclBvc2l0aW9uLmNvb3JkcztcblxuICAgICAgICBsZXQgeCA9IDA7XG4gICAgICAgIGxldCB5ID0gMDtcbiAgICAgICAgbGV0IHBsYXllciA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIGNvdW50ID0gMDsgY291bnQgPCAxOyBjb3VudCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlja2VuID0gdGhpcy5lbmdpbmUuY3JlYXRlRW50aXR5KCk7XG4gICAgICAgICAgICBpZiAocGxheWVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXIgPSBjaGlja2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeCArPSAyMDtcbiAgICAgICAgICAgIGlmICh4ID4gNzAwKSB7XG4gICAgICAgICAgICAgICAgeCA9IDA7XG4gICAgICAgICAgICAgICAgeSArPSAyMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNoaWNrZW5Cb2R5ID0gbmV3IEJvZHkoTWF0ZXJpYWwuTk9STUFMKTtcbiAgICAgICAgICAgIGNoaWNrZW5Cb2R5LnNldEJvdW5jZXMoMyk7XG4gICAgICAgICAgICBjaGlja2VuQm9keS5tYXhTY2FsYXJWZWxvY2l0eSA9IDEwMDA7XG5cbiAgICAgICAgICAgIHRoaXMuZW5naW5lLmFkZENvbXBvbmVudHNUb0VudGl0eShjaGlja2VuLCBbXG4gICAgICAgICAgICAgICAgbmV3IFBvc2l0aW9uKDEwMCArIHgsIDIwMCArIHkpLFxuICAgICAgICAgICAgICAgIG5ldyBFeHRlbnRzKDEyLCAxMiksXG4gICAgICAgICAgICAgICAgbmV3IEdyYXBoaWNzKFwiY2hpY2tlblwiKSxcbiAgICAgICAgICAgICAgICBuZXcgR3JhcGhpY3NBbmltYXRpb24oXCJjaGlja2VuXCIsIFwid2Fsa1wiKSxcbiAgICAgICAgICAgICAgICBuZXcgUGh5c2ljc0NvbGxpc2lvbihmYWxzZSwgbmV3IEZpbHRlcigpLCBbXSksXG4gICAgICAgICAgICAgICAgbmV3IFBoeXNpY3NCb2R5KGNoaWNrZW5Cb2R5LCB0cnVlKSxcbiAgICAgICAgICAgICAgICBuZXcgTW92ZWFibGUoKSxcbiAgICAgICAgICAgICAgICBuZXcgQWN0aXZlKCksXG4gICAgICAgICAgICAgICAgLy8gbmV3IExpZ2h0KDY0LCAxLCAxLCAxLCAyNTUsIDI1NSwgMjU1KSxcbiAgICAgICAgICAgICAgICBuZXcgVmlld2FibGUoKSxcbiAgICAgICAgICAgICAgICBuZXcgRGVidWdHcmFwaGljcygpLFxuICAgICAgICAgICAgICAgIC8vIG5ldyBDb250cm9sbGFibGUoMTUwKSxcbiAgICAgICAgICAgICAgICAvLyBuZXcgUGFydGljbGVFbWl0dGVyKFtuZXcgRXhwbG9zaW9uKDQsMTAwKV0pXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZhY3RvcmllcyA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XG4gICAgICAgIGZhY3Rvcmllcy5zZXQoRm9yY2VGYWN0b3J5Lm1hcHBpbmcsIEZvcmNlRmFjdG9yeS5jcmVhdGVUTVhFbnRpdHkpO1xuICAgICAgICBmYWN0b3JpZXMuc2V0KFdhdGVyRmFjdG9yeS5tYXBwaW5nLCBXYXRlckZhY3RvcnkuY3JlYXRlVE1YRW50aXR5KTtcbiAgICAgICAgZmFjdG9yaWVzLnNldChEb29yRmFjdG9yeS5tYXBwaW5nLCBEb29yRmFjdG9yeS5jcmVhdGVUTVhFbnRpdHkpO1xuXG4gICAgICAgIGNyZWF0ZVRNWExheWVyRW50aXRpZXModGhpcy5lbmdpbmUsIEdldExheWVyKHRteE1hcCwgXCJPYmplY3RzXCIpLCBmYWN0b3JpZXMpO1xuXG4gICAgICAgIC8vIGNvbnN0IHBvczogUG9zaXRpb24gPSB0aGlzLmVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkocGxheWVyLCBQb3NpdGlvbik7XG4gICAgICAgIC8vIHRoaXMucmVuZGVyU3lzdGVtLmNhbWVyYVRhcmdldCA9IHBvcy5jb29yZHM7IC8vIG5ldyBWZWN0b3IyKDQwMCwgNDAwKTtcblxuICAgICAgICBUZWxlcG9ydGVyRmFjdG9yeS5jcmVhdGUodGhpcy5lbmdpbmUsIHRoaXMubWFwUG9zaXRpb24oMywyMyksIG5ldyBFeHRlbnRzKDE2LDMyKSk7XG5cbiAgICAgICAgY29uc3QgZG9vclN3aXRjaCA9IHRoaXMuZW5naW5lLmNyZWF0ZUVudGl0eSgpO1xuICAgICAgICB0aGlzLmVuZ2luZS5hZGRDb21wb25lbnRzVG9FbnRpdHkoZG9vclN3aXRjaCwgW1xuICAgICAgICAgICAgdGhpcy5tYXBQb3NpdGlvbigxMC41LCAxOC41KSxcbiAgICAgICAgICAgIG5ldyBFeHRlbnRzKDgsIDgpLFxuICAgICAgICAgICAgbmV3IFBoeXNpY3NDb2xsaXNpb24oZmFsc2UsIG5ldyBGaWx0ZXIoKSwgW1xuICAgICAgICAgICAgICAgIC8vICgpPT57ZGVidWdnZXI7fSxcbiAgICAgICAgICAgICAgICB0aHJvdHRsZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VCdXMudHJpZ2dlcihcImRvb3JBXCIsIHt9KTtcbiAgICAgICAgICAgICAgICB9LCAxMDAwKSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgbmV3IEZpeGVkKCksXG4gICAgICAgICAgICBuZXcgQWN0aXZlKCksXG4gICAgICAgICAgICBuZXcgVGlsZUdyYXBoaWNzKFwic3dpdGNoT2ZmXCIpLFxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zdCBiZWVIaXZlID0gdGhpcy5lbmdpbmUuY3JlYXRlRW50aXR5KCk7XG4gICAgICAgIHRoaXMuZW5naW5lLmFkZENvbXBvbmVudHNUb0VudGl0eShiZWVIaXZlLCBbXG4gICAgICAgICAgICB0aGlzLm1hcFBvc2l0aW9uKDIwLjUsIDE3KSxcbiAgICAgICAgICAgIG5ldyBFeHRlbnRzKDE2LCAxNiksXG4gICAgICAgICAgICBuZXcgR3JhcGhpY3MoXCJpbnNlY3RzXCIsIFwiaGl2ZVwiKSxcbiAgICAgICAgICAgIG5ldyBQaHlzaWNzQ29sbGlzaW9uKGZhbHNlLCBudWxsLCBbXSksXG4gICAgICAgICAgICBuZXcgRml4ZWQoKSxcbiAgICAgICAgICAgIG5ldyBBY3RpdmUoKSxcbiAgICAgICAgICAgIG5ldyBCZWVIaXZlKDUpLFxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zdCBiaXJkTmVzdCA9IHRoaXMuZW5naW5lLmNyZWF0ZUVudGl0eSgpO1xuICAgICAgICB0aGlzLmVuZ2luZS5hZGRDb21wb25lbnRzVG9FbnRpdHkoYmlyZE5lc3QsIFtcbiAgICAgICAgICAgIHRoaXMubWFwUG9zaXRpb24oMzQsIDMwKSxcbiAgICAgICAgICAgIG5ldyBFeHRlbnRzKDcsIDcpLFxuICAgICAgICAgICAgbmV3IEZpeGVkKCksXG4gICAgICAgICAgICBuZXcgQmlyZE5lc3QoNSksXG4gICAgICAgICAgICBuZXcgQWN0aXZlKCksXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGNvbnN0IHR1cnJldCA9IHRoaXMuZW5naW5lLmNyZWF0ZUVudGl0eSgpO1xuICAgICAgICBjb25zdCB0dXJyZXRGaWx0ZXIgPSBuZXcgRmlsdGVyKCk7XG4gICAgICAgIHR1cnJldEZpbHRlci5ncm91cEluZGV4ID0gVGVzdEZpbHRlcnMuVFVSUkVUX0dST1VQO1xuICAgICAgICB0aGlzLmVuZ2luZS5hZGRDb21wb25lbnRzVG9FbnRpdHkodHVycmV0LCBbXG4gICAgICAgICAgICB0aGlzLm1hcFBvc2l0aW9uKDI1LCAxLjUpLFxuICAgICAgICAgICAgbmV3IFRpbGVHcmFwaGljcyhcInR1cnJldFwiKSxcbiAgICAgICAgICAgIG5ldyBFeHRlbnRzKDEyLCAxMiksXG4gICAgICAgICAgICBuZXcgUGh5c2ljc0NvbGxpc2lvbihmYWxzZSwgdHVycmV0RmlsdGVyLCBbXSksXG4gICAgICAgICAgICBuZXcgRml4ZWQoKSxcbiAgICAgICAgICAgIG5ldyBHdW5UdXJyZXQoMTAwMCksXG4gICAgICAgICAgICBuZXcgQWN0aXZlKCksXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGNvbnN0IHJvY2sgPSB0aGlzLmVuZ2luZS5jcmVhdGVFbnRpdHkoKTtcbiAgICAgICAgdGhpcy5lbmdpbmUuYWRkQ29tcG9uZW50c1RvRW50aXR5KHJvY2ssIFtcbiAgICAgICAgICAgIHRoaXMubWFwUG9zaXRpb24oMTMsIDQpLFxuICAgICAgICAgICAgbmV3IEV4dGVudHMoNywgNyksXG4gICAgICAgICAgICBuZXcgR3JhcGhpY3MoXCJpdGVtc1wiLCBcInJvY2tcIiksXG4gICAgICAgICAgICBuZXcgUGh5c2ljc0NvbGxpc2lvbihmYWxzZSwgbmV3IEZpbHRlcigpLCBbXSksXG4gICAgICAgICAgICBuZXcgTW92ZWFibGUoKSxcbiAgICAgICAgICAgIG5ldyBQaHlzaWNzQm9keShuZXcgQm9keShNYXRlcmlhbC5ST0NLKSwgdHJ1ZSksXG4gICAgICAgICAgICBuZXcgSG9sZGFibGUoKSxcbiAgICAgICAgICAgIG5ldyBBY3RpdmUoKSxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgY29uc3Qgd2F0ZXJDb250YWluZXIgPSB0aGlzLmVuZ2luZS5jcmVhdGVFbnRpdHkoKTtcbiAgICAgICAgdGhpcy5lbmdpbmUuYWRkQ29tcG9uZW50c1RvRW50aXR5KHdhdGVyQ29udGFpbmVyLCBbXG4gICAgICAgICAgICB0aGlzLm1hcFBvc2l0aW9uKDI1LDU3KSxcbiAgICAgICAgICAgIG5ldyBFeHRlbnRzKDYsMTQpLFxuICAgICAgICAgICAgbmV3IEdyYXBoaWNzKFwiaXRlbXNcIixcIndhdGVyX2NvbnRhaW5lclwiKSxcbiAgICAgICAgICAgIG5ldyBQaHlzaWNzQ29sbGlzaW9uKGZhbHNlLG5ldyBGaWx0ZXIoKSxbXSksXG4gICAgICAgICAgICBuZXcgTW92ZWFibGUoKSxcbiAgICAgICAgICAgIG5ldyBQaHlzaWNzQm9keShuZXcgQm9keShNYXRlcmlhbC5OT1JNQUwpLHRydWUpLFxuICAgICAgICAgICAgbmV3IEhvbGRhYmxlKCksXG4gICAgICAgICAgICBuZXcgV2F0ZXJIb2xkZXIoMTApLFxuICAgICAgICAgICAgbmV3IEFjdGl2ZSgpXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMubG9vcC5zdGFydCgpO1xuICAgICAgICBsaXN0ZW5EZWJ1Z0J1dHRvbnModGhpcy5lbmdpbmUpO1xuICAgIH1cblxuICAgIG1hcFBvc2l0aW9uKHhUaWxlczogbnVtYmVyLCB5VGlsZXM6IG51bWJlcik6IFBvc2l0aW9uIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbih4VGlsZXMgKiBUSUxFX1NJWkUsIHlUaWxlcyAqIFRJTEVfU0laRSk7XG4gICAgfVxuXG4gICAgZmlyZUJ1bGxldChwb3NpdGlvbjogVmVjdG9yMiwgdGFyZ2V0OiBWZWN0b3IyKSB7XG4gICAgICAgIHZhciBmaWx0ZXIgPSBuZXcgRmlsdGVyKCk7XG4gICAgICAgIGZpbHRlci5ncm91cEluZGV4ID0gVGVzdEZpbHRlcnMuVFVSUkVUX0dST1VQO1xuICAgICAgICB2YXIgYnVsbGV0ID0gU3RhbmRhcmRCdWxsZXQuY3JlYXRlKHRoaXMuZW5naW5lLCBuZXcgUG9zaXRpb24ocG9zaXRpb24ueCwgcG9zaXRpb24ueSksIGZpbHRlciwgdGFyZ2V0KTtcbiAgICB9XG5cbiAgICBwcmVVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuaW5wdXQuVXBkYXRlKC10aGlzLnJlbmRlclN5c3RlbS5jYW1lcmEucG9zaXRpb24ueCwgLXRoaXMucmVuZGVyU3lzdGVtLmNhbWVyYS5wb3NpdGlvbi55KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcG9zdFVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKEdsYXplRW5naW5lLnBhcmFtcy5kZWJ1ZyAmJiB0aGlzLmR5bmFtaWNUcmVlKSB0aGlzLmR5bmFtaWNUcmVlLmRlYnVnRHJhdyh0aGlzLmRlYnVnR3JhcGhpY3MpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy90ZXN0L0dhbWVUZXN0QS50cyIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vZ2VvbS9WZWN0b3IyXCI7XG5cbmV4cG9ydCBjbGFzcyBEaWdpdGFsSW5wdXQge1xuICAgIHB1YmxpYyBrZXlNYXA6IEFycmF5PG51bWJlcj47XG4gICAgcHVibGljIG1vdXNlUG9zaXRpb246IFZlY3RvcjI7XG4gICAgcHVibGljIG1vdXNlUHJldmlvdXNQb3NpdGlvbjogVmVjdG9yMjtcbiAgICBwdWJsaWMgbW91c2VPZmZzZXQ6IFZlY3RvcjI7XG4gICAgcHVibGljIGlucHV0Q29ycmVjdGlvbjogVmVjdG9yMjtcbiAgICBwcml2YXRlIGZyYW1lUmVmOiBudW1iZXI7XG4gICAgcHJpdmF0ZSB0YXJnZXQ6IEV2ZW50VGFyZ2V0O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMua2V5TWFwID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMua2V5TWFwW2ldID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vdXNlUG9zaXRpb24gPSBuZXcgVmVjdG9yMigpO1xuICAgICAgICB0aGlzLm1vdXNlUHJldmlvdXNQb3NpdGlvbiA9IG5ldyBWZWN0b3IyKCk7XG4gICAgICAgIHRoaXMubW91c2VPZmZzZXQgPSBuZXcgVmVjdG9yMigpO1xuICAgICAgICB0aGlzLmZyYW1lUmVmID0gMjtcbiAgICB9XG5cbiAgICBwdWJsaWMgSW5wdXRUYXJnZXQodGFyZ2V0OiBFdmVudFRhcmdldCwgaW5wdXRDb3JyZWN0aW9uOiBWZWN0b3IyKTogdm9pZCB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5LZXlEb3duLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLktleVVwLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5Nb3VzZURvd24uYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgICAgICAvL3RhcmdldC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLE1vdXNlRG93bixmYWxzZSk7XG5cbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMuTW91c2VVcC5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuTW91c2VNb3ZlLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICAgICAgLy8gdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoTW91c2VFdmVudC5SSUdIVF9NT1VTRV9ET1dOLCBSaWdodE1vdXNlRG93biwgZmFsc2UsIDAsIHRydWUpO1xuICAgICAgICAvLyB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihNb3VzZUV2ZW50LlJJR0hUX01PVVNFX1VQLCBSaWdodE1vdXNlVXAsIGZhbHNlLCAwLCB0cnVlKTtcbiAgICAgICAgdGhpcy5pbnB1dENvcnJlY3Rpb24gPSBpbnB1dENvcnJlY3Rpb247XG4gICAgfVxuXG4gICAgcHVibGljIFZpZXdDb3JyZWN0ZWRNb3VzZVBvc2l0aW9uKCkge1xuICAgICAgICB2YXIgcG9zID0gdGhpcy5tb3VzZVBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgIHBvcy5wbHVzRXF1YWxzKHRoaXMubW91c2VPZmZzZXQpO1xuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH1cblxuICAgIHB1YmxpYyBVcGRhdGUoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tb3VzZU9mZnNldC54ID0geDtcbiAgICAgICAgdGhpcy5tb3VzZU9mZnNldC55ID0geTtcbiAgICAgICAgdGhpcy5mcmFtZVJlZisrO1xuICAgICAgICAvLyBtb3VzZVByZXZpb3VzUG9zaXRpb24ueCA9IG1vdXNlUG9zaXRpb24ueDtcbiAgICAgICAgLy8gbW91c2VQcmV2aW91c1Bvc2l0aW9uLnkgPSBtb3VzZVBvc2l0aW9uLnk7XG4gICAgICAgIC8vIG1vdXNlUG9zaXRpb24ueCA9IHRhcmdldC5tb3VzZVggKyBzY3JlZW5PZmZzZXQueDtcbiAgICAgICAgLy8gbW91c2VQb3NpdGlvbi55ID0gdGFyZ2V0Lm1vdXNlWSArIHNjcmVlbk9mZnNldC55O1xuICAgIH1cblxuICAgIHB1YmxpYyBLZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmtleU1hcFtldmVudC5rZXlDb2RlXSA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmtleU1hcFtldmVudC5rZXlDb2RlXSA9IHRoaXMuZnJhbWVSZWY7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5rZXlNYXBbZXZlbnQua2V5Q29kZV0gPSAwO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBNb3VzZURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5rZXlNYXBbMjAwXSA9IHRoaXMuZnJhbWVSZWY7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIE1vdXNlVXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5rZXlNYXBbMjAwXSA9IDA7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIE1vdXNlTW92ZShldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLm1vdXNlUHJldmlvdXNQb3NpdGlvbi54ID0gdGhpcy5tb3VzZVBvc2l0aW9uLng7XG4gICAgICAgIHRoaXMubW91c2VQcmV2aW91c1Bvc2l0aW9uLnkgPSB0aGlzLm1vdXNlUG9zaXRpb24ueTtcbiAgICAgICAgdGhpcy5tb3VzZVBvc2l0aW9uLnggPSBldmVudC5jbGllbnRYIC0gdGhpcy5pbnB1dENvcnJlY3Rpb24ueDtcbiAgICAgICAgdGhpcy5tb3VzZVBvc2l0aW9uLnkgPSBldmVudC5jbGllbnRZIC0gdGhpcy5pbnB1dENvcnJlY3Rpb24ueTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICAvLyBwdWJsaWMgIFJpZ2h0TW91c2VEb3duKGV2ZW50IDogTW91c2VFdmVudCkgOiBWb2lkIHtcbiAgICAvLyAgICAga2V5TWFwWzIwMV0gPSBmcmFtZVJlZjtcbiAgICAvLyB9XG5cbiAgICAvLyBwdWJsaWMgIFJpZ2h0TW91c2VVcChldmVudCA6IE1vdXNlRXZlbnQpIDogVm9pZCB7XG4gICAgLy8gICAgIGtleU1hcFsyMDFdID0gMDtcbiAgICAvLyB9XG5cbiAgICBwdWJsaWMgUHJlc3NlZChrZXlDb2RlOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5TWFwW2tleUNvZGVdID4gMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgSnVzdFByZXNzZWQoa2V5Q29kZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleU1hcFtrZXlDb2RlXSA9PSB0aGlzLmZyYW1lUmVmIC0gMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgUHJlc3NlZER1cmF0aW9uKGtleUNvZGU6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IHRoaXMua2V5TWFwW2tleUNvZGVdO1xuICAgICAgICByZXR1cm4gZHVyYXRpb24gPiAwID8gdGhpcy5mcmFtZVJlZiAtIGR1cmF0aW9uIDogLTE7XG4gICAgfVxuXG4gICAgcHVibGljIFJlbGVhc2VkKGtleUNvZGU6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5rZXlNYXBba2V5Q29kZV0gPT0gMDtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvdXRpbC9EaWdpdGFsSW5wdXQudHMiLCJpbXBvcnQgeyBJQ29tcG9uZW50RmFjdG9yeSB9IGZyb20gXCIuL0NvbXBvbmVudFwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4vRW50aXR5XCI7XG5pbXBvcnQgeyBQb29sIH0gZnJvbSBcIi4uL3V0aWwvUG9vbFwiO1xuaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcIi4vU3lzdGVtXCI7XG5pbXBvcnQgeyBQaGFzZSB9IGZyb20gXCIuL1BoYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBFbmdpbmUge1xuICAgIHB1YmxpYyBjb21wb25lbnRzOiBNYXA8c3RyaW5nLCBhbnlbXT47XG4gICAgcHVibGljIHBoYXNlczogUGhhc2VbXTtcbiAgICBwdWJsaWMgc3lzdGVtczogU3lzdGVtW107XG4gICAgcHVibGljIGM0ZTogTWFwPEVudGl0eSwgR2V0QzRFPjtcbiAgICBwdWJsaWMgZW50aXR5UG9vbDogUG9vbDxFbnRpdHk+O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5waGFzZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy5zeXN0ZW1zID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRoaXMuYzRlID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmVudGl0eVBvb2wgPSBuZXcgUG9vbChpID0+IGkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRDYXBhY2l0eVRvRW5naW5lKGVudGl0eUNvdW50OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5lbnRpdHlQb29sLmFkZENhcGFjaXR5KGVudGl0eUNvdW50KTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzLmZvckVhY2goKF8sIG5hbWU6IHN0cmluZykgPT5cbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQobmFtZSwgWy4uLnRoaXMuY29tcG9uZW50cy5nZXQobmFtZSksIC4uLmVtcHR5TnVsbEFycmF5KHRoaXMuZW50aXR5UG9vbC5jYXBhY2l0eSldKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlRW50aXR5KCk6IEVudGl0eSB7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMuZW50aXR5UG9vbC5yZXNlcnZlKCk7XG4gICAgICAgIHRoaXMuYzRlLnNldChlbnRpdHksIGNyZWF0ZUdldENvbXBvbmVudEZvckVudGl0eSh0aGlzLCBlbnRpdHkpKTtcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVzdHJveUVudGl0eShlbnRpdHk6IEVudGl0eSk6IHZvaWQge1xuICAgICAgICB0aGlzLnN5c3RlbXMuZm9yRWFjaChzeXN0ZW0gPT4gc3lzdGVtLnJlbW92ZUVudGl0eShlbnRpdHkpKTtcbiAgICAgICAgdGhpcy5jbGVhckFsbENvbXBvbmVudHNGb3JFbnRpdHkoZW50aXR5KTtcbiAgICAgICAgdGhpcy5lbnRpdHlQb29sLmZyZWUoZW50aXR5KTtcbiAgICAgICAgdGhpcy5jNGUuZGVsZXRlKGVudGl0eSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENvbXBvbmVudEZvckVudGl0eShlbnRpdHk6IEVudGl0eSwgY29tcG9uZW50OiBJQ29tcG9uZW50RmFjdG9yeSkge1xuICAgICAgICBjb25zdCBuYW1lID0gY29tcG9uZW50Lm5hbWU7XG4gICAgICAgIGlmICh0aGlzLmNvbXBvbmVudHMuaGFzKG5hbWUpKSByZXR1cm4gdGhpcy5jb21wb25lbnRzLmdldChuYW1lKVtlbnRpdHldO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQ29tcG9uZW50c1RvRW50aXR5KGVudGl0eTogRW50aXR5LCBjb21wb25lbnRzVG9BZGQ6IGFueVtdKSB7XG4gICAgICAgIGNvbXBvbmVudHNUb0FkZC5mb3JFYWNoKGNvbXBvbmVudCA9PiB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gY29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY29tcG9uZW50cy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUNvbXBvbmVudEVudHJ5KG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmdldChuYW1lKVtlbnRpdHldID0gY29tcG9uZW50O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYXRjaEVudGl0eShlbnRpdHkpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVDb21wb25lbnRzRnJvbUVudGl0eShlbnRpdHk6IEVudGl0eSwgY29tcG9uZW50c1RvUmVtb3ZlOiBJQ29tcG9uZW50RmFjdG9yeVtdKSB7XG4gICAgICAgIGNvbXBvbmVudHNUb1JlbW92ZS5mb3JFYWNoKGNvbXBvbmVudCA9PiB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gY29tcG9uZW50Lm5hbWU7XG4gICAgICAgICAgICBpZiAodGhpcy5jb21wb25lbnRzLmhhcyhuYW1lKSkgdGhpcy5jb21wb25lbnRzLmdldChuYW1lKVtlbnRpdHldID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWF0Y2hFbnRpdHkoZW50aXR5KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkUGhhc2UocGhhc2U6IFBoYXNlKSB7XG4gICAgICAgIHBoYXNlLmVuZ2luZSA9IHRoaXM7XG4gICAgICAgIHRoaXMucGhhc2VzLnB1c2gocGhhc2UpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRQaGFzZVN5c3RlbVRvRW5naW5lKHN5c3RlbTogU3lzdGVtKSB7XG4gICAgICAgIHN5c3RlbS5lbmdpbmUgPSB0aGlzO1xuICAgICAgICB0aGlzLnN5c3RlbXMucHVzaChzeXN0ZW0pO1xuICAgICAgICBzeXN0ZW0uY29tcG9uZW50cy5mb3JFYWNoKChuYW1lOiBzdHJpbmcpID0+IHRoaXMuY3JlYXRlQ29tcG9uZW50RW50cnkobmFtZSkpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUoZHQ6IG51bWJlciwgdGltZXN0YW1wOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5waGFzZXMuZm9yRWFjaChwaGFzZSA9PiBwaGFzZS51cGRhdGVQaGFzZShkdCwgdGltZXN0YW1wKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHF1ZXJ5KHF1ZXJ5OiBJQ29tcG9uZW50RmFjdG9yeVtdKTogRW50aXR5W10ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVudGl0eVBvb2wuY2FwYWNpdHk7IGkrKykge1xuICAgICAgICAgICAgaWYgKHF1ZXJ5LmV2ZXJ5KGNvbXBvbmVudCA9PiB0aGlzLmNvbXBvbmVudHMuZ2V0KGNvbXBvbmVudC5uYW1lKVtpXSAhPT0gbnVsbCkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlQ29tcG9uZW50RW50cnkobmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQobmFtZSwgZW1wdHlOdWxsQXJyYXkodGhpcy5lbnRpdHlQb29sLmNhcGFjaXR5KSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtYXRjaEVudGl0eShlbnRpdHk6IEVudGl0eSkge1xuICAgICAgICB0aGlzLnN5c3RlbXMuZm9yRWFjaChcbiAgICAgICAgICAgIHN5c3RlbSA9PlxuICAgICAgICAgICAgICAgIHN5c3RlbS5jb21wb25lbnRzLnJlZHVjZShcbiAgICAgICAgICAgICAgICAgICAgKHN1bSwgbmFtZSkgPT4gKHRoaXMuY29tcG9uZW50cy5nZXQobmFtZSlbZW50aXR5XSA/IHN1bSAtIDEgOiBzdW0pLFxuICAgICAgICAgICAgICAgICAgICBzeXN0ZW0uY29tcG9uZW50cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgKSA9PT0gMFxuICAgICAgICAgICAgICAgICAgICA/IHN5c3RlbS5hZGRFbnRpdHkoZW50aXR5LCB0aGlzLmVudGl0eUNvbXBvbmVudHNGb3JTeXN0ZW0oZW50aXR5LCBzeXN0ZW0pKVxuICAgICAgICAgICAgICAgICAgICA6IHN5c3RlbS5yZW1vdmVFbnRpdHkoZW50aXR5KSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGVudGl0eUNvbXBvbmVudHNGb3JTeXN0ZW0oZW50aXR5OiBFbnRpdHksIHN5c3RlbTogU3lzdGVtKSB7XG4gICAgICAgIHJldHVybiBzeXN0ZW0uY29tcG9uZW50cy5tYXAobmFtZSA9PiB0aGlzLmNvbXBvbmVudHMuZ2V0KG5hbWUpW2VudGl0eV0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWRkRW50aXRpZXNUb0NvbXBvbmVudExpc3QoY29tcG9uZW50TmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQoY29tcG9uZW50TmFtZSwgZW1wdHlOdWxsQXJyYXkodGhpcy5lbnRpdHlQb29sLmNhcGFjaXR5KSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjbGVhckFsbENvbXBvbmVudHNGb3JFbnRpdHkoZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzLmZvckVhY2goKGVudGl0aWVzOiBFbnRpdHlbXSkgPT4gKGVudGl0aWVzW2VudGl0eV0gPSBudWxsKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNuYXBzaG90KCk6IGFueSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY3RpdmVFbnRpdGllczogdGhpcy5lbnRpdHlQb29sLmFzc2lnbmVkLFxuICAgICAgICAgICAgdG90YWxFbnRpdGllc0NyZWF0ZWQ6IHRoaXMuZW50aXR5UG9vbC50b3RhbEFsbG9jYXRpb25zLFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuLy8gY29uc3Qgc2V0SWRPbkNvbXBvbmVudCA9IChjb21wb25lbnQ6IElDb21wb25lbnQ8YW55PiwgaWQ6IG51bWJlcikgPT4gKGNvbXBvbmVudC5faWRfID0gaWQpO1xuY29uc3QgZW1wdHlBcnJheSA9ICgpID0+IFtdO1xuY29uc3QgZW1wdHlOdWxsQXJyYXkgPSBjb3VudCA9PiBBcnJheShjb3VudCkuZmlsbChudWxsKTtcblxuZXhwb3J0IGludGVyZmFjZSBHZXRDNEUge1xuICAgIChjb21wb25lbnQ6IElDb21wb25lbnRGYWN0b3J5KTogYW55O1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlR2V0Q29tcG9uZW50Rm9yRW50aXR5ID0gKGVuZ2luZTogRW5naW5lLCBlbnRpdHk6IEVudGl0eSk6IEdldEM0RSA9PiAoY29tcG9uZW50OiBJQ29tcG9uZW50RmFjdG9yeSkgPT5cbiAgICBlbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGVudGl0eSwgY29tcG9uZW50KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9lY3MvRW5naW5lLnRzIiwiaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSBcIi4uL3NpZ25hbHMvU2lnbmFsXCI7XG5cbmludGVyZmFjZSBJTG9hZGVyIHtcbiAgICBJbml0KHVybDogc3RyaW5nKTogdm9pZDtcbiAgICBMb2FkKCk6IHZvaWQ7XG4gICAgZ2V0S2V5KCk6IHN0cmluZztcbiAgICBnZXRWYWx1ZSgpOiBhbnk7XG59XG5cbmV4cG9ydCBjbGFzcyBBc3NldExvYWRlciB7XG4gICAgcHVibGljIGFzc2V0czogTWFwPHN0cmluZywgYW55PjtcbiAgICBwdWJsaWMgbG9hZGVyczogQXJyYXk8SUxvYWRlcj47XG4gICAgcHVibGljIGNvbXBsZXRlQ291bnQ6IG51bWJlcjtcbiAgICBwdWJsaWMgcnVubmluZzogYm9vbGVhbjtcblxuICAgIHB1YmxpYyBsb2FkZWQ6IFNpZ25hbDtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmFzc2V0cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5sb2FkZWQgPSBuZXcgU2lnbmFsKCk7XG4gICAgICAgIHRoaXMuUmVzZXQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgUmVzZXQoKSB7XG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvYWRlcnMgPSBuZXcgQXJyYXk8SUxvYWRlcj4oKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgU2V0SW1hZ2VzVG9Mb2FkKHVybHM6IEFycmF5PHN0cmluZz4pIHtcbiAgICAgICAgdXJscy5mb3JFYWNoKHVybCA9PiB0aGlzLkFkZEFzc2V0KHVybCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBBZGRBc3NldCh1cmw6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5ydW5uaW5nID09IHRydWUpIHJldHVybjtcbiAgICAgICAgdmFyIGxvYWRlciA9IHRoaXMuTG9hZGVyRmFjdG9yeSh1cmwpO1xuICAgICAgICBsb2FkZXIuSW5pdCh1cmwpO1xuICAgICAgICB0aGlzLmxvYWRlcnMucHVzaChsb2FkZXIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgTG9hZGVyRmFjdG9yeSh1cmw6IHN0cmluZyk6IElMb2FkZXIge1xuICAgICAgICB2YXIgZXh0ZW50aW9uID0gdXJsLnN1YnN0cmluZyh1cmwubGVuZ3RoIC0gMywgdXJsLmxlbmd0aCk7XG4gICAgICAgIGlmIChleHRlbnRpb24gPT0gXCJwbmdcIikgcmV0dXJuIG5ldyBJbWFnZUFzc2V0KHRoaXMpO1xuICAgICAgICBpZiAoZXh0ZW50aW9uID09IFwidG14XCIgfHwgZXh0ZW50aW9uID09IFwieG1sXCIgfHwgZXh0ZW50aW9uID09IFwic29uXCIpIHJldHVybiBuZXcgQmxvYkFzc2V0KHRoaXMpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgTG9hZCgpIHtcbiAgICAgICAgaWYgKHRoaXMucnVubmluZyA9PSB0cnVlIHx8IHRoaXMubG9hZGVycy5sZW5ndGggPT0gMCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmNvbXBsZXRlQ291bnQgPSB0aGlzLmxvYWRlcnMubGVuZ3RoO1xuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmxvYWRlcnMuZm9yRWFjaChsb2FkZXIgPT4gbG9hZGVyLkxvYWQoKSk7XG4gICAgfVxuXG4gICAgcHVibGljIG9uTG9hZChpdGVtOiBJTG9hZGVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29tcGxldGVDb3VudC0tO1xuICAgICAgICB0aGlzLmFzc2V0cy5zZXQoaXRlbS5nZXRLZXkoKSwgaXRlbS5nZXRWYWx1ZSgpKTtcbiAgICAgICAgaWYgKHRoaXMuY29tcGxldGVDb3VudCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRlZC5kaXNwYXRjaCgpO1xuICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEltYWdlQXNzZXQgaW1wbGVtZW50cyBJTG9hZGVyIHtcbiAgICBwdWJsaWMgbWdyOiBBc3NldExvYWRlcjtcbiAgICBwdWJsaWMgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgcHVibGljIHVybDogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IobWdyOiBBc3NldExvYWRlcikge1xuICAgICAgICB0aGlzLm1nciA9IG1ncjtcbiAgICB9XG5cbiAgICBwdWJsaWMgSW5pdCh1cmw6IHN0cmluZykge1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICAgICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICB0aGlzLmltYWdlLm9ubG9hZCA9IHRoaXMub25Mb2FkLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaW1hZ2UuY3Jvc3NPcmlnaW4gPSBcImFub255bW91c1wiO1xuICAgIH1cblxuICAgIHB1YmxpYyBMb2FkKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmltYWdlLnNyYyA9IHRoaXMudXJsICsgXCI/Y2I9XCIgKyBEYXRlLm5vdygpO1xuICAgICAgICBpZiAodGhpcy5pbWFnZS5jb21wbGV0ZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLm9uTG9hZChudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBvbkxvYWQoZXZlbnQ6IEV2ZW50KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLm1nciAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLm1nci5vbkxvYWQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0S2V5KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VmFsdWUoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2U7XG4gICAgfVxufVxuXG5jbGFzcyBCbG9iQXNzZXQgaW1wbGVtZW50cyBJTG9hZGVyIHtcbiAgICBwdWJsaWMgbWdyOiBBc3NldExvYWRlcjtcbiAgICBwdWJsaWMgeGhyOiBYTUxIdHRwUmVxdWVzdDtcbiAgICBwdWJsaWMgdXJsOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihtZ3I6IEFzc2V0TG9hZGVyKSB7XG4gICAgICAgIHRoaXMubWdyID0gbWdyO1xuICAgIH1cblxuICAgIHB1YmxpYyBJbml0KHVybDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLnhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB0aGlzLnhoci5yZXNwb25zZVR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgdGhpcy54aHIub25sb2FkID0gdGhpcy5vbkxvYWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy54aHIub3BlbihcIkdFVFwiLCB0aGlzLnVybCArIFwiP2NiPVwiICsgRGF0ZS5ub3coKSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIExvYWQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMueGhyLnNlbmQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb25Mb2FkKGV2ZW50OiBFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5tZ3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5tZ3Iub25Mb2FkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldEtleSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy51cmw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFZhbHVlKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLnhoci5yZXNwb25zZTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvdXRpbC9Bc3NldExvYWRlci50cyIsImltcG9ydCB7IFNpZ25hbCB9IGZyb20gXCIuL1NpZ25hbFwiO1xuXG5leHBvcnQgY2xhc3MgU2lnbmFsQmluZGluZyB7XG4gICAgcHJpdmF0ZSBfbGlzdGVuZXI7XG4gICAgcHJpdmF0ZSBfaXNPbmNlOiBib29sZWFuO1xuXG4gICAgcHVibGljIGNvbnRleHQ7XG4gICAgcHJpdmF0ZSBfc2lnbmFsOiBTaWduYWw7XG4gICAgcHVibGljIHByaW9yaXR5OiBudW1iZXI7XG4gICAgcHVibGljIGFjdGl2ZTogYm9vbGVhbiA9IHRydWU7XG4gICAgcHVibGljIHBhcmFtcyA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvcihzaWduYWw6IFNpZ25hbCwgbGlzdGVuZXIsIGlzT25jZTogYm9vbGVhbiwgbGlzdGVuZXJDb250ZXh0LCBwcmlvcml0eTogbnVtYmVyID0gMCkge1xuICAgICAgICB0aGlzLl9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLl9pc09uY2UgPSBpc09uY2U7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGxpc3RlbmVyQ29udGV4dDtcbiAgICAgICAgdGhpcy5fc2lnbmFsID0gc2lnbmFsO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHkgfHwgMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZXhlY3V0ZShwYXJhbXNBcnI/OiBhbnlbXSkge1xuICAgICAgICB2YXIgaGFuZGxlclJldHVybjtcbiAgICAgICAgdmFyIHBhcmFtcztcblxuICAgICAgICBpZiAodGhpcy5hY3RpdmUgJiYgISF0aGlzLl9saXN0ZW5lcikge1xuICAgICAgICAgICAgcGFyYW1zID0gdGhpcy5wYXJhbXMgPyB0aGlzLnBhcmFtcy5jb25jYXQocGFyYW1zQXJyKSA6IHBhcmFtc0FycjtcblxuICAgICAgICAgICAgaGFuZGxlclJldHVybiA9IHRoaXMuX2xpc3RlbmVyLmFwcGx5KHRoaXMuY29udGV4dCwgcGFyYW1zKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzT25jZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaGFuZGxlclJldHVybjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGV0YWNoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0JvdW5kKCkgPyB0aGlzLl9zaWduYWwucmVtb3ZlKHRoaXMuX2xpc3RlbmVyLCB0aGlzLmNvbnRleHQpIDogbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNCb3VuZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fc2lnbmFsICYmICEhdGhpcy5fbGlzdGVuZXI7XG4gICAgfVxuXG4gICAgcHVibGljIGlzT25jZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzT25jZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TGlzdGVuZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0ZW5lcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2lnbmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2lnbmFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBfZGVzdHJveSgpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3NpZ25hbDtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xpc3RlbmVyO1xuICAgICAgICBkZWxldGUgdGhpcy5jb250ZXh0O1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgXCJbU2lnbmFsQmluZGluZyBpc09uY2U6XCIgKyB0aGlzLl9pc09uY2UgKyBcIiwgaXNCb3VuZDpcIiArIHRoaXMuaXNCb3VuZCgpICsgXCIsIGFjdGl2ZTpcIiArIHRoaXMuYWN0aXZlICsgXCJdXCJcbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvc2lnbmFscy9TaWduYWxCaW5kaW5nLnRzIiwiY29uc3QgTUlOX0RFTFRBOiBudW1iZXIgPSAxMDAwIC8gNjAgKyAxZS04O1xuXG5leHBvcnQgY2xhc3MgR2FtZUxvb3Age1xuICAgIHB1YmxpYyBpc1J1bm5pbmc6IGJvb2xlYW47XG4gICAgcHVibGljIGFuaW1hdGlvblN0YXJ0VGltZXN0YW1wOiBudW1iZXI7XG4gICAgcHVibGljIHByZXZBbmltYXRpb25UaW1lOiBudW1iZXI7XG4gICAgcHVibGljIGRlbHRhOiBudW1iZXI7XG4gICAgcHJpdmF0ZSByYWZJRDogbnVtYmVyO1xuXG4gICAgcHVibGljIHVwZGF0ZUZ1bmM6IChkdDogbnVtYmVyLCB0aW1lc3RhbXA6IG51bWJlcikgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZSh0aW1lc3RhbXA6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICB0aGlzLmRlbHRhID0gdGhpcy5wcmV2QW5pbWF0aW9uVGltZSA9PSAwID8gTUlOX0RFTFRBIDogdGltZXN0YW1wIC0gdGhpcy5wcmV2QW5pbWF0aW9uVGltZTtcbiAgICAgICAgdGhpcy5wcmV2QW5pbWF0aW9uVGltZSA9IHRpbWVzdGFtcDtcbiAgICAgICAgaWYgKHRoaXMudXBkYXRlRnVuYyAhPSBudWxsKVxuICAgICAgICAgICAgLy90cmFjZShNYXRoLm1heChkZWx0YSxNSU5fREVMVEEpKTtcbiAgICAgICAgICAgIC8vdXBkYXRlRnVuYyhNYXRoLm1heChkZWx0YSxNSU5fREVMVEEpLE1hdGguZmxvb3IodGltZXN0YW1wKSk7XG4gICAgICAgICAgICAvLyB1cGRhdGVGdW5jKDEwMDAvNjAsTWF0aC5mbG9vcih0aW1lc3RhbXApKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRnVuYyhNSU5fREVMVEEsIE1hdGguZmxvb3IodGltZXN0YW1wKSk7XG4gICAgICAgIHRoaXMucmFmSUQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGFydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNSdW5uaW5nID09IHRydWUpIHJldHVybjtcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnByZXZBbmltYXRpb25UaW1lID0gMDtcbiAgICAgICAgdGhpcy5yYWZJRCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmcgPT0gZmFsc2UpIHJldHVybjtcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMucmFmSUQpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS91dGlsL0dhbWVMb29wLnRzIiwiaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2Vjcy9TeXN0ZW1cIjtcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29tcG9uZW50cy9Qb3NpdGlvblwiO1xuaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9HcmFwaGljc1wiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IFN0YWdlIH0gZnJvbSBcIi4uL2Rpc3BsYXlsaXN0L1N0YWdlXCI7XG5pbXBvcnQgeyBDYW1lcmEgfSBmcm9tIFwiLi4vZGlzcGxheWxpc3QvQ2FtZXJhXCI7XG5pbXBvcnQgeyBSZW5kZXJlckVuZ2luZSB9IGZyb20gXCIuLi9yZW5kZXIvUmVuZGVyRW5naW5lXCI7XG5pbXBvcnQgeyBBQUJCMiB9IGZyb20gXCIuLi8uLi9nZW9tL0FBQkIyXCI7XG5pbXBvcnQgeyBUZXh0dXJlTWFuYWdlciB9IGZyb20gXCIuLi90ZXh0dXJlL1RleHR1cmVNYW5hZ2VyXCI7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0Q29udGFpbmVyIH0gZnJvbSBcIi4uL2Rpc3BsYXlsaXN0L0Rpc3BsYXlPYmplY3RDb250YWluZXJcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vLi4vZ2VvbS9WZWN0b3IyXCI7XG5pbXBvcnQgeyBGcmFtZUxpc3RNYW5hZ2VyIH0gZnJvbSBcIi4uL2ZyYW1lL0ZyYW1lTGlzdE1hbmFnZXJcIjtcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gXCIuLi9kaXNwbGF5bGlzdC9TcHJpdGVcIjtcblxuZXhwb3J0IGNsYXNzIEdyYXBoaWNzUmVuZGVyU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICBwcml2YXRlIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgcHVibGljIHN0YWdlOiBTdGFnZTtcbiAgICBwdWJsaWMgcmVuZGVyZXI6IFJlbmRlcmVyRW5naW5lO1xuICAgIHB1YmxpYyBjYW1lcmE6IENhbWVyYTtcbiAgICBwdWJsaWMgdGV4dHVyZU1hbmFnZXI6IFRleHR1cmVNYW5hZ2VyO1xuICAgIHB1YmxpYyBpdGVtQ29udGFpbmVyOiBEaXNwbGF5T2JqZWN0Q29udGFpbmVyO1xuICAgIHB1YmxpYyBmcmFtZUxpc3RNYW5hZ2VyOiBGcmFtZUxpc3RNYW5hZ2VyO1xuICAgIHByaXZhdGUgX2NhbWVyYVRhcmdldDogVmVjdG9yMjtcblxuICAgIGNvbnN0cnVjdG9yKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIGNhbWVyYTpDYW1lcmEsIHNjcmVlbkRpbWVuc2lvbjpWZWN0b3IyKSB7XG4gICAgICAgIHN1cGVyKFtQb3NpdGlvbiwgR3JhcGhpY3NdKTtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIHRoaXMuc3RhZ2UgPSBuZXcgU3RhZ2UoKTtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XG4gICAgICAgIHRoaXMuc3RhZ2UuYWRkQ2hpbGQodGhpcy5jYW1lcmEpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyRW5naW5lKHRoaXMuc3RhZ2UsIHRoaXMuY2FtZXJhLCB0aGlzLmNhbnZhcywgc2NyZWVuRGltZW5zaW9uLngsIHNjcmVlbkRpbWVuc2lvbi55KTtcbiAgICAgICAgdGhpcy5jYW1lcmEuUmVzaXplKHRoaXMucmVuZGVyZXIud2lkdGgsIHRoaXMucmVuZGVyZXIuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlciA9IG5ldyBUZXh0dXJlTWFuYWdlcih0aGlzLnJlbmRlcmVyLmdsKTtcbiAgICAgICAgdGhpcy5mcmFtZUxpc3RNYW5hZ2VyID0gbmV3IEZyYW1lTGlzdE1hbmFnZXIodGhpcy50ZXh0dXJlTWFuYWdlcik7XG5cbiAgICAgICAgdGhpcy5pdGVtQ29udGFpbmVyID0gbmV3IERpc3BsYXlPYmplY3RDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5pdGVtQ29udGFpbmVyLmlkID0gXCJpdGVtQ29udGFpbmVyXCI7XG4gICAgICAgIHRoaXMuY2FtZXJhLmFkZENoaWxkKHRoaXMuaXRlbUNvbnRhaW5lcik7ICAgIH1cblxuICAgIGluaXRhbGl6ZSgpIHtcbiAgICB9XG5cbiAgICBvbkVudGl0eUFkZGVkKGVudGl0eTogRW50aXR5LCBwb3NpdGlvbjogUG9zaXRpb24sIGdyYXBoaWNzOiBHcmFwaGljcykge1xuICAgICAgICBpZiAoZ3JhcGhpY3Muc3ByaXRlID09IG51bGwpIHtcbiAgICAgICAgICAgIGdyYXBoaWNzLnNwcml0ZSA9IG5ldyBTcHJpdGUoKTtcbiAgICAgICAgICAgIGdyYXBoaWNzLmZyYW1lTGlzdCA9IHRoaXMuZnJhbWVMaXN0TWFuYWdlci5nZXRGcmFtZUxpc3QoZ3JhcGhpY3MuZnJhbWVMaXN0SWQpO1xuICAgICAgICAgICAgaWYgKGdyYXBoaWNzLmluaXRpYWxGcmFtZUlkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBncmFwaGljcy5zZXRGcmFtZShncmFwaGljcy5mcmFtZUxpc3QuZ2V0RnJhbWUoZ3JhcGhpY3MuaW5pdGlhbEZyYW1lSWQpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ3JhcGhpY3Muc2V0RnJhbWUoZ3JhcGhpY3MuZnJhbWVMaXN0LmZyYW1lc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBncmFwaGljcy5zcHJpdGUucG9zaXRpb24gPSBwb3NpdGlvbi5jb29yZHM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pdGVtQ29udGFpbmVyLmFkZENoaWxkKGdyYXBoaWNzLnNwcml0ZSk7XG4gICAgfVxuXG4gICAgb25FbnRpdHlSZW1vdmVkKGVudGl0eTogRW50aXR5LCBwb3NpdGlvbjogUG9zaXRpb24sIGdyYXBoaWNzOiBHcmFwaGljcykge1xuICAgICAgICB0aGlzLml0ZW1Db250YWluZXIucmVtb3ZlQ2hpbGQoZ3JhcGhpY3Muc3ByaXRlKTtcbiAgICB9XG5cbiAgICB1cGRhdGVTeXN0ZW0oKSB7XG4gICAgICAgIHRoaXMuY2FtZXJhLkZvY3VzKHRoaXMuX2NhbWVyYVRhcmdldC54LCB0aGlzLl9jYW1lcmFUYXJnZXQueSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuUmVuZGVyKHRoaXMuY2FtZXJhLnZpZXdQb3J0QUFCQik7XG4gICAgfVxuXG4gICAgc2V0IGNhbWVyYVRhcmdldCh0YXJnZXQ6IFZlY3RvcjIpIHtcbiAgICAgICAgdGhpcy5fY2FtZXJhVGFyZ2V0ID0gdGFyZ2V0O1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9ncmFwaGljcy9zeXN0ZW1zL0dyYXBoaWNzUmVuZGVyU3lzdGVtLnRzIiwiaW1wb3J0IHsgRGlzcGxheU9iamVjdENvbnRhaW5lciB9IGZyb20gXCIuL0Rpc3BsYXlPYmplY3RDb250YWluZXJcIjtcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gXCIuL1Nwcml0ZVwiO1xuXG5leHBvcnQgY2xhc3MgU3RhZ2UgZXh0ZW5kcyBEaXNwbGF5T2JqZWN0Q29udGFpbmVyIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlkID0gXCJTdGFnZVwiO1xuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVUcmFuc2Zvcm0oKSB7IFxuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmhlYWQ7XG4gICAgICAgIHdoaWxlIChjaGlsZCE9bnVsbCkge1xuICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHQ7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ3JhcGhpY3MvZGlzcGxheWxpc3QvU3RhZ2UudHMiLCJpbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgQ3JlYXRlIH0gZnJvbSBcIi4uLy4uL2dlb20vTWF0cml4M1wiO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdENvbnRhaW5lciB9IGZyb20gXCIuL0Rpc3BsYXlPYmplY3RDb250YWluZXJcIjtcbmltcG9ydCB7IEFBQkIyIH0gZnJvbSBcIi4uLy4uL2dlb20vQUFCQjJcIjtcbmltcG9ydCB7IFN0YWdlIH0gZnJvbSBcIi4vU3RhZ2VcIjtcblxuXG5leHBvcnQgY2xhc3MgRGlzcGxheU9iamVjdCBcbntcbiAgICBwdWJsaWMgaWQ6c3RyaW5nO1xuICAgIHB1YmxpYyBwb3NpdGlvbjpWZWN0b3IyO1xuICAgIHB1YmxpYyBzY2FsZTpWZWN0b3IyO1xuICAgIHB1YmxpYyBwaXZvdDpWZWN0b3IyO1xuICAgIHByaXZhdGUgX3JvdGF0aW9uOm51bWJlcjtcbiAgICBwcml2YXRlIF9yb3RhdGlvbkNvbXBvbmVudHM6VmVjdG9yMjtcbiAgICBwdWJsaWMgYWxwaGE6bnVtYmVyO1xuICAgIHByaXZhdGUgX3Zpc2libGU6Ym9vbGVhbjtcbiAgICBwdWJsaWMgcmVuZGVyYWJsZTpib29sZWFuO1xuXG4gICAgcHVibGljIGFhYmI6QUFCQjI7XG5cbiAgICBwdWJsaWMgcGFyZW50OkRpc3BsYXlPYmplY3RDb250YWluZXI7XG5cbiAgICBwdWJsaWMgd29ybGRUcmFuc2Zvcm06RmxvYXQzMkFycmF5O1xuICAgIHB1YmxpYyB3b3JsZEFscGhhOm51bWJlcjtcbiAgICBwdWJsaWMgbG9jYWxUcmFuc2Zvcm06RmxvYXQzMkFycmF5O1xuXG4gICAgcHVibGljIHByZXY6RGlzcGxheU9iamVjdDtcbiAgICBwdWJsaWMgbmV4dDpEaXNwbGF5T2JqZWN0O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXcgVmVjdG9yMigpO1xuICAgICAgICB0aGlzLnNjYWxlID0gbmV3IFZlY3RvcjIoMSwxKTtcbiAgICAgICAgdGhpcy5waXZvdCA9IG5ldyBWZWN0b3IyKCk7XG4gICAgICAgIHRoaXMuX3JvdGF0aW9uQ29tcG9uZW50cyA9IG5ldyBWZWN0b3IyKCk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSAwO1xuICAgICAgICB0aGlzLmFscGhhID0gMTtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWFiYiA9IG5ldyBBQUJCMigpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0gPSBDcmVhdGUoKTtcbiAgICAgICAgdGhpcy5sb2NhbFRyYW5zZm9ybSA9IENyZWF0ZSgpO1xuICAgIH1cblxuICAgIGdldCByb3RhdGlvbigpOm51bWJlciB7ICBcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uO1xuICAgIH1cblxuICAgIHNldCByb3RhdGlvbih2Om51bWJlcikge1xuICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHY7XG4gICAgICAgIHRoaXMuX3JvdGF0aW9uQ29tcG9uZW50cy54ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24pO1xuICAgICAgICB0aGlzLl9yb3RhdGlvbkNvbXBvbmVudHMueSA9IE1hdGguc2luKHRoaXMuX3JvdGF0aW9uKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHZpc2libGUoKTpib29sZWFuIHsgIFxuICAgICAgICByZXR1cm4gdGhpcy5fdmlzaWJsZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHZpc2libGUodjpib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSB2O1xuICAgIH1cbiAgICBwdWJsaWMgUm91bmRGdW5jdGlvbih2Om51bWJlcik6bnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgIC8vIHJldHVybiBNYXRoLnJvdW5kKHYpO1xuICAgICAgICAvLyByZXR1cm4gTWF0aC5yb3VuZCggdiAqIDEwKSAvIDEwO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVUcmFuc2Zvcm0oKSB7XG4gICAgICAgIC8vVE9ETyBSb3VuZGluZyBhdCB0aGUgbW9tZW50Li4uXG4gICAgICAgIC8vcG9zaXRpb24ueCA9IE1hdGgucm91bmQocG9zaXRpb24ueCk7XG4gICAgICAgIC8vcG9zaXRpb24ueSA9IE1hdGgucm91bmQocG9zaXRpb24ueSk7XG5cbiAgICAgICAgLy9KUyBoYWNrLCBtdWNoIGZhc3Rlci4uLlxuICAgICAgICAgLy8gdmFyIHBvc2l0aW9ueDpudW1iZXIgPSB1bnR5cGVkeygwLjUgKyBwb3NpdGlvbi54KSA+PiAwO307XG4gICAgICAgICAvLyB2YXIgcG9zaXRpb255Om51bWJlciA9IHVudHlwZWR7KDAuNSArIHBvc2l0aW9uLnkpID4+IDA7fTtcbiAgICAgICAgLy9wb3NpdGlvbnggPSBjYXN0IE1hdGgucm91bmQoIHBvc2l0aW9uLnggKiAxMCkgLyAxMDtcbiAgICAgICAgLy9wb3NpdGlvbnkgPSBjYXN0IE1hdGgucm91bmQoIHBvc2l0aW9uLnkgKiAxMCkgLyAxMDtcblxuICAgICAgICAvLyB2YXIgcG9zaXRpb254ID0gcG9zaXRpb24ueDtcbiAgICAgICAgLy8gdmFyIHBvc2l0aW9ueSA9IHBvc2l0aW9uLnk7XG5cbiAgICAgICAgdmFyIHBvc2l0aW9ueDpudW1iZXIgPSBNYXRoLmZsb29yKHRoaXMucG9zaXRpb24ueCk7XG4gICAgICAgIHZhciBwb3NpdGlvbnk6bnVtYmVyID0gTWF0aC5mbG9vcih0aGlzLnBvc2l0aW9uLnkpO1xuXG4gICAgICAgIHZhciBzaW5SID0gdGhpcy5fcm90YXRpb25Db21wb25lbnRzLnk7Ly9NYXRoLnNpbihyb3RhdGlvbik7XG4gICAgICAgIHZhciBjb3NSID0gdGhpcy5fcm90YXRpb25Db21wb25lbnRzLng7Ly9NYXRoLmNvcyhyb3RhdGlvbik7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmxvY2FsVHJhbnNmb3JtWzBdID0gIGNvc1IgKiB0aGlzLnNjYWxlLng7XG4gICAgICAgIHRoaXMubG9jYWxUcmFuc2Zvcm1bMV0gPSAtc2luUiAqIHRoaXMuc2NhbGUueTtcbiAgICAgICAgdGhpcy5sb2NhbFRyYW5zZm9ybVszXSA9ICBzaW5SICogdGhpcy5zY2FsZS54O1xuICAgICAgICB0aGlzLmxvY2FsVHJhbnNmb3JtWzRdID0gIGNvc1IgKiB0aGlzLnNjYWxlLnk7XG5cbiAgICAgICAgdmFyIHB4ID0gdGhpcy5waXZvdC54O1xuICAgICAgICB2YXIgcHkgPSB0aGlzLnBpdm90Lnk7XG5cbiAgICAgICAgdmFyIHBhcmVudFRyYW5zZm9ybSA9IHRoaXMucGFyZW50LndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgIHZhciBhMDAgPSB0aGlzLmxvY2FsVHJhbnNmb3JtWzBdO1xuICAgICAgICB2YXIgYTAxID0gdGhpcy5sb2NhbFRyYW5zZm9ybVsxXTtcbiAgICAgICAgdmFyIGEwMiA9IHBvc2l0aW9ueCAtIHRoaXMubG9jYWxUcmFuc2Zvcm1bMF0gKiBweCAtIHB5ICogdGhpcy5sb2NhbFRyYW5zZm9ybVsxXTtcbiAgICAgICAgdmFyIGExMCA9IHRoaXMubG9jYWxUcmFuc2Zvcm1bM107XG4gICAgICAgIHZhciBhMTEgPSB0aGlzLmxvY2FsVHJhbnNmb3JtWzRdO1xuICAgICAgICB2YXIgYTEyID0gcG9zaXRpb255IC0gdGhpcy5sb2NhbFRyYW5zZm9ybVs0XSAqIHB5IC0gcHggKiB0aGlzLmxvY2FsVHJhbnNmb3JtWzNdO1xuICAgICAgICB2YXIgYjAwID0gcGFyZW50VHJhbnNmb3JtWzBdO1xuICAgICAgICB2YXIgYjAxID0gcGFyZW50VHJhbnNmb3JtWzFdO1xuICAgICAgICB2YXIgYjAyID0gcGFyZW50VHJhbnNmb3JtWzJdO1xuICAgICAgICB2YXIgYjEwID0gcGFyZW50VHJhbnNmb3JtWzNdO1xuICAgICAgICB2YXIgYjExID0gcGFyZW50VHJhbnNmb3JtWzRdO1xuICAgICAgICB2YXIgYjEyID0gcGFyZW50VHJhbnNmb3JtWzVdO1xuXG4gICAgICAgIHRoaXMubG9jYWxUcmFuc2Zvcm1bMl0gPSBhMDI7XG4gICAgICAgIHRoaXMubG9jYWxUcmFuc2Zvcm1bNV0gPSBhMTI7XG5cbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybVswXSA9IGIwMCAqIGEwMCArIGIwMSAqIGExMDtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybVsxXSA9IGIwMCAqIGEwMSArIGIwMSAqIGExMTtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybVsyXSA9IGIwMCAqIGEwMiArIGIwMSAqIGExMiArIGIwMjtcblxuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtWzNdID0gYjEwICogYTAwICsgYjExICogYTEwO1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtWzRdID0gYjEwICogYTAxICsgYjExICogYTExO1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtWzVdID0gYjEwICogYTAyICsgYjExICogYTEyICsgYjEyO1xuXG4gICAgICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEqdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcblxuICAgIH1cblxuICAgIHB1YmxpYyBjYWxjRXh0ZW50cygpIHtcbiAgICAgICAgXG4gICAgfVxuXG5cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ3JhcGhpY3MvZGlzcGxheWxpc3QvRElzcGxheU9iamVjdC50cyIsImV4cG9ydCBmdW5jdGlvbiBDcmVhdGUoKTogRmxvYXQzMkFycmF5IHtcbiAgICByZXR1cm4gSWRlbnRpdHkobmV3IEZsb2F0MzJBcnJheSg5KSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJZGVudGl0eShtYXRyaXg6IEZsb2F0MzJBcnJheSk6IEZsb2F0MzJBcnJheSB7XG4gICAgbWF0cml4WzBdID0gMTtcbiAgICBtYXRyaXhbMV0gPSAwO1xuICAgIG1hdHJpeFsyXSA9IDA7XG4gICAgbWF0cml4WzNdID0gMDtcbiAgICBtYXRyaXhbNF0gPSAxO1xuICAgIG1hdHJpeFs1XSA9IDA7XG4gICAgbWF0cml4WzZdID0gMDtcbiAgICBtYXRyaXhbN10gPSAwO1xuICAgIG1hdHJpeFs4XSA9IDE7XG4gICAgcmV0dXJuIG1hdHJpeDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE11bHRpcGx5KG1hdDogRmxvYXQzMkFycmF5LCBtYXQyOiBGbG9hdDMyQXJyYXksIGRlc3Q6IEZsb2F0MzJBcnJheSk6IEZsb2F0MzJBcnJheSB7XG4gICAgaWYgKGRlc3QgIT0gbnVsbCkgZGVzdCA9IG1hdDtcblxuICAgIHZhciBhMDAgPSBtYXRbMF0sXG4gICAgICAgIGEwMSA9IG1hdFsxXSxcbiAgICAgICAgYTAyID0gbWF0WzJdLFxuICAgICAgICBhMTAgPSBtYXRbM10sXG4gICAgICAgIGExMSA9IG1hdFs0XSxcbiAgICAgICAgYTEyID0gbWF0WzVdLFxuICAgICAgICBhMjAgPSBtYXRbNl0sXG4gICAgICAgIGEyMSA9IG1hdFs3XSxcbiAgICAgICAgYTIyID0gbWF0WzhdLFxuICAgICAgICBiMDAgPSBtYXQyWzBdLFxuICAgICAgICBiMDEgPSBtYXQyWzFdLFxuICAgICAgICBiMDIgPSBtYXQyWzJdLFxuICAgICAgICBiMTAgPSBtYXQyWzNdLFxuICAgICAgICBiMTEgPSBtYXQyWzRdLFxuICAgICAgICBiMTIgPSBtYXQyWzVdLFxuICAgICAgICBiMjAgPSBtYXQyWzZdLFxuICAgICAgICBiMjEgPSBtYXQyWzddLFxuICAgICAgICBiMjIgPSBtYXQyWzhdO1xuXG4gICAgZGVzdFswXSA9IGIwMCAqIGEwMCArIGIwMSAqIGExMCArIGIwMiAqIGEyMDtcbiAgICBkZXN0WzFdID0gYjAwICogYTAxICsgYjAxICogYTExICsgYjAyICogYTIxO1xuICAgIGRlc3RbMl0gPSBiMDAgKiBhMDIgKyBiMDEgKiBhMTIgKyBiMDIgKiBhMjI7XG5cbiAgICBkZXN0WzNdID0gYjEwICogYTAwICsgYjExICogYTEwICsgYjEyICogYTIwO1xuICAgIGRlc3RbNF0gPSBiMTAgKiBhMDEgKyBiMTEgKiBhMTEgKyBiMTIgKiBhMjE7XG4gICAgZGVzdFs1XSA9IGIxMCAqIGEwMiArIGIxMSAqIGExMiArIGIxMiAqIGEyMjtcblxuICAgIGRlc3RbNl0gPSBiMjAgKiBhMDAgKyBiMjEgKiBhMTAgKyBiMjIgKiBhMjA7XG4gICAgZGVzdFs3XSA9IGIyMCAqIGEwMSArIGIyMSAqIGExMSArIGIyMiAqIGEyMTtcbiAgICBkZXN0WzhdID0gYjIwICogYTAyICsgYjIxICogYTEyICsgYjIyICogYTIyO1xuXG4gICAgcmV0dXJuIGRlc3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDbG9uZShtYXQ6IEZsb2F0MzJBcnJheSk6IEZsb2F0MzJBcnJheSB7XG4gICAgdmFyIG1hdHJpeCA9IG5ldyBGbG9hdDMyQXJyYXkoOSk7XG4gICAgbWF0cml4WzBdID0gbWF0WzBdO1xuICAgIG1hdHJpeFsxXSA9IG1hdFsxXTtcbiAgICBtYXRyaXhbMl0gPSBtYXRbMl07XG4gICAgbWF0cml4WzNdID0gbWF0WzNdO1xuICAgIG1hdHJpeFs0XSA9IG1hdFs0XTtcbiAgICBtYXRyaXhbNV0gPSBtYXRbNV07XG4gICAgbWF0cml4WzZdID0gbWF0WzZdO1xuICAgIG1hdHJpeFs3XSA9IG1hdFs3XTtcbiAgICBtYXRyaXhbOF0gPSBtYXRbOF07XG5cbiAgICByZXR1cm4gbWF0cml4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVHJhbnNwb3NlKG1hdDogRmxvYXQzMkFycmF5LCBkZXN0OiBGbG9hdDMyQXJyYXkpOiBGbG9hdDMyQXJyYXkge1xuICAgIGlmIChkZXN0ICE9IG51bGwgfHwgbWF0ID09IGRlc3QpIHtcbiAgICAgICAgdmFyIGEwMSA9IG1hdFsxXSxcbiAgICAgICAgICAgIGEwMiA9IG1hdFsyXSxcbiAgICAgICAgICAgIGExMiA9IG1hdFs1XTtcbiAgICAgICAgbWF0WzFdID0gbWF0WzNdO1xuICAgICAgICBtYXRbMl0gPSBtYXRbNl07XG4gICAgICAgIG1hdFszXSA9IGEwMTtcbiAgICAgICAgbWF0WzVdID0gbWF0WzddO1xuICAgICAgICBtYXRbNl0gPSBhMDI7XG4gICAgICAgIG1hdFs3XSA9IGExMjtcbiAgICAgICAgcmV0dXJuIG1hdDtcbiAgICB9XG4gICAgZGVzdFswXSA9IG1hdFswXTtcbiAgICBkZXN0WzFdID0gbWF0WzNdO1xuICAgIGRlc3RbMl0gPSBtYXRbNl07XG4gICAgZGVzdFszXSA9IG1hdFsxXTtcbiAgICBkZXN0WzRdID0gbWF0WzRdO1xuICAgIGRlc3RbNV0gPSBtYXRbN107XG4gICAgZGVzdFs2XSA9IG1hdFsyXTtcbiAgICBkZXN0WzddID0gbWF0WzVdO1xuICAgIGRlc3RbOF0gPSBtYXRbOF07XG5cbiAgICByZXR1cm4gZGVzdDtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9nZW9tL01hdHJpeDMudHMiLCJpbXBvcnQgeyBTdGFnZSB9IGZyb20gXCIuLi9kaXNwbGF5bGlzdC9TdGFnZVwiO1xuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4uL2Rpc3BsYXlsaXN0L0NhbWVyYVwiO1xuaW1wb3J0IHsgQUFCQjIgfSBmcm9tIFwiLi4vLi4vZ2VvbS9BQUJCMlwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElSZW5kZXJlciB7XG4gICAgSW5pdChnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBjYW1lcmE6IENhbWVyYSk6IHZvaWQ7XG4gICAgUmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZDtcbiAgICBSZW5kZXIoY2xpcDogQUFCQjIpOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgUmVuZGVyZXJFbmdpbmUge1xuICAgIHB1YmxpYyBzdGFnZTogU3RhZ2U7XG4gICAgcHVibGljIGNhbWVyYTogQ2FtZXJhO1xuICAgIHB1YmxpYyB2aWV3OiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7XG5cbiAgICBwdWJsaWMgZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dDtcbiAgICBwdWJsaWMgY29udGV4dEF0dHJpYnV0ZXM6IFdlYkdMQ29udGV4dEF0dHJpYnV0ZXM7XG5cbiAgICBwcml2YXRlIGNvbnRleHRMb3N0OiBib29sZWFuO1xuXG4gICAgcHVibGljIHJlbmRlcmVyczogQXJyYXk8SVJlbmRlcmVyPjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBzdGFnZTogU3RhZ2UsXG4gICAgICAgIGNhbWVyYTogQ2FtZXJhLFxuICAgICAgICB2aWV3OiBIVE1MQ2FudmFzRWxlbWVudCxcbiAgICAgICAgd2lkdGg6IG51bWJlciA9IDgwMCxcbiAgICAgICAgaGVpZ2h0OiBudW1iZXIgPSA2MDAsXG4gICAgICAgIHRyYW5zcGFyZW50OiBib29sZWFuID0gZmFsc2UsXG4gICAgICAgIGFudGlhbGlhczogYm9vbGVhbiA9IGZhbHNlLFxuICAgICkge1xuICAgICAgICB0aGlzLnN0YWdlID0gc3RhZ2U7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gY2FtZXJhO1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmNvbnRleHRMb3N0ID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5jb250ZXh0QXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB0aGlzLmNvbnRleHRBdHRyaWJ1dGVzLmFscGhhID0gdHJhbnNwYXJlbnQ7XG4gICAgICAgIHRoaXMuY29udGV4dEF0dHJpYnV0ZXMuYW50aWFsaWFzID0gYW50aWFsaWFzO1xuICAgICAgICB0aGlzLmNvbnRleHRBdHRyaWJ1dGVzLnByZW11bHRpcGxpZWRBbHBoYSA9IHRydWU7XG4gICAgICAgIHRoaXMuY29udGV4dEF0dHJpYnV0ZXMuc3RlbmNpbCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXJzID0gbmV3IEFycmF5KCk7XG5cbiAgICAgICAgdGhpcy5Jbml0YWxpemVXZWJHbENvbnRleHQoKTtcbiAgICAgICAgdGhpcy5SZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgcHVibGljIEluaXRhbGl6ZVdlYkdsQ29udGV4dCgpIHtcbiAgICAgICAgdGhpcy52aWV3LmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRsb3N0XCIsIHRoaXMub25Db250ZXh0TG9zdCwgZmFsc2UpO1xuICAgICAgICB0aGlzLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsIHRoaXMub25Db250ZXh0UmVzdG9yZWQsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5nbCA9IHRoaXMudmlldy5nZXRDb250ZXh0KFwid2ViZ2xcIiwgdGhpcy5jb250ZXh0QXR0cmlidXRlcyk7XG5cbiAgICAgICAgdGhpcy5nbC5kaXNhYmxlKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5ERVBUSF9URVNUKTtcbiAgICAgICAgdGhpcy5nbC5kaXNhYmxlKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5DVUxMX0ZBQ0UpO1xuICAgICAgICB0aGlzLmdsLmVuYWJsZShXZWJHTFJlbmRlcmluZ0NvbnRleHQuQkxFTkQpO1xuICAgICAgICB0aGlzLmdsLmNvbG9yTWFzayh0cnVlLCB0cnVlLCB0cnVlLCB0aGlzLmNvbnRleHRBdHRyaWJ1dGVzLmFscGhhKTtcbiAgICAgICAgdGhpcy5nbC5jbGVhckNvbG9yKDAsIDAsIDAsIDEpO1xuICAgICAgICB0aGlzLmdsLmJsZW5kRnVuYyhXZWJHTFJlbmRlcmluZ0NvbnRleHQuU1JDX0FMUEhBLFdlYkdMUmVuZGVyaW5nQ29udGV4dC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcblxuICAgICAgICBpZiAoIXRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKFwiT0VTX3RleHR1cmVfZmxvYXRcIikpIGNvbnNvbGUubG9nKFwiTmV3IGJyb3dzZXIgdGltZTogRmxvYXQgdGV4dHVyZXMgbm90IHN1cHBvcnRlZFwiKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgUmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMudmlldy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLnZpZXcuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmdsLnZpZXdwb3J0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLmdsLnNjaXNzb3IoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICAgIHB1YmxpYyBBZGRSZW5kZXJlcihyZW5kZXJlcjogSVJlbmRlcmVyKSB7XG4gICAgICAgIHJlbmRlcmVyLkluaXQodGhpcy5nbCwgdGhpcy5jYW1lcmEpO1xuICAgICAgICByZW5kZXJlci5SZXNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLnJlbmRlcmVycy5wdXNoKHJlbmRlcmVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgUmVuZGVyKGNsaXA6IEFBQkIyKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRleHRMb3N0KSByZXR1cm47XG4gICAgICAgIC8vIHRoaXMuc3RhZ2UudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIC8vIHN0YWdlLlByZVJlbmRlcigpO1xuXG4gICAgICAgIC8vIGdsLnZpZXdwb3J0KDAsMCx3aWR0aCxoZWlnaHQpO1xuICAgICAgICAvLyBnbC5jb2xvck1hc2sodHJ1ZSx0cnVlLHRydWUsY29udGV4dEF0dHJpYnV0ZXMuYWxwaGEpO1xuICAgICAgICAvLyBnbC5iaW5kRnJhbWVidWZmZXIoUmVuZGVyaW5nQ29udGV4dC5GUkFNRUJVRkZFUixudWxsKTtcbiAgICAgICAgLy8gZ2wuY2xlYXJDb2xvcigwLjIsMC4yLDAuMiwxLjApO1xuICAgICAgICAvLyBnbC5jbGVhcihSZW5kZXJpbmdDb250ZXh0LkNPTE9SX0JVRkZFUl9CSVQpO1xuXG4gICAgICAgIC8vIHRoaXMuZ2wuY29sb3JNYXNrKHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICAgICAgICAvLyBnbC5jbGVhckNvbG9yKDEuMCwgMC4wLCAwLjAsIDEuMCk7XG4gICAgICAgIHRoaXMuZ2wuY2xlYXJDb2xvcigxNTkgLyAyNTUsIDE4OCAvIDI1NSwgMTk3IC8gMjU1LCAxLjApO1xuICAgICAgICB0aGlzLmdsLmNsZWFyKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5DT0xPUl9CVUZGRVJfQklUKTtcbiAgICAgICAgdGhpcy5nbC5jb2xvck1hc2sodHJ1ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmdsLmJsZW5kRnVuYyhXZWJHTFJlbmRlcmluZ0NvbnRleHQuU1JDX0FMUEhBLFdlYkdMUmVuZGVyaW5nQ29udGV4dC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcblxuICAgICAgICAvLyB0aGlzLmdsLmRpc2FibGUoV2ViR0xSZW5kZXJpbmdDb250ZXh0LkJMRU5EKTtcbiAgICAgICAgLy8gdGhpcy5nbC5kaXNhYmxlKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5ERVBUSF9URVNUKTtcbiAgICAgICAgXG4gICAgICAgIC8vOUZCQ0M1XG4gICAgICAgIC8vMTU5IDE4OCAxOTcgMVxuXG4gICAgICAgIC8vIHRoaXMuZ2wuYmxlbmRGdW5jKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5TUkNfQUxQSEEsV2ViR0xSZW5kZXJpbmdDb250ZXh0Lk9ORV9NSU5VU19TUkNfQUxQSEEpO1xuICAgICAgICAvLyByZXR1cm47XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiLS0tLVwiKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlcnMuZm9yRWFjaChyZW5kZXJlciA9PiB7XG4gICAgICAgICAgICByZW5kZXJlci5SZW5kZXIoY2xpcCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db250ZXh0TG9zdChldmVudDogRXZlbnQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0TG9zdCA9IHRydWU7XG4gICAgICAgIGNvbnNvbGUubG9nKFwid2ViR0wgQ29udGV4dCBMb3N0XCIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25Db250ZXh0UmVzdG9yZWQoZXZlbnQ6IEV2ZW50KSB7XG4gICAgICAgIHRoaXMuY29udGV4dExvc3QgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS5sb2coXCJ3ZWJHTCBDb250ZXh0IFJlc3RvcmVkXCIpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9ncmFwaGljcy9yZW5kZXIvUmVuZGVyRW5naW5lLnRzIiwiaW1wb3J0IHsgQmFzZVRleHR1cmUgfSBmcm9tIFwiLi9CYXNlVGV4dHVyZVwiO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gXCIuL1RleHR1cmVcIjtcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tL1JlY3RhbmdsZVwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi9nZW9tL1ZlY3RvcjJcIjtcblxuZXhwb3J0IGludGVyZmFjZSBUZXh0dXJlUGFja2VyRnJhbWUge1xuICAgIHg6IG51bWJlcjtcbiAgICB5OiBudW1iZXI7XG4gICAgdzogbnVtYmVyO1xuICAgIGg6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZXh0dXJlUGFja2VySXRlbSB7XG4gICAgZnJhbWU6IFRleHR1cmVQYWNrZXJGcmFtZTtcbiAgICByb3RhdGVkOiBib29sZWFuO1xuICAgIHRyaW1tZWQ6IGJvb2xlYW47XG4gICAgc3ByaXRlU291cmNlU2l6ZTogVGV4dHVyZVBhY2tlckZyYW1lO1xuICAgIHNvdXJjZVNpemU6IGFueTsgLy97XCJ3XCI6MTUsXCJoXCI6MTF9XG4gICAgcGl2b3Q6IGFueTsgLy97XCJ4XCI6MC41LFwieVwiOjAuNX1cbn1cblxuZXhwb3J0IGNsYXNzIFRleHR1cmVNYW5hZ2VyIHtcbiAgICBwdWJsaWMgYmFzZVRleHR1cmVzOiBNYXA8U3RyaW5nLCBCYXNlVGV4dHVyZT47XG4gICAgcHVibGljIHRleHR1cmVzOiBNYXA8U3RyaW5nLCBUZXh0dXJlPjtcbiAgICBwdWJsaWMgdG90YWw6IG51bWJlcjtcbiAgICBwdWJsaWMgZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dDtcblxuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IG5ldyBNYXAoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgQWRkVGV4dHVyZShpZDogU3RyaW5nLCBpbWFnZTogSW1hZ2VEYXRhKTogQmFzZVRleHR1cmUge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBCYXNlVGV4dHVyZS5Gcm9tSW1hZ2UodGhpcy5nbCwgaW1hZ2UpO1xuICAgICAgICAvLyBiYXNlVGV4dHVyZS5SZWdpc3RlclRleHR1cmUoKTtcbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZXMuc2V0KGlkLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgUGFyc2VUZXh0dXJlUGFja2VySlNPTih0ZXh0dXJlQ29uZmlnOiBhbnksIGlkOiBTdHJpbmcpIHtcbiAgICAgICAgaWYgKCEodHlwZW9mIHRleHR1cmVDb25maWcgPT09IFwic3RyaW5nXCIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0aGlzLmJhc2VUZXh0dXJlcy5nZXQoaWQpO1xuXG4gICAgICAgIHZhciB0ZXh0dXJlRGF0YSA9IEpTT04ucGFyc2UodGV4dHVyZUNvbmZpZyk7XG5cbiAgICAgICAgLy92YXIgZmllbGRzID0gUmVmbGVjdC5maWVsZHModGV4dHVyZURhdGEuZnJhbWVzKTtcbiAgICAgICAgT2JqZWN0LmtleXModGV4dHVyZURhdGEuZnJhbWVzKS5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgICAgICAgLy8gZm9yIChsZXQgcHJvcDphbnkgaW4gdGV4dHVyZURhdGEuZnJhbWVzKSB7XG5cbiAgICAgICAgICAgIHZhciBmcmFtZSA9IHRleHR1cmVEYXRhLmZyYW1lc1twcm9wXTsgLy8gUmVmbGVjdC5maWVsZCh0ZXh0dXJlRGF0YS5mcmFtZXMsIHByb3ApO1xuXG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzLnNldChcbiAgICAgICAgICAgICAgICBwcm9wLFxuICAgICAgICAgICAgICAgIG5ldyBUZXh0dXJlKFxuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFJlY3RhbmdsZShmcmFtZS5mcmFtZS54LCBmcmFtZS5mcmFtZS55LCBmcmFtZS5mcmFtZS53LCBmcmFtZS5mcmFtZS5oKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcjIoZnJhbWUucGl2b3QueCwgZnJhbWUucGl2b3QueSksXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBQYXJzZVRleHR1cmVzRnJvbVRpbGVzKHRpbGVTaXplOiBudW1iZXIsIGlkOiBTdHJpbmcpIHt9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ3JhcGhpY3MvdGV4dHVyZS9UZXh0dXJlTWFuYWdlci50cyIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vLi4vZ2VvbS9WZWN0b3IyXCI7XG5pbXBvcnQgeyBUZXh0dXJlTWFuYWdlciB9IGZyb20gXCIuLi90ZXh0dXJlL1RleHR1cmVNYW5hZ2VyXCI7XG5pbXBvcnQgeyBGcmFtZUxpc3QgfSBmcm9tIFwiLi9GcmFtZUxpc3RcIjtcbmltcG9ydCB7IEZyYW1lIH0gZnJvbSBcIi4vRnJhbWVcIjtcbmltcG9ydCB7IEFuaW1hdGlvbiB9IGZyb20gXCIuLi9hbmltYXRpb24vQW5pbWF0b25cIjtcblxuaW50ZXJmYWNlIEpTT05GcmFtZXMge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHNjYWxlOiBWZWN0b3IyO1xufVxuXG5pbnRlcmZhY2UgSlNPTkFuaW1hdGlvbiB7XG4gICAgZnJhbWVzOiBBcnJheTxudW1iZXI+O1xuICAgIGZwczogbnVtYmVyO1xuICAgIGxvb3BlZDogYm9vbGVhbjtcbiAgICBmbGlwWDogYm9vbGVhbjtcbiAgICBmbGlwWTogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIEpTT05GcmFtZUxpc3Qge1xuICAgIGZyYW1lczogQXJyYXk8SlNPTkZyYW1lcz47XG4gICAgYW5pbWF0aW9uczogTWFwPHN0cmluZywgSlNPTkFuaW1hdGlvbj47XG59XG5cbmludGVyZmFjZSBKU09ORnJhbWVDb25maWcge1xuICAgIGl0ZW1zOiBNYXA8c3RyaW5nLCBKU09ORnJhbWVMaXN0Pjtcbn1cblxuZXhwb3J0IGNsYXNzIEZyYW1lTGlzdE1hbmFnZXIge1xuICAgIHB1YmxpYyB0ZXh0dXJlTWFuYWdlcjogVGV4dHVyZU1hbmFnZXI7XG4gICAgcHVibGljIGZyYW1lTGlzdHM6IE1hcDxzdHJpbmcsIEZyYW1lTGlzdD47XG5cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0dXJlTWFuYWdlcjogVGV4dHVyZU1hbmFnZXIpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlTWFuYWdlciA9IHRleHR1cmVNYW5hZ2VyO1xuICAgICAgICB0aGlzLmZyYW1lTGlzdHMgPSBuZXcgTWFwKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEZyYW1lTGlzdChpZDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyYW1lTGlzdHMuZ2V0KGlkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgUGFyc2VGcmFtZUxpc3RKU09OKGZyYW1lTGlzdENvbmZpZzogYW55KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZnJhbWVMaXN0Q29uZmlnICE9PSBcInN0cmluZ1wiKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGZyYW1lTGlzdENvbmZpZ0RhdGE6IEpTT05GcmFtZUNvbmZpZyA9IEpTT04ucGFyc2UoZnJhbWVMaXN0Q29uZmlnKTtcblxuICAgICAgICBPYmplY3Qua2V5cyhmcmFtZUxpc3RDb25maWdEYXRhKS5mb3JFYWNoKGl0ZW1OYW1lID0+IHtcbiAgICAgICAgICAgIHZhciBmcmFtZUxpc3QgPSBuZXcgRnJhbWVMaXN0KCk7XG4gICAgICAgICAgICB0aGlzLmZyYW1lTGlzdHMuc2V0KGl0ZW1OYW1lLCBmcmFtZUxpc3QpO1xuICAgICAgICAgICAgY29uc3QgZnJhbWVsaXN0SXRlbTogSlNPTkZyYW1lTGlzdCA9IGZyYW1lTGlzdENvbmZpZ0RhdGFbaXRlbU5hbWVdO1xuICAgICAgICAgICAgaWYgKGZyYW1lbGlzdEl0ZW0uZnJhbWVzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmcmFtZWxpc3RJdGVtLmZyYW1lcy5mb3JFYWNoKGZyYW1lID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVMaXN0LmFkZEZyYW1lKG5ldyBGcmFtZShmcmFtZS5pZCwgdGhpcy50ZXh0dXJlTWFuYWdlci50ZXh0dXJlcy5nZXQoZnJhbWUubmFtZSksIGZyYW1lLnNjYWxlKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lbGlzdEl0ZW0uYW5pbWF0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGZyYW1lbGlzdEl0ZW0uYW5pbWF0aW9ucykuZm9yRWFjaChhbmltYXRpb25OYW1lID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb246IEpTT05BbmltYXRpb24gPSBmcmFtZWxpc3RJdGVtLmFuaW1hdGlvbnNbYW5pbWF0aW9uTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFtZUxpc3QuYWRkQW5pbWF0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBBbmltYXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbk5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5mcmFtZXMubWFwKGZyYW1lSW5kZXg9PmZyYW1lTGlzdC5mcmFtZXNbZnJhbWVJbmRleF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uZnBzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24ubG9vcGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uZmxpcFgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5mbGlwWSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ3JhcGhpY3MvZnJhbWUvRnJhbWVMaXN0TWFuYWdlci50cyIsImltcG9ydCB7IEZyYW1lIH0gZnJvbSBcIi4vRnJhbWVcIjtcbmltcG9ydCB7IEFuaW1hdGlvbiB9IGZyb20gXCIuLi9hbmltYXRpb24vQW5pbWF0b25cIjtcblxuZXhwb3J0IGNsYXNzIEZyYW1lTGlzdCB7XG4gICAgcHVibGljIGZyYW1lczogQXJyYXk8RnJhbWU+O1xuICAgIHB1YmxpYyBmcmFtZXNIYXNoOiBNYXA8c3RyaW5nLCBGcmFtZT47XG5cbiAgICBwdWJsaWMgYW5pbWF0aW9uc0hhc2g6IE1hcDxzdHJpbmcsIEFuaW1hdGlvbj47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5mcmFtZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy5mcmFtZXNIYXNoID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnNIYXNoID0gbmV3IE1hcDxzdHJpbmcsIEFuaW1hdGlvbj4oKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkRnJhbWUoZnJhbWU6IEZyYW1lKSB7XG4gICAgICAgIHRoaXMuZnJhbWVzLnB1c2goZnJhbWUpO1xuICAgICAgICB0aGlzLmZyYW1lc0hhc2guc2V0KGZyYW1lLm5hbWUsIGZyYW1lKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RnJhbWUoaWQ6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5mcmFtZXNIYXNoLmdldChpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEFuaW1hdGlvbihhbmltYXRpb246IEFuaW1hdGlvbikge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnNIYXNoLnNldChhbmltYXRpb24ubmFtZSwgYW5pbWF0aW9uKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0QW5pbWF0aW9uKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9uc0hhc2guZ2V0KGlkKTtcbiAgICB9XG5cbiAgICBnZXQgbnVtRnJhbWVzKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBmcmFtZXMubGVuZ3RoO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9ncmFwaGljcy9mcmFtZS9GcmFtZUxpc3QudHMiLCJpbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSBcIi4uL3RleHR1cmUvVGV4dHVyZVwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gXCIuLi9kaXNwbGF5bGlzdC9TcHJpdGVcIjtcblxuZXhwb3J0IGNsYXNzIEZyYW1lIHtcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nO1xuICAgIHB1YmxpYyB0ZXh0dXJlOiBUZXh0dXJlO1xuICAgIHB1YmxpYyBzY2FsZTogVmVjdG9yMjtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgdGV4dHVyZTogVGV4dHVyZSwgc2NhbGU6IFZlY3RvcjIpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgdGhpcy5zY2FsZSA9IHNjYWxlO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVTcHJpdGUoc3ByaXRlOiBTcHJpdGUsIGZsaXBYOiBudW1iZXIgPSAxLCBmbGlwWTogbnVtYmVyID0gMSkge1xuICAgICAgICBzcHJpdGUudGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcbiAgICAgICAgc3ByaXRlLnBpdm90LnggPSBzcHJpdGUudGV4dHVyZS5mcmFtZS53aWR0aCAqIHNwcml0ZS50ZXh0dXJlLnBpdm90Lng7XG4gICAgICAgIHNwcml0ZS5waXZvdC55ID0gKHNwcml0ZS50ZXh0dXJlLmZyYW1lLmhlaWdodCArIDIpICogc3ByaXRlLnRleHR1cmUucGl2b3QueTtcbiAgICAgICAgc3ByaXRlLnNjYWxlLnggPSB0aGlzLnNjYWxlLnggKiBmbGlwWDtcbiAgICAgICAgc3ByaXRlLnNjYWxlLnkgPSB0aGlzLnNjYWxlLnkgKiBmbGlwWTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ3JhcGhpY3MvZnJhbWUvRnJhbWUudHMiLCJpbXBvcnQgeyBGcmFtZSB9IGZyb20gXCIuLi9mcmFtZS9GcmFtZVwiO1xuXG5leHBvcnQgY2xhc3MgQW5pbWF0aW9uIHtcblxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XG4gICAgcHVibGljIGZyYW1lUmF0ZTpudW1iZXI7ICAgIFxuICAgIHB1YmxpYyBmcmFtZXM6IEFycmF5PEZyYW1lPjtcbiAgICBwdWJsaWMgbG9vcGVkOiBib29sZWFuO1xuICAgIHB1YmxpYyBmbGlwWDogYm9vbGVhbjtcbiAgICBwdWJsaWMgZmxpcFk6IGJvb2xlYW47XG4gICAgcHVibGljIG1zUGVyRnJhbWU6IG51bWJlcjtcbiAgICBwdWJsaWMgbGVuZ3RoOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgbmFtZTogc3RyaW5nLFxuICAgICAgICBmcmFtZXM6IEFycmF5PEZyYW1lPixcbiAgICAgICAgZnJhbWVSYXRlOiBudW1iZXIgPSAwLFxuICAgICAgICBsb29wZWQ6IGJvb2xlYW4gPSB0cnVlLFxuICAgICAgICBmbGlwWDogYm9vbGVhbiA9IGZhbHNlLFxuICAgICAgICBmbGlwWTogYm9vbGVhbiA9IGZhbHNlLFxuICAgICkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmZyYW1lUmF0ZSA9IGZyYW1lUmF0ZTtcbiAgICAgICAgdGhpcy5mcmFtZXMgPSBmcmFtZXM7XG4gICAgICAgIHRoaXMubG9vcGVkID0gbG9vcGVkO1xuICAgICAgICB0aGlzLmZsaXBYID0gZmxpcFg7XG4gICAgICAgIHRoaXMuZmxpcFkgPSBmbGlwWTtcbiAgICAgICAgdGhpcy5tc1BlckZyYW1lID0gMTAwMC90aGlzLmZyYW1lUmF0ZTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLmZyYW1lcy5sZW5ndGg7IFxuICAgIH1cblxuICAgXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ3JhcGhpY3MvYW5pbWF0aW9uL0FuaW1hdG9uLnRzIiwiaW1wb3J0IHsgSVJlbmRlcmVyIH0gZnJvbSBcIi4uL1JlbmRlckVuZ2luZVwiO1xuaW1wb3J0IHsgU3RhZ2UgfSBmcm9tIFwiLi4vLi4vZGlzcGxheWxpc3QvU3RhZ2VcIjtcbmltcG9ydCB7IENhbWVyYSB9IGZyb20gXCIuLi8uLi9kaXNwbGF5bGlzdC9DYW1lcmFcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vLi4vLi4vZ2VvbS9WZWN0b3IyXCI7XG5pbXBvcnQgeyBBQUJCMiB9IGZyb20gXCIuLi8uLi8uLi9nZW9tL0FBQkIyXCI7XG5pbXBvcnQgKiBhcyBXZWJHTFNoYWRlclV0aWxzIGZyb20gXCIuLi91dGlsL1dlYkdMU2hhZGVyVXRpbFwiO1xuaW1wb3J0IHsgU2hhZGVyV3JhcHBlciB9IGZyb20gXCIuLi91dGlsL1NoYWRlcldyYXBwZXJcIjtcbmltcG9ydCB7IFdlYkdMQmF0Y2ggfSBmcm9tIFwiLi9TcHJpdGVCYXRjaFwiO1xuXG5leHBvcnQgY2xhc3MgU3ByaXRlUmVuZGVyZXIgaW1wbGVtZW50cyBJUmVuZGVyZXIge1xuICAgIHB1YmxpYyBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xuICAgIHB1YmxpYyBzdGFnZTogU3RhZ2U7XG4gICAgcHVibGljIGNhbWVyYTogQ2FtZXJhO1xuXG4gICAgcHVibGljIHByb2plY3Rpb246IFZlY3RvcjI7XG4gICAgcHVibGljIHNwcml0ZVNoYWRlcjogU2hhZGVyV3JhcHBlcjtcblxuICAgIHB1YmxpYyBzcHJpdGVCYXRjaDogV2ViR0xCYXRjaDtcblxuICAgIHB1YmxpYyBmaXJzdDogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgICBwdWJsaWMgSW5pdChnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBjYW1lcmE6IENhbWVyYSkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gY2FtZXJhO1xuICAgICAgICB0aGlzLnByb2plY3Rpb24gPSBuZXcgVmVjdG9yMigpO1xuICAgICAgICB0aGlzLnNwcml0ZVNoYWRlciA9IG5ldyBTaGFkZXJXcmFwcGVyKFxuICAgICAgICAgICAgZ2wsXG4gICAgICAgICAgICBXZWJHTFNoYWRlclV0aWxzLkNvbXBpbGVQcm9ncmFtKFxuICAgICAgICAgICAgICAgIGdsLFxuICAgICAgICAgICAgICAgIFNwcml0ZVJlbmRlcmVyLlNQUklURV9WRVJURVhfU0hBREVSLFxuICAgICAgICAgICAgICAgIFNwcml0ZVJlbmRlcmVyLlNQUklURV9GUkFHTUVOVF9TSEFERVIsXG4gICAgICAgICAgICApLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnNwcml0ZUJhdGNoID0gbmV3IFdlYkdMQmF0Y2goZ2wpO1xuICAgICAgICB0aGlzLnNwcml0ZUJhdGNoLlJlc2l6ZUJhdGNoKDEwMDApO1xuICAgIH1cblxuICAgIHB1YmxpYyBSZXNpemUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnggPSB3aWR0aCAvIDI7XG4gICAgICAgIHRoaXMucHJvamVjdGlvbi55ID0gaGVpZ2h0IC8gMjtcbiAgICB9XG5cbiAgICBwdWJsaWMgQWRkU3RhZ2Uoc3RhZ2U6IFN0YWdlKSB7XG4gICAgICAgIHRoaXMuc3RhZ2UgPSBzdGFnZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgUmVuZGVyKGNsaXA6IEFBQkIyKSB7XG4gICAgICAgIHRoaXMuc3RhZ2UudXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKHRoaXMuc3ByaXRlU2hhZGVyLnByb2dyYW0pO1xuICAgICAgICAvLyBpZiAoZmlyc3QpIHtcbiAgICAgICAgdGhpcy5nbC51bmlmb3JtMmYodGhpcy5zcHJpdGVTaGFkZXIudW5pZm9ybS5wcm9qZWN0aW9uVmVjdG9yLCB0aGlzLnByb2plY3Rpb24ueCwgdGhpcy5wcm9qZWN0aW9uLnkpO1xuICAgICAgICB0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuc3ByaXRlU2hhZGVyLmF0dHJpYnV0ZS5hVmVydGV4UG9zaXRpb24pO1xuICAgICAgICB0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuc3ByaXRlU2hhZGVyLmF0dHJpYnV0ZS5hVGV4dHVyZUNvb3JkKTtcbiAgICAgICAgdGhpcy5nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLnNwcml0ZVNoYWRlci5hdHRyaWJ1dGUuYUNvbG9yKTtcbiAgICAgICAgLy8gICAgIGZpcnN0PWZhbHNlO1xuICAgICAgICAvLyB9XG4gICAgICAgIHRoaXMuZ2wudmVydGV4QXR0cmliUG9pbnRlcihcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlU2hhZGVyLmF0dHJpYnV0ZS5hVmVydGV4UG9zaXRpb24sXG4gICAgICAgICAgICAyLFxuICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LkZMT0FULFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAyMCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZ2wudmVydGV4QXR0cmliUG9pbnRlcihcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlU2hhZGVyLmF0dHJpYnV0ZS5hVGV4dHVyZUNvb3JkLFxuICAgICAgICAgICAgMixcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5GTE9BVCxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgMjAsXG4gICAgICAgICAgICA4LFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5zcHJpdGVTaGFkZXIuYXR0cmlidXRlLmFDb2xvciwgMSwgV2ViR0xSZW5kZXJpbmdDb250ZXh0LkZMT0FULCBmYWxzZSwgMjAsIDE2KTtcblxuICAgICAgICB0aGlzLnNwcml0ZUJhdGNoLlJlbmRlcih0aGlzLnNwcml0ZVNoYWRlciwgdGhpcy5zdGFnZSwgdGhpcy5jYW1lcmEudmlld1BvcnRBQUJCKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgU1BSSVRFX1ZFUlRFWF9TSEFERVI6IHN0cmluZyA9IGBcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG4gICAgICAgIGF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcbiAgICAgICAgYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcbiAgICAgICAgYXR0cmlidXRlIGZsb2F0IGFDb2xvcjtcbiAgICAgICAgdW5pZm9ybSB2ZWMyIHByb2plY3Rpb25WZWN0b3I7XG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICAgICAgICB2YXJ5aW5nIGZsb2F0IHZDb2xvcjtcbiAgICAgICAgdm9pZCBtYWluKHZvaWQpIHtcbiAgICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNCggYVZlcnRleFBvc2l0aW9uLnggLyBwcm9qZWN0aW9uVmVjdG9yLnggLTEuMCwgYVZlcnRleFBvc2l0aW9uLnkgLyAtcHJvamVjdGlvblZlY3Rvci55ICsgMS4wICwgMC4wLCAxLjApO1xuICAgICAgICAgICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XG4gICAgICAgICAgICB2Q29sb3IgPSBhQ29sb3I7XG4gICAgICAgIH1gO1xuXG4gICAgc3RhdGljIFNQUklURV9GUkFHTUVOVF9TSEFERVI6IHN0cmluZyA9IGBcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICAgICAgICB2YXJ5aW5nIGZsb2F0IHZDb2xvcjtcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XG4gICAgICAgIHZvaWQgbWFpbih2b2lkKSB7XG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsdlRleHR1cmVDb29yZCkgKiB2Q29sb3I7XG4gICAgICAgIH1gO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2dyYXBoaWNzL3JlbmRlci9zcHJpdGUvU3ByaXRlUmVuZGVyZXIudHMiLCJpbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSBcIi4uLy4uL3RleHR1cmUvVGV4dHVyZVwiO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSBcIi4uLy4uL2Rpc3BsYXlsaXN0L1Nwcml0ZVwiO1xuaW1wb3J0IHsgU3RhZ2UgfSBmcm9tIFwiLi4vLi4vZGlzcGxheWxpc3QvU3RhZ2VcIjtcbmltcG9ydCB7IEFBQkIyIH0gZnJvbSBcIi4uLy4uLy4uL2dlb20vQUFCQjJcIjtcbmltcG9ydCB7IERpc3BsYXlPYmplY3RDb250YWluZXIgfSBmcm9tIFwiLi4vLi4vZGlzcGxheWxpc3QvRGlzcGxheU9iamVjdENvbnRhaW5lclwiO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gXCIuLi8uLi9kaXNwbGF5bGlzdC9ESXNwbGF5T2JqZWN0XCI7XG5pbXBvcnQgeyBTaGFkZXJXcmFwcGVyIH0gZnJvbSBcIi4uL3V0aWwvU2hhZGVyV3JhcHBlclwiO1xuXG5leHBvcnQgY2xhc3MgV2ViR0xCYXRjaCB7XG4gICAgcHVibGljIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XG5cbiAgICBwdWJsaWMgc2l6ZTogbnVtYmVyO1xuICAgIHB1YmxpYyBkeW5hbWljU2l6ZTogbnVtYmVyO1xuXG4gICAgcHVibGljIGluZGV4QnVmZmVyOiBXZWJHTEJ1ZmZlcjtcbiAgICBwdWJsaWMgaW5kaWNlczogVWludDE2QXJyYXk7XG5cbiAgICBwdWJsaWMgZGF0YUJ1ZmZlcjogV2ViR0xCdWZmZXI7XG4gICAgcHVibGljIGRhdGE6IEZsb2F0MzJBcnJheTtcblxuICAgIHB1YmxpYyBibGVuZE1vZGU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnNpemUgPSAxO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIHRoaXMuZGF0YUJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IDA7XG4gICAgICAgIHRoaXMuZHluYW1pY1NpemUgPSAxO1xuICAgIH1cblxuICAgIHB1YmxpYyBDbGVhbigpIHt9XG5cbiAgICBwdWJsaWMgUmVzaXplQmF0Y2goc2l6ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMuZHluYW1pY1NpemUgPSBzaXplO1xuXG4gICAgICAgIHRoaXMuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5keW5hbWljU2l6ZSAqIDIwKTtcbiAgICAgICAgdGhpcy5nbC5iaW5kQnVmZmVyKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5BUlJBWV9CVUZGRVIsIHRoaXMuZGF0YUJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZ2wuYnVmZmVyRGF0YShXZWJHTFJlbmRlcmluZ0NvbnRleHQuQVJSQVlfQlVGRkVSLCB0aGlzLmRhdGEsIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5EWU5BTUlDX0RSQVcpO1xuXG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheSh0aGlzLmR5bmFtaWNTaXplICogNik7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNTaXplOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4MiA9IGkgKiA2O1xuICAgICAgICAgICAgY29uc3QgaW5kZXgzID0gaSAqIDQ7XG4gICAgICAgICAgICB0aGlzLmluZGljZXNbaW5kZXgyICsgMF0gPSBpbmRleDMgKyAwO1xuICAgICAgICAgICAgdGhpcy5pbmRpY2VzW2luZGV4MiArIDFdID0gaW5kZXgzICsgMTtcbiAgICAgICAgICAgIHRoaXMuaW5kaWNlc1tpbmRleDIgKyAyXSA9IGluZGV4MyArIDI7XG4gICAgICAgICAgICB0aGlzLmluZGljZXNbaW5kZXgyICsgM10gPSBpbmRleDMgKyAwO1xuICAgICAgICAgICAgdGhpcy5pbmRpY2VzW2luZGV4MiArIDRdID0gaW5kZXgzICsgMjtcbiAgICAgICAgICAgIHRoaXMuaW5kaWNlc1tpbmRleDIgKyA1XSA9IGluZGV4MyArIDM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdsLmJpbmRCdWZmZXIoV2ViR0xSZW5kZXJpbmdDb250ZXh0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLmluZGV4QnVmZmVyKTtcbiAgICAgICAgdGhpcy5nbC5idWZmZXJEYXRhKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pbmRpY2VzLCBXZWJHTFJlbmRlcmluZ0NvbnRleHQuU1RBVElDX0RSQVcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBGbHVzaChzaGFkZXI6IFNoYWRlcldyYXBwZXIsIHRleHR1cmU6IFRleHR1cmUsIHNpemU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmdsLmJpbmRCdWZmZXIoV2ViR0xSZW5kZXJpbmdDb250ZXh0LkFSUkFZX0JVRkZFUiwgdGhpcy5kYXRhQnVmZmVyKTtcbiAgICAgICAgLy8gdGhpcy5nbC5idWZmZXJEYXRhKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5BUlJBWV9CVUZGRVIsZGF0YSxXZWJHTFJlbmRlcmluZ0NvbnRleHQuU1RBVElDX0RSQVcpO1xuICAgICAgICB0aGlzLmdsLmJ1ZmZlclN1YkRhdGEoV2ViR0xSZW5kZXJpbmdDb250ZXh0LkFSUkFZX0JVRkZFUiwgMCwgdGhpcy5kYXRhKTtcbiAgICAgICAgdGhpcy5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHNoYWRlci5hdHRyaWJ1dGUuYVZlcnRleFBvc2l0aW9uLCAyLCBXZWJHTFJlbmRlcmluZ0NvbnRleHQuRkxPQVQsIGZhbHNlLCAyMCwgMCk7XG4gICAgICAgIHRoaXMuZ2wudmVydGV4QXR0cmliUG9pbnRlcihzaGFkZXIuYXR0cmlidXRlLmFUZXh0dXJlQ29vcmQsIDIsIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5GTE9BVCwgZmFsc2UsIDIwLCA4KTtcbiAgICAgICAgdGhpcy5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHNoYWRlci5hdHRyaWJ1dGUuYUNvbG9yLCAxLCBXZWJHTFJlbmRlcmluZ0NvbnRleHQuRkxPQVQsIGZhbHNlLCAyMCwgMTYpO1xuICAgICAgICB0aGlzLmdsLmFjdGl2ZVRleHR1cmUoV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkUwKTtcbiAgICAgICAgdGhpcy5nbC5iaW5kVGV4dHVyZShXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgICAgIHRoaXMuZ2wuZHJhd0VsZW1lbnRzKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5UUklBTkdMRVMsIHNpemUgKiA2LCBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVU5TSUdORURfU0hPUlQsIDApO1xuICAgIH1cblxuICAgIHB1YmxpYyBBZGRTcHJpdGVUb0JhdGNoKHNwcml0ZTogU3ByaXRlLCBpbmRleFJ1bjogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gaW5kZXhSdW4gKiAyMDtcbiAgICAgICAgY29uc3QgZnJhbWUgPSBzcHJpdGUudGV4dHVyZS5mcmFtZTtcbiAgICAgICAgY29uc3QgdHcgPSBzcHJpdGUudGV4dHVyZS5iYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgY29uc3QgdGggPSBzcHJpdGUudGV4dHVyZS5iYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHV2cyA9IHNwcml0ZS50ZXh0dXJlLnV2cztcbiAgICAgICAgLy8wXG4gICAgICAgIC8vVmVydHNcbiAgICAgICAgdGhpcy5kYXRhW2luZGV4ICsgMF0gPSBzcHJpdGUudHJhbnNmb3JtZWRWZXJ0c1swXTtcbiAgICAgICAgdGhpcy5kYXRhW2luZGV4ICsgMV0gPSBzcHJpdGUudHJhbnNmb3JtZWRWZXJ0c1sxXTtcbiAgICAgICAgLy9VVlxuICAgICAgICB0aGlzLmRhdGFbaW5kZXggKyAyXSA9IHV2c1swXTsgLy9mcmFtZS54IC8gdHc7XG4gICAgICAgIHRoaXMuZGF0YVtpbmRleCArIDNdID0gdXZzWzFdOyAvL2ZyYW1lLnkgLyB0aDtcbiAgICAgICAgLy9Db2xvdXJcbiAgICAgICAgdGhpcy5kYXRhW2luZGV4ICsgNF0gPSBzcHJpdGUud29ybGRBbHBoYTtcblxuICAgICAgICAvLzFcbiAgICAgICAgLy9WZXJ0c1xuICAgICAgICB0aGlzLmRhdGFbaW5kZXggKyA1XSA9IHNwcml0ZS50cmFuc2Zvcm1lZFZlcnRzWzJdO1xuICAgICAgICB0aGlzLmRhdGFbaW5kZXggKyA2XSA9IHNwcml0ZS50cmFuc2Zvcm1lZFZlcnRzWzNdO1xuICAgICAgICAvL1VWXG4gICAgICAgIHRoaXMuZGF0YVtpbmRleCArIDddID0gdXZzWzJdOyAvLyhmcmFtZS54ICsgZnJhbWUud2lkdGgpIC8gdHc7XG4gICAgICAgIHRoaXMuZGF0YVtpbmRleCArIDhdID0gdXZzWzNdOyAvL2ZyYW1lLnkgLyB0aDtcbiAgICAgICAgLy9Db2xvdXJcbiAgICAgICAgdGhpcy5kYXRhW2luZGV4ICsgOV0gPSBzcHJpdGUud29ybGRBbHBoYTtcblxuICAgICAgICAvLzJcbiAgICAgICAgLy9WZXJ0c1xuICAgICAgICB0aGlzLmRhdGFbaW5kZXggKyAxMF0gPSBzcHJpdGUudHJhbnNmb3JtZWRWZXJ0c1s0XTtcbiAgICAgICAgdGhpcy5kYXRhW2luZGV4ICsgMTFdID0gc3ByaXRlLnRyYW5zZm9ybWVkVmVydHNbNV07XG4gICAgICAgIC8vVVZcbiAgICAgICAgdGhpcy5kYXRhW2luZGV4ICsgMTJdID0gdXZzWzRdOyAvLyhmcmFtZS54ICsgZnJhbWUud2lkdGgpIC8gdHc7XG4gICAgICAgIHRoaXMuZGF0YVtpbmRleCArIDEzXSA9IHV2c1s1XTsgLy8oZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICAgICAgLy9Db2xvdXJcbiAgICAgICAgdGhpcy5kYXRhW2luZGV4ICsgMTRdID0gc3ByaXRlLndvcmxkQWxwaGE7XG5cbiAgICAgICAgLy8zXG4gICAgICAgIC8vVmVydHNcbiAgICAgICAgdGhpcy5kYXRhW2luZGV4ICsgMTVdID0gc3ByaXRlLnRyYW5zZm9ybWVkVmVydHNbNl07XG4gICAgICAgIHRoaXMuZGF0YVtpbmRleCArIDE2XSA9IHNwcml0ZS50cmFuc2Zvcm1lZFZlcnRzWzddO1xuICAgICAgICAvL1VWXG4gICAgICAgIHRoaXMuZGF0YVtpbmRleCArIDE3XSA9IHV2c1s2XTsgLy9mcmFtZS54IC8gdHc7XG4gICAgICAgIHRoaXMuZGF0YVtpbmRleCArIDE4XSA9IHV2c1s3XTsgLy8oZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICAgICAgLy9Db2xvdXJcbiAgICAgICAgdGhpcy5kYXRhW2luZGV4ICsgMTldID0gc3ByaXRlLndvcmxkQWxwaGE7XG4gICAgfVxuXG4gICAgcHVibGljIFJlbmRlcihzaGFkZXI6IFNoYWRlcldyYXBwZXIsIHN0YWdlOiBTdGFnZSwgY2xpcDogQUFCQjIpIHtcbiAgICAgICAgLy8gdGhpcy5nbC51c2VQcm9ncmFtKHNoYWRlci5wcm9ncmFtKTtcblxuICAgICAgICB2YXIgbm9kZTogRGlzcGxheU9iamVjdENvbnRhaW5lcjtcbiAgICAgICAgdmFyIHN0YWNrOiBBcnJheTxEaXNwbGF5T2JqZWN0Q29udGFpbmVyPjtcbiAgICAgICAgdmFyIHRvcDogbnVtYmVyO1xuXG4gICAgICAgIG5vZGUgPSBzdGFnZTtcbiAgICAgICAgc3RhY2sgPSBuZXcgQXJyYXk8RGlzcGxheU9iamVjdENvbnRhaW5lcj4oKTtcblxuICAgICAgICBzdGFja1swXSA9IG5vZGU7XG4gICAgICAgIHRvcCA9IDE7XG5cbiAgICAgICAgdmFyIGluZGV4UnVuID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICB3aGlsZSAodG9wID4gMCkge1xuICAgICAgICAgICAgdmFyIHRoaXNOb2RlID0gc3RhY2tbLS10b3BdO1xuICAgICAgICAgICAgLy9JZiB0aGVyZSBpcyBhbiBhZGphY2VudCBub2RlLCBwdXNoIGl0IHRvIHRoZSBzdGFja1xuICAgICAgICAgICAgaWYgKHRoaXNOb2RlLm5leHQgIT0gbnVsbCkgc3RhY2tbdG9wKytdID0gdGhpc05vZGUubmV4dCBhcyBEaXNwbGF5T2JqZWN0Q29udGFpbmVyOyAvL0JpZyBhc3N1bXB0aW9uIGlzIG9ubHkgRGlzcGxheUxpc3RDb250YWluZXJzLCB3aGljaCBpdCBpcyBmb3Igbm93LlxuICAgICAgICAgICAgLy9JZiB0aGVyZSBpcyBhIGNoaWxkIGxpc3QsIHB1c2ggdGhlIGhlYWQgKHRoaXMgd2lsbCBnZXQgcHJvY2Vzc2VkIGZpcnN0KVxuICAgICAgICAgICAgaWYgKHRoaXNOb2RlLmhlYWQgIT0gbnVsbCkgc3RhY2tbdG9wKytdID0gdGhpc05vZGUuaGVhZCBhcyBEaXNwbGF5T2JqZWN0Q29udGFpbmVyOyAvL1NhbWUgYXNzdW1wdGlvbi5cbiAgICAgICAgICAgIC8vcmV0dXJuIHRoZSByZXN1bHRcblxuICAgICAgICAgICAgaWYgKHRoaXNOb2RlLnZpc2libGUgJiYgdGhpc05vZGUucmVuZGVyYWJsZSkge1xuICAgICAgICAgICAgICAgIHZhciBzcHJpdGU6IFNwcml0ZSA9IHRoaXNOb2RlIGFzIFNwcml0ZTtcblxuICAgICAgICAgICAgICAgIGlmIChzcHJpdGUudGV4dHVyZS5iYXNlVGV4dHVyZS50ZXh0dXJlICE9IGN1cnJlbnRUZXh0dXJlIHx8IGluZGV4UnVuID09IHRoaXMuc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkZsdXNoKHNoYWRlciwgY3VycmVudFRleHR1cmUsIGluZGV4UnVuKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhSdW4gPSAwO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IHNwcml0ZS50ZXh0dXJlLmJhc2VUZXh0dXJlLnRleHR1cmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjbGlwID09IG51bGwgfHwgc3ByaXRlLmFhYmIuaW50ZXJzZWN0KGNsaXApKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuQWRkU3ByaXRlVG9CYXRjaChzcHJpdGUsIGluZGV4UnVuKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhSdW4rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5kZXhSdW4gPiAwKSB0aGlzLkZsdXNoKHNoYWRlciwgY3VycmVudFRleHR1cmUsIGluZGV4UnVuKTtcbiAgICB9XG4gICAgXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ3JhcGhpY3MvcmVuZGVyL3Nwcml0ZS9TcHJpdGVCYXRjaC50cyIsImltcG9ydCB7IFR5cGVkQXJyYXkyRCB9IGZyb20gXCIuLi9kcy9UeXBlZEFycmF5MkRcIjtcbmltcG9ydCB7IEJ5dGVzMkQgfSBmcm9tIFwiLi4vZHMvQnl0ZXMyRFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRNWE1hcCB7XG4gICAgYmFja2dyb3VuZGNvbG9yOiBzdHJpbmc7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgaW5maW5pdGU6IGJvb2xlYW47XG4gICAgbGF5ZXJzOiBUTVhMYXllcltdO1xuICAgIG5leHRvYmplY3RpZDogbnVtYmVyO1xuICAgIG9yaWVudGF0aW9uOiBzdHJpbmc7XG4gICAgcHJvcGVydGllczogVE1YUHJvcGVydHlbXTtcbiAgICByZW5kZXJvcmRlcjogc3RyaW5nO1xuICAgIHRpbGVkdmVyc2lvbjogc3RyaW5nO1xuICAgIHRpbGVoZWlnaHQ6IG51bWJlcjtcbiAgICB0aWxlc2V0czogVE1YVGlsZVNldFtdO1xuICAgIHRpbGV3aWR0aDogbnVtYmVyO1xuICAgIHR5cGU6IHN0cmluZztcbiAgICB2ZXJzaW9uOiBudW1iZXI7XG4gICAgd2lkdGg6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUTVhMYXllciB7XG4gICAgZGF0YTogc3RyaW5nO1xuICAgIGRyYXdvcmRlcjogc3RyaW5nO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIGxheWVyczogVE1YTGF5ZXJbXTtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgb2JqZWN0czogVE1YT2JqZWN0W107XG4gICAgb3BhY2l0eTogbnVtYmVyO1xuICAgIHByb3BlcnRpZXM6IFRNWFByb3BlcnR5O1xuICAgIHR5cGU6IHN0cmluZztcbiAgICB2aXNpYmxlOiBib29sZWFuO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUTVhQcm9wZXJ0eSB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIFRNWFRpbGVTZXQge1xuICAgIGNvbHVtbnM6IG51bWJlcjtcbiAgICBmaXJzdGdpZDogbnVtYmVyO1xuICAgIGdyaWQ6IG9iamVjdDtcbiAgICBpbWFnZTogc3RyaW5nO1xuICAgIGltYWdld2lkdGg6IG51bWJlcjtcbiAgICBpbWFnZWhlaWdodDogbnVtYmVyO1xuICAgIG1hcmdpbjogbnVtYmVyO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBwcm9wZXJ0aWVzOiBUTVhQcm9wZXJ0eVtdO1xuICAgIHNwYWNpbmc6IG51bWJlcjtcbiAgICB0ZXJyYWluczogVE1YVGVycmFpbltdO1xuICAgIHRpbGVjb3VudDogbnVtYmVyO1xuICAgIHRpbGVoZWlnaHQ6IG51bWJlcjtcbiAgICB0aWxlb2Zmc2V0OiBvYmplY3Q7XG4gICAgdGlsZXM6IFRNWFRpbGVbXTtcbiAgICB0aWxld2lkdGg6IG51bWJlcjtcbiAgICB0eXBlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVE1YVGlsZSB7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBwcm9wZXJ0aWVzOiBUTVhQcm9wZXJ0eVtdO1xuICAgIHRlcnJhaW46IFRNWFRlcnJhaW5bXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUTVhUZXJyYWluIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdGlsZTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRNWE9iamVjdCB7XG4gICAgZWxsaXBzZTogYm9vbGVhbjtcbiAgICBnaWQ6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICBpZDogbnVtYmVyO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBwb2ludDogYm9vbGVhbjtcbiAgICBwb2x5Z29uOiBudW1iZXJbXTtcbiAgICBwb2x5bGluZTogbnVtYmVyW107XG4gICAgcHJvcGVydGllczogbnVtYmVyW107XG4gICAgcm90YXRpb246IG51bWJlcjtcbiAgICB0ZXh0OiBvYmplY3Q7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIHZpc2libGU6IGJvb2xlYW47XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xufVxuXG5jb25zdCBkZWNvZGVCYXNlNjQgPSBmdW5jdGlvbihpbnB1dCkge1xuICAgIHJldHVybiB3aW5kb3cuYXRvYihpbnB1dC5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL1xcPV0vZywgXCJcIikpO1xufTtcblxuY29uc3QgZW5jb2RlID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAvLyBtYWtlIHN1cmUgb3VyIGlucHV0IHN0cmluZyBoYXMgdGhlIHJpZ2h0IGZvcm1hdFxuICAgIHJldHVybiB3aW5kb3cuYnRvYShpbnB1dC5yZXBsYWNlKC9cXHJcXG4vZywgXCJcXG5cIikpO1xufTtcblxuY29uc3QgZGVjb2RlQmFzZTY0QXNBcnJheSA9IGZ1bmN0aW9uKGlucHV0LCBieXRlcyA9IDQpIHtcbiAgICB2YXIgZGVjID0gZGVjb2RlQmFzZTY0KGlucHV0KSxcbiAgICAgICAgaSxcbiAgICAgICAgaixcbiAgICAgICAgbGVuO1xuICAgIHZhciBhciA9IG5ldyBVaW50MzJBcnJheShkZWMubGVuZ3RoIC8gYnl0ZXMpO1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gZGVjLmxlbmd0aCAvIGJ5dGVzOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYXJbaV0gPSAwO1xuICAgICAgICBmb3IgKGogPSBieXRlcyAtIDE7IGogPj0gMDsgLS1qKSB7XG4gICAgICAgICAgICBhcltpXSArPSBkZWMuY2hhckNvZGVBdChpICogYnl0ZXMgKyBqKSA8PCAoaiA8PCAzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gVE1YZGVjb2RlTGF5ZXIobGF5ZXI6IFRNWExheWVyKTogYW55IHtcbiAgICBjb25zdCBkID0gZGVjb2RlQmFzZTY0QXNBcnJheShsYXllci5kYXRhKTtcbiAgICByZXR1cm4gbmV3IEJ5dGVzMkQobGF5ZXIud2lkdGgsIGxheWVyLmhlaWdodCwgMTYsIDQsIGQuYnVmZmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdldExheWVyKG1hcDogVE1YTWFwLCBuYW1lOiBzdHJpbmcpOiBUTVhMYXllciB8IG51bGwge1xuICAgIGNvbnN0IGxheWVyID0gbWFwLmxheWVycy5maWx0ZXIobGF5ZXIgPT4gbGF5ZXIubmFtZSA9PT0gbmFtZSk7XG4gICAgcmV0dXJuIGxheWVyLmxlbmd0aCA9PT0gMSA/IGxheWVyWzBdIDogbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdldFRpbGVTZXQobWFwOiBUTVhNYXAsIG5hbWU6IHN0cmluZyk6IFRNWFRpbGVTZXQgfCBudWxsIHtcbiAgICBjb25zdCB0aWxlU2V0ID0gbWFwLnRpbGVzZXRzLmZpbHRlcih0aWxlU2V0ID0+IHRpbGVTZXQubmFtZSA9PT0gbmFtZSk7XG4gICAgcmV0dXJuIHRpbGVTZXQubGVuZ3RoID09PSAxID8gdGlsZVNldFswXSA6IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXllclRvQ29vcmRUZXh0dXJlKGxheWVyOiBCeXRlczJEKTogVHlwZWRBcnJheTJEIHtcbiAgICAvL0Fzc3VtZXMgYWxsIHRpbGVzIGFyZSBmcm9tIHNhbWUgc2V0Li4uZnVuY3Rpb25cbiAgICB2YXIgdGlsZVNldDogVE1YVGlsZVNldCA9IG51bGw7XG4gICAgdmFyIHRleHR1cmVEYXRhID0gbmV3IFR5cGVkQXJyYXkyRChsYXllci53aWR0aCwgbGF5ZXIuaGVpZ2h0KTtcblxuICAgIGZvciAodmFyIHhwID0gMDsgeHAgPCBsYXllci53aWR0aDsgeHArKykge1xuICAgICAgICBmb3IgKHZhciB5cCA9IDA7IHlwIDwgbGF5ZXIuaGVpZ2h0OyB5cCsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID1cbiAgICAgICAgICAgICAgICAobGF5ZXIuZ2V0KHhwLCB5cCwgMykgPDwgMjQpIHxcbiAgICAgICAgICAgICAgICAobGF5ZXIuZ2V0KHhwLCB5cCwgMikgPDwgMTYpIHxcbiAgICAgICAgICAgICAgICAobGF5ZXIuZ2V0KHhwLCB5cCwgMSkgPDwgOCkgfFxuICAgICAgICAgICAgICAgIGxheWVyLmdldCh4cCwgeXAsIDApO1xuICAgICAgICAgICAgaWYgKHNvdXJjZSA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgc3VwZXJTZXQgPSBNYXRoLmZsb29yKHNvdXJjZSAvIDEwMjQpO1xuICAgICAgICAgICAgICAgIHZhciBzdXBlclkgPSBNYXRoLmZsb29yKHN1cGVyU2V0IC8gOCk7XG4gICAgICAgICAgICAgICAgdmFyIHN1cGVyWCA9IHN1cGVyU2V0ICUgODtcblxuICAgICAgICAgICAgICAgIHZhciByZWxhdGl2ZUlEID0gc291cmNlIC0gc3VwZXJTZXQgKiAxMDI0O1xuICAgICAgICAgICAgICAgIHJlbGF0aXZlSUQtLTsgLy9Ob3Qgc3VyZSB3aHkgQVRNXG4gICAgICAgICAgICAgICAgdmFyIHkgPSBNYXRoLmZsb29yKHJlbGF0aXZlSUQgLyAzMik7XG4gICAgICAgICAgICAgICAgdmFyIHggPSByZWxhdGl2ZUlEIC0gMzIgKiB5O1xuICAgICAgICAgICAgICAgIHZhciB2OiBudW1iZXIgPSAoc3VwZXJZIDw8IDI0KSB8IChzdXBlclggPDwgMTYpIHwgKHkgPDwgOCkgfCB4O1xuICAgICAgICAgICAgICAgIHRleHR1cmVEYXRhLnNldCh4cCwgeXAsIHYpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlRGF0YS5zZXQoeHAsIHlwLCAweGZmZmZmZmZmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGV4dHVyZURhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXllclRvQ29sbGlzaW9uRGF0YShsYXllcjogQnl0ZXMyRCwgZ3VpZE9mZnNldDogbnVtYmVyLCB0aWxlU2l6ZTogbnVtYmVyKTogQnl0ZXMyRCB7XG4gICAgLy9Bc3N1bWVzIGFsbCB0aWxlcyBhcmUgZnJvbSBzYW1lIHNldC4uLmZ1bmN0aW9uXG4gICAgdmFyIGNvbGxpc2lvbkRhdGEgPSBuZXcgQnl0ZXMyRChsYXllci53aWR0aCwgbGF5ZXIuaGVpZ2h0LCB0aWxlU2l6ZSwgMSk7XG5cbiAgICBmb3IgKHZhciB4cCA9IDA7IHhwIDwgbGF5ZXIud2lkdGg7IHhwKyspIHtcbiAgICAgICAgZm9yICh2YXIgeXAgPSAwOyB5cCA8IGxheWVyLmhlaWdodDsgeXArKykge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGxheWVyLmdldCh4cCwgeXAsIDApO1xuXG4gICAgICAgICAgICBpZiAoc291cmNlID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciByZWxhdGl2ZUlEID0gc291cmNlIC0gZ3VpZE9mZnNldDsgLy90aWxlU2V0LmZpcnN0R0lEO1xuICAgICAgICAgICAgICAgIGNvbGxpc2lvbkRhdGEuc2V0KHhwLCB5cCwgMCwgMSA8PCByZWxhdGl2ZUlEKTsgLy9JbXBsaWNpdCArMVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25EYXRhLnNldCh4cCwgeXAsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIHkgPSAwOyB5IDwgMzA7IHkrKykge1xuICAgICAgICBsZXQgcm93ID0gXCJcIjtcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCAzMDsgeCsrKSB7XG4gICAgICAgICAgICByb3cgKz0gY29sbGlzaW9uRGF0YS5nZXQoeCwgeSwgMCkgPyBcIlhcIiA6IFwiMFwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb2xsaXNpb25EYXRhO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3RteC9UTVhNYXAudHMiLCJleHBvcnQgY2xhc3MgQnl0ZXMyRCB7XG4gICAgcHVibGljIGRhdGE6IEFycmF5QnVmZmVyO1xuICAgIHB1YmxpYyBkYXRhODogVWludDhBcnJheTtcblxuICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyO1xuICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcjtcblxuICAgIHByaXZhdGUgbnVtYmVyZXJuYWxXaWR0aDogbnVtYmVyO1xuXG4gICAgcHVibGljIGNlbGxTaXplOiBudW1iZXI7XG4gICAgcHVibGljIGludkNlbGxTaXplOiBudW1iZXI7XG5cbiAgICBwdWJsaWMgYnl0ZXNQZXJDZWxsOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgY2VsbFNpemU6IG51bWJlciwgYnl0ZXNQZXJDZWxsOiBudW1iZXIsIGRhdGE/OiBBcnJheUJ1ZmZlcikge1xuICAgICAgICB0aGlzLmluaXRhbGl6ZSh3aWR0aCwgaGVpZ2h0LCBjZWxsU2l6ZSwgYnl0ZXNQZXJDZWxsLCBkYXRhKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdGFsaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBjZWxsU2l6ZTogbnVtYmVyLCBieXRlc1BlckNlbGw6IG51bWJlciwgZGF0YT86IEFycmF5QnVmZmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5udW1iZXJlcm5hbFdpZHRoID0gd2lkdGggKiBieXRlc1BlckNlbGw7XG5cbiAgICAgICAgdGhpcy5jZWxsU2l6ZSA9IGNlbGxTaXplO1xuICAgICAgICB0aGlzLmludkNlbGxTaXplID0gMSAvIGNlbGxTaXplO1xuXG4gICAgICAgIHRoaXMuYnl0ZXNQZXJDZWxsID0gYnl0ZXNQZXJDZWxsO1xuXG4gICAgICAgIGlmIChkYXRhID09IG51bGwpIHRoaXMuZGF0YSA9IG5ldyBBcnJheUJ1ZmZlcih3aWR0aCAqIGhlaWdodCAqIGJ5dGVzUGVyQ2VsbCk7XG4gICAgICAgIGVsc2UgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5kYXRhOCA9IG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCh4OiBudW1iZXIsIHk6IG51bWJlciwgb2Zmc2V0OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhOFt5ICogdGhpcy5udW1iZXJlcm5hbFdpZHRoICsgeCAqIHRoaXMuYnl0ZXNQZXJDZWxsICsgb2Zmc2V0XTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0KHg6IG51bWJlciwgeTogbnVtYmVyLCBvZmZzZXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmRhdGE4W3kgKiB0aGlzLm51bWJlcmVybmFsV2lkdGggKyB4ICogdGhpcy5ieXRlc1BlckNlbGwgKyBvZmZzZXRdID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFJlYWwoeDogbnVtYmVyLCB5OiBudW1iZXIsIG9mZnNldDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuSW5kZXgoeCksIHRoaXMuSW5kZXgoeSksIG9mZnNldCk7XG4gICAgfVxuXG4gICAgcHVibGljIEluZGV4KHZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gKHZhbHVlICogdGhpcy5pbnZDZWxsU2l6ZSkgfCAwO1xuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2RzL0J5dGVzMkQudHMiLCJpbXBvcnQgeyBJUmVuZGVyZXIgfSBmcm9tIFwiLi4vUmVuZGVyRW5naW5lXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uLy4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gXCIuLi8uLi90ZXh0dXJlL1RleHR1cmVcIjtcbmltcG9ydCB7IFRpbGVMYXllciB9IGZyb20gXCIuL1RpbGVMYXllclwiO1xuaW1wb3J0IHsgVGlsZUxheWVyUmVuZGVyUHJveHkgfSBmcm9tIFwiLi9UaWxlTGF5ZXJSZW5kZXJQcm94eVwiO1xuaW1wb3J0IHsgU2hhZGVyV3JhcHBlciB9IGZyb20gXCIuLi91dGlsL1NoYWRlcldyYXBwZXJcIjtcbmltcG9ydCB7IENhbWVyYSB9IGZyb20gXCIuLi8uLi9kaXNwbGF5bGlzdC9DYW1lcmFcIjtcbmltcG9ydCB7IFR5cGVkQXJyYXkyRCB9IGZyb20gXCIuLi8uLi8uLi9kcy9UeXBlZEFycmF5MkRcIjtcbmltcG9ydCAqIGFzIFdlYkdMU2hhZGVyVXRpbHMgZnJvbSBcIi4uL3V0aWwvV2ViR0xTaGFkZXJVdGlsXCI7XG5pbXBvcnQgeyBCYXNlVGV4dHVyZSB9IGZyb20gXCIuLi8uLi90ZXh0dXJlL0Jhc2VUZXh0dXJlXCI7XG5pbXBvcnQgeyBBQUJCMiB9IGZyb20gXCIuLi8uLi8uLi9nZW9tL0FBQkIyXCI7XG5cbmV4cG9ydCBjbGFzcyBUaWxlTWFwUmVuZGVyZXIgaW1wbGVtZW50cyBJUmVuZGVyZXIge1xuICAgIHB1YmxpYyBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xuICAgIHB1YmxpYyB2aWV3cG9ydFNpemU6IFZlY3RvcjI7XG4gICAgcHVibGljIHNjYWxlZFZpZXdwb3J0U2l6ZTogRmxvYXQzMkFycmF5O1xuICAgIHB1YmxpYyBpbnZlcnNlVGlsZVRleHR1cmVTaXplOiBGbG9hdDMyQXJyYXk7XG4gICAgcHVibGljIGludmVyc2VTcHJpdGVUZXh0dXJlU2l6ZTogRmxvYXQzMkFycmF5O1xuXG4gICAgcHVibGljIHRpbGVTY2FsZTogbnVtYmVyO1xuICAgIHB1YmxpYyB0aWxlU2l6ZTogbnVtYmVyO1xuICAgIHB1YmxpYyBmaWx0ZXJlZDogYm9vbGVhbjtcblxuICAgIHB1YmxpYyBzcHJpdGVTaGVldDogV2ViR0xUZXh0dXJlO1xuXG4gICAgcHVibGljIHF1YWRWZXJ0QnVmZmVyOiBXZWJHTEJ1ZmZlcjtcblxuICAgIHB1YmxpYyBsYXllcnM6IEFycmF5PFRpbGVMYXllcj47XG4gICAgcHVibGljIGxheWVyc01hcDogTWFwPHN0cmluZywgVGlsZUxheWVyPjtcblxuICAgIHB1YmxpYyByZW5kZXJMYXllcnM6IEFycmF5PFRpbGVMYXllclJlbmRlclByb3h5PjtcbiAgICBwdWJsaWMgcmVuZGVyTGF5ZXJzTWFwOiBNYXA8c3RyaW5nLCBUaWxlTGF5ZXJSZW5kZXJQcm94eT47XG5cbiAgICBwdWJsaWMgdGlsZW1hcFNoYWRlcjogU2hhZGVyV3JhcHBlcjtcblxuICAgIHB1YmxpYyBjYW1lcmE6IENhbWVyYTtcblxuICAgIHB1YmxpYyB3cml0ZWJ1ZmZlcjI6IFR5cGVkQXJyYXkyRDtcblxuICAgIHB1YmxpYyBmbGlwOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IodGlsZVNpemU6IG51bWJlciwgdGlsZVNjYWxlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy50aWxlU2l6ZSA9IHRpbGVTaXplO1xuICAgICAgICB0aGlzLnRpbGVTY2FsZSA9IHRpbGVTY2FsZTtcbiAgICAgICAgdGhpcy5sYXllcnMgPSBuZXcgQXJyYXk8VGlsZUxheWVyPigpO1xuICAgICAgICB0aGlzLmxheWVyc01hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJMYXllcnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJMYXllcnNNYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxuXG4gICAgcHVibGljIEluaXQoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgY2FtZXJhOiBDYW1lcmEpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2wgIT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gY2FtZXJhO1xuICAgICAgICAvL3RpbGVTY2FsZSA9IDEuMDtcblxuICAgICAgICB0aGlzLmZpbHRlcmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3ByaXRlU2hlZXQgPSB0aGlzLmdsLmNyZWF0ZVRleHR1cmUoKTtcblxuICAgICAgICB0aGlzLnZpZXdwb3J0U2l6ZSA9IG5ldyBWZWN0b3IyKCk7XG4gICAgICAgIHRoaXMuc2NhbGVkVmlld3BvcnRTaXplID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcbiAgICAgICAgdGhpcy5pbnZlcnNlVGlsZVRleHR1cmVTaXplID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcbiAgICAgICAgdGhpcy5pbnZlcnNlU3ByaXRlVGV4dHVyZVNpemUgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuXG4gICAgICAgIHRoaXMucXVhZFZlcnRCdWZmZXIgPSB0aGlzLmdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICB0aGlzLmdsLmJpbmRCdWZmZXIoV2ViR0xSZW5kZXJpbmdDb250ZXh0LkFSUkFZX0JVRkZFUiwgdGhpcy5xdWFkVmVydEJ1ZmZlcik7XG5cbiAgICAgICAgdmFyIHF1YWRWZXJ0cyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgLTEsXG4gICAgICAgICAgICAtMSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAxLFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIC0xLFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAxLFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAwLFxuXG4gICAgICAgICAgICAtMSxcbiAgICAgICAgICAgIC0xLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAxLFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgLTEsXG4gICAgICAgICAgICAxLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoV2ViR0xSZW5kZXJpbmdDb250ZXh0LkFSUkFZX0JVRkZFUiwgcXVhZFZlcnRzLCBXZWJHTFJlbmRlcmluZ0NvbnRleHQuU1RBVElDX0RSQVcpO1xuICAgICAgICB0aGlzLnRpbGVtYXBTaGFkZXIgPSBuZXcgU2hhZGVyV3JhcHBlcihcbiAgICAgICAgICAgIGdsLFxuICAgICAgICAgICAgV2ViR0xTaGFkZXJVdGlscy5Db21waWxlUHJvZ3JhbShnbCwgVGlsZU1hcFJlbmRlcmVyLlRJTEVNQVBfVkVSVEVYX1NIQURFUiwgVGlsZU1hcFJlbmRlcmVyLlRJTEVNQVBfRlJBR01FTlRfU0hBREVSKSxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmZsaXAgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLndyaXRlYnVmZmVyMiA9IG5ldyBUeXBlZEFycmF5MkQoMywgMyk7IC8vTWF4IDN4MyB0aWxlc2V0IGNoYW5nZXNcblxuICAgICAgICB0aGlzLnJlbmRlckxheWVycy5mb3JFYWNoKHJlbmRlckxheWVyID0+IHJlbmRlckxheWVyLkluaXQoZ2wsIGNhbWVyYSkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBSZXNpemUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgdmFyIGV4cGFuZGVkV2lkdGg6IG51bWJlciA9IChNYXRoLmZsb29yKHdpZHRoIC8gKHRoaXMudGlsZVNpemUgKiB0aGlzLnRpbGVTY2FsZSkpICsgMikgKiB0aGlzLnRpbGVTaXplO1xuICAgICAgICB2YXIgZXhwYW5kZWRIZWlnaHQ6IG51bWJlciA9IChNYXRoLmZsb29yKGhlaWdodCAvICh0aGlzLnRpbGVTaXplICogdGhpcy50aWxlU2NhbGUpKSArIDIpICogdGhpcy50aWxlU2l6ZTtcblxuICAgICAgICB0aGlzLnZpZXdwb3J0U2l6ZS54ID0gZXhwYW5kZWRXaWR0aCAqIHRoaXMudGlsZVNjYWxlO1xuICAgICAgICB0aGlzLnZpZXdwb3J0U2l6ZS55ID0gZXhwYW5kZWRIZWlnaHQgKiB0aGlzLnRpbGVTY2FsZTtcbiAgICAgICAgdGhpcy5zY2FsZWRWaWV3cG9ydFNpemVbMF0gPSB0aGlzLnZpZXdwb3J0U2l6ZS54IC8gdGhpcy50aWxlU2NhbGU7XG4gICAgICAgIHRoaXMuc2NhbGVkVmlld3BvcnRTaXplWzFdID0gdGhpcy52aWV3cG9ydFNpemUueSAvIHRoaXMudGlsZVNjYWxlO1xuICAgICAgICB0aGlzLnJlbmRlckxheWVycy5mb3JFYWNoKHJlbmRlckxheWVyID0+XG4gICAgICAgICAgICByZW5kZXJMYXllci5SZXNpemUoTWF0aC5mbG9vcihleHBhbmRlZFdpZHRoKSwgTWF0aC5mbG9vcihleHBhbmRlZEhlaWdodCkpLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIHB1YmxpYyAgVGlsZVNjYWxlKHNjYWxlOkZsb2F0KSB7XG4gICAgLy8gICAgIHRoaXMudGlsZVNjYWxlID0gc2NhbGU7XG4gICAgLy8gICAgIHNjYWxlZFZpZXdwb3J0U2l6ZVswXSA9IHZpZXdwb3J0U2l6ZS54L3NjYWxlO1xuICAgIC8vICAgICBzY2FsZWRWaWV3cG9ydFNpemVbMV0gPSB2aWV3cG9ydFNpemUueS9zY2FsZTtcbiAgICAvLyB9XG5cbiAgICBwdWJsaWMgU2V0U3ByaXRlU2hlZXQoaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5nbC5iaW5kVGV4dHVyZShXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV8yRCwgdGhpcy5zcHJpdGVTaGVldCk7XG4gICAgICAgIHRoaXMuZ2wucGl4ZWxTdG9yZWkoV2ViR0xSZW5kZXJpbmdDb250ZXh0LlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgMCk7XG4gICAgICAgIC8vIGdsLnRleFBhcmFtZXRlcmkoV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfMkQsV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfTUFHX0ZJTFRFUixXZWJHTFJlbmRlcmluZ0NvbnRleHQuTkVBUkVTVCk7XG4gICAgICAgIC8vIGdsLnRleFBhcmFtZXRlcmkoV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfMkQsV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfTUlOX0ZJTFRFUixXZWJHTFJlbmRlcmluZ0NvbnRleHQuTkVBUkVTVCk7XG4gICAgICAgIHRoaXMuZ2wudGV4SW1hZ2UyRChcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFXzJELFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5SR0JBLFxuICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlJHQkEsXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgIGltYWdlLFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXRoaXMuZmlsdGVyZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaShcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV9NQUdfRklMVEVSLFxuICAgICAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5ORUFSRVNULFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaShcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV9NSU5fRklMVEVSLFxuICAgICAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5ORUFSRVNULFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaShcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV9NQUdfRklMVEVSLFxuICAgICAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5MSU5FQVIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5nbC50ZXhQYXJhbWV0ZXJpKFxuICAgICAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFXzJELFxuICAgICAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFX01JTl9GSUxURVIsXG4gICAgICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LkxJTkVBUixcbiAgICAgICAgICAgICk7IC8vIFdvcnRoIGl0IHRvIG1pcG1hcCBoZXJlP1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW52ZXJzZVNwcml0ZVRleHR1cmVTaXplWzBdID0gMSAvIGltYWdlLndpZHRoO1xuICAgICAgICB0aGlzLmludmVyc2VTcHJpdGVUZXh0dXJlU2l6ZVsxXSA9IDEgLyBpbWFnZS5oZWlnaHQ7XG4gICAgfVxuXG4gICAgcHVibGljIFNldFRpbGVMYXllcihpbWFnZTogSFRNTEltYWdlRWxlbWVudCwgbGF5ZXJJZDogU3RyaW5nLCBzY3JvbGxTY2FsZVg6IG51bWJlciwgc2Nyb2xsU2NhbGVZOiBudW1iZXIpIHtcbiAgICAgICAgdmFyIGxheWVyID0gbmV3IFRpbGVMYXllcigpO1xuICAgICAgICBsYXllci5zZXRUZXh0dXJlKHRoaXMuZ2wsIGltYWdlLCBmYWxzZSk7XG4gICAgICAgIGxheWVyLnNjcm9sbFNjYWxlLnggPSBzY3JvbGxTY2FsZVg7XG4gICAgICAgIGxheWVyLnNjcm9sbFNjYWxlLnkgPSBzY3JvbGxTY2FsZVk7XG4gICAgICAgIHRoaXMubGF5ZXJzLnB1c2gobGF5ZXIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBTZXRUaWxlTGF5ZXJGcm9tRGF0YShcbiAgICAgICAgZGF0YTogVHlwZWRBcnJheTJELFxuICAgICAgICBzcHJpdGU6IEJhc2VUZXh0dXJlLFxuICAgICAgICBsYXllcklkOiBzdHJpbmcsXG4gICAgICAgIHNjcm9sbFNjYWxlWDogbnVtYmVyLFxuICAgICAgICBzY3JvbGxTY2FsZVk6IG51bWJlcixcbiAgICApIHtcbiAgICAgICAgdmFyIGxheWVyID0gbmV3IFRpbGVMYXllcigpO1xuICAgICAgICBsYXllci5zZXRUZXh0dXJlRnJvbU1hcCh0aGlzLmdsLCBkYXRhKTtcbiAgICAgICAgbGF5ZXIuc2V0U3ByaXRlVGV4dHVyZShzcHJpdGUpO1xuICAgICAgICBsYXllci5zY3JvbGxTY2FsZS54ID0gc2Nyb2xsU2NhbGVYO1xuICAgICAgICBsYXllci5zY3JvbGxTY2FsZS55ID0gc2Nyb2xsU2NhbGVZO1xuICAgICAgICB0aGlzLmxheWVycy5wdXNoKGxheWVyKTtcbiAgICAgICAgdGhpcy5sYXllcnNNYXAuc2V0KGxheWVySWQsIGxheWVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgU2V0VGlsZVJlbmRlckxheWVyKGlkOnN0cmluZywgbGF5ZXJzOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgICAgIHZhciB0aWxlUmVuZGVyTGF5ZXIgPSBuZXcgVGlsZUxheWVyUmVuZGVyUHJveHkodGhpcywgbGF5ZXJzKTtcbiAgICAgICAgdGhpcy5yZW5kZXJMYXllcnMucHVzaCh0aWxlUmVuZGVyTGF5ZXIpO1xuICAgICAgICB0aGlzLnJlbmRlckxheWVyc01hcC5zZXQoaWQsdGlsZVJlbmRlckxheWVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlTWFwKHg6IG51bWJlciwgeTogbnVtYmVyLCBkYXRhOiBBcnJheTxudW1iZXI+KSB7XG5cbiAgICAgICAgdmFyIHN0YXJ0WCA9IGRhdGFbMF07XG4gICAgICAgIHZhciBzdGFydFkgPSBkYXRhWzFdO1xuICAgICAgICB2YXIgd2lkdGggPSBkYXRhWzJdO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZGF0YVszXTtcbiAgICAgICAgdmFyIGNlbnRlclggPSBkYXRhWzRdO1xuICAgICAgICB2YXIgY2VudGVyWSA9IGRhdGFbNV07XG4gICAgICAgIHZhciBzdXBlclkgPSBNYXRoLmZsb29yKGRhdGFbNl0gLyA4KTtcbiAgICAgICAgdmFyIHN1cGVyWCA9IGRhdGFbNl0gJSA4O1xuXG4gICAgICAgIHRoaXMud3JpdGVidWZmZXIyLmggPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMud3JpdGVidWZmZXIyLncgPSB3aWR0aDtcblxuICAgICAgICBmb3IgKHZhciB5cG9zID0gMDsgeXBvcyA8IGhlaWdodDsgeXBvcysrKSB7XG4gICAgICAgICAgICAvLyBmb3IgKHlwb3MgaW4gMC4uLmhlaWdodCkge1xuICAgICAgICAgICAgLy8gZm9yICh4cG9zIGluIDAuLi53aWR0aCkge1xuICAgICAgICAgICAgZm9yICh2YXIgeHBvcyA9IDA7IHhwb3MgPCB3aWR0aDsgeHBvcysrKSB7XG4gICAgICAgICAgICAgICAgdmFyIF94ID0gc3RhcnRYICsgeHBvcztcbiAgICAgICAgICAgICAgICB2YXIgX3kgPSBzdGFydFkgKyB5cG9zO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IChzdXBlclkgPDwgMjQpIHwgKHN1cGVyWCA8PCAxNikgfCAoX3kgPDwgOCkgfCBfeDtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlYnVmZmVyMi5zZXQoeHBvcywgeXBvcywgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdyaXRlTGF5ZXIgPSB0aGlzLmxheWVyc1syXS50aWxlRGF0YVRleHR1cmU7XG4gICAgICAgIHRoaXMuZ2wuYmluZFRleHR1cmUoV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfMkQsIHdyaXRlTGF5ZXIpO1xuICAgICAgICB0aGlzLmdsLnRleFN1YkltYWdlMkQoXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICB4IC0gY2VudGVyWCxcbiAgICAgICAgICAgIHkgLSBjZW50ZXJZLFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuUkdCQSxcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgdGhpcy53cml0ZWJ1ZmZlcjIuZGF0YTgsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIFJlbmRlcihjbGlwOiBBQUJCMikge1xuICAgICAgICB0aGlzLnJlbmRlckxheWVycy5mb3JFYWNoKHJlbmRlckxheWVyID0+IHJlbmRlckxheWVyLlJlbmRlcihjbGlwKSk7XG4gICAgfVxuXG4gICAgcHVibGljIFJlbmRlckxheWVycyhyZW5kZXJMYXllcjogVGlsZUxheWVyUmVuZGVyUHJveHkpIHtcbiAgICAgICAgdGhpcy5nbC5jbGVhckNvbG9yKDAuMCwgMC4wLCAwLjAsIDAuMCk7XG4gICAgICAgIHRoaXMuZ2wuY29sb3JNYXNrKHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICAgICAgICB0aGlzLmdsLmNsZWFyKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5DT0xPUl9CVUZGRVJfQklUKTtcblxuICAgICAgICB0aGlzLmdsLnVzZVByb2dyYW0odGhpcy50aWxlbWFwU2hhZGVyLnByb2dyYW0pO1xuXG4gICAgICAgIHRoaXMuZ2wuYmluZEJ1ZmZlcihXZWJHTFJlbmRlcmluZ0NvbnRleHQuQVJSQVlfQlVGRkVSLCB0aGlzLnF1YWRWZXJ0QnVmZmVyKTtcblxuICAgICAgICB0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMudGlsZW1hcFNoYWRlci5hdHRyaWJ1dGUucG9zaXRpb24pO1xuICAgICAgICB0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMudGlsZW1hcFNoYWRlci5hdHRyaWJ1dGUudGV4dHVyZSk7XG4gICAgICAgIHRoaXMuZ2wudmVydGV4QXR0cmliUG9pbnRlcihcbiAgICAgICAgICAgIHRoaXMudGlsZW1hcFNoYWRlci5hdHRyaWJ1dGUucG9zaXRpb24sXG4gICAgICAgICAgICAyLFxuICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LkZMT0FULFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAxNixcbiAgICAgICAgICAgIDAsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLnRpbGVtYXBTaGFkZXIuYXR0cmlidXRlLnRleHR1cmUsIDIsIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5GTE9BVCwgZmFsc2UsIDE2LCA4KTtcblxuICAgICAgICB0aGlzLmdsLnVuaWZvcm0yZnYodGhpcy50aWxlbWFwU2hhZGVyLnVuaWZvcm0udmlld3BvcnRTaXplLCB0aGlzLnNjYWxlZFZpZXdwb3J0U2l6ZSk7XG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybTFmKHRoaXMudGlsZW1hcFNoYWRlci51bmlmb3JtLnRpbGVTaXplLCB0aGlzLnRpbGVTaXplKTtcbiAgICAgICAgdGhpcy5nbC51bmlmb3JtMWYodGhpcy50aWxlbWFwU2hhZGVyLnVuaWZvcm0uaW52ZXJzZVRpbGVTaXplLCAxIC8gdGhpcy50aWxlU2l6ZSk7XG5cbiAgICAgICAgdGhpcy5nbC51bmlmb3JtMWkodGhpcy50aWxlbWFwU2hhZGVyLnVuaWZvcm0uc3ByaXRlcywgMCk7XG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybTFpKHRoaXMudGlsZW1hcFNoYWRlci51bmlmb3JtLnRpbGVzLCAxKTtcblxuICAgICAgICAvLyBmb3IgKGkgaW4gcmVuZGVyTGF5ZXIubGF5ZXJzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVuZGVyTGF5ZXIubGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyB2YXIgbGF5ZXIgPSB0aGlzLmxheWVyc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gdGhpcy5sYXllcnNNYXAuZ2V0KHJlbmRlckxheWVyLmxheWVyc1tpXSk7XG4gICAgICAgICAgICBjb25zdCBwWCA9IHJlbmRlckxheWVyLnRoaXNTbmFwLnggLyAyO1xuICAgICAgICAgICAgY29uc3QgcFkgPSByZW5kZXJMYXllci50aGlzU25hcC55IC8gMjtcblxuICAgICAgICAgICAgdGhpcy5nbC51bmlmb3JtMmYodGhpcy50aWxlbWFwU2hhZGVyLnVuaWZvcm0udmlld09mZnNldCwgcFgsIHBZKTtcbiAgICAgICAgICAgIHRoaXMuZ2wudW5pZm9ybTJmdih0aGlzLnRpbGVtYXBTaGFkZXIudW5pZm9ybS5pbnZlcnNlU3ByaXRlVGV4dHVyZVNpemUsIGxheWVyLmludmVyc2VTcHJpdGVUZXh0dXJlU2l6ZSk7XG4gICAgICAgICAgICB0aGlzLmdsLnVuaWZvcm0yZnYodGhpcy50aWxlbWFwU2hhZGVyLnVuaWZvcm0uaW52ZXJzZVRpbGVUZXh0dXJlU2l6ZSwgbGF5ZXIuaW52ZXJzZVRpbGVEYXRhVGV4dHVyZVNpemUpO1xuXG4gICAgICAgICAgICB0aGlzLmdsLmFjdGl2ZVRleHR1cmUoV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkUwKTtcbiAgICAgICAgICAgIHRoaXMuZ2wuYmluZFRleHR1cmUoV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfMkQsIGxheWVyLnNwcml0ZVRleHR1cmUpO1xuXG4gICAgICAgICAgICB0aGlzLmdsLmFjdGl2ZVRleHR1cmUoV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkUxKTtcbiAgICAgICAgICAgIHRoaXMuZ2wuYmluZFRleHR1cmUoV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfMkQsIGxheWVyLnRpbGVEYXRhVGV4dHVyZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZ2wuZHJhd0FycmF5cyhXZWJHTFJlbmRlcmluZ0NvbnRleHQuVFJJQU5HTEVTLCAwLCA2KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdsLmNvbG9yTWFzayh0cnVlLCB0cnVlLCB0cnVlLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLypcblxuICAgIDI1Nio4PTIwNDhcblxuICAgIDh4OCBzdXBlcnRpbGVzID0gNjQgc3VwZXJ0aWxlc1xuXG4gICAgb2YgXG5cbiAgICAxNioxNiA4KjggcGl4ZWwgdGlsZXMgPSAyNTYgdGlsZXNcblxuICAgIHRvdGFsID0gNjQgKiAyNTYgPSAxNmsgdGlsZXNcblxucC55ID0gaW5kZXggJSA4O1xucC54ID0gTWF0aC5mbG9vcihpbmRleCAvIDgpO1xuXG4gICAgKi9cblxuICAgIHN0YXRpYyBUSUxFTUFQX1ZFUlRFWF9TSEFERVI6IHN0cmluZyA9IGBcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG4gICAgICAgIGF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uO1xuICAgICAgICBhdHRyaWJ1dGUgdmVjMiB0ZXh0dXJlO1xuXG4gICAgICAgIHZhcnlpbmcgdmVjMiBwaXhlbENvb3JkO1xuICAgICAgICB2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7XG5cbiAgICAgICAgdW5pZm9ybSB2ZWMyIHZpZXdPZmZzZXQ7XG4gICAgICAgIHVuaWZvcm0gdmVjMiB2aWV3cG9ydFNpemU7XG4gICAgICAgIHVuaWZvcm0gdmVjMiBpbnZlcnNlVGlsZVRleHR1cmVTaXplO1xuICAgICAgICB1bmlmb3JtIGZsb2F0IGludmVyc2VUaWxlU2l6ZTtcblxuICAgICAgICB2b2lkIG1haW4odm9pZCkge1xuICAgICAgICAgICBwaXhlbENvb3JkID0gKHRleHR1cmUgKiB2aWV3cG9ydFNpemUpICsgdmlld09mZnNldDtcbiAgICAgICAgICAgdGV4Q29vcmQgPSBwaXhlbENvb3JkICogaW52ZXJzZVRpbGVUZXh0dXJlU2l6ZSAqIGludmVyc2VUaWxlU2l6ZTtcbiAgICAgICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLjAsIDEuMCk7XG4gICAgICAgIH1gO1xuXG4gICAgc3RhdGljIFRJTEVNQVBfRlJBR01FTlRfU0hBREVSOiBzdHJpbmcgPSBgXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG4gICAgICAgIHZhcnlpbmcgdmVjMiBwaXhlbENvb3JkO1xuICAgICAgICB2YXJ5aW5nIHZlYzIgdGV4Q29vcmQ7XG5cbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdGlsZXM7XG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHNwcml0ZXM7XG5cbiAgICAgICAgdW5pZm9ybSB2ZWMyIGludmVyc2VUaWxlVGV4dHVyZVNpemU7XG4gICAgICAgIHVuaWZvcm0gdmVjMiBpbnZlcnNlU3ByaXRlVGV4dHVyZVNpemU7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgdGlsZVNpemU7XG5cbiAgICAgICAgdm9pZCBtYWluKHZvaWQpIHtcbiAgICAgICAgICAgdmVjNCB0aWxlID0gdGV4dHVyZTJEKHRpbGVzLCB0ZXhDb29yZCk7XG4gICAgICAgICAgICAvLyBpZih0aWxlLnggPT0gMS4wICYmIHRpbGUueSA9PSAxLjApIHsgZGlzY2FyZDsgfVxuICAgICAgICAgICAgaWYgKHRpbGUueCA9PSAxLjAgJiYgdGlsZS55ID09IDEuMCkgeyBcbiAgICAgICAgICAgICAgICBkaXNjYXJkO1xuICAgICAgICAgICAgICAgIC8vIGdsX0ZyYWdDb2xvciA9IHZlYzQoMC4wLDAuMCwwLjAsMC4wKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmVjMiBzdXBlclNwcml0ZU9mZnNldCA9IGZsb29yKHRpbGUuencgKiAyNTYuMCkgKiAyNTYuMDtcbiAgICAgICAgICAgICAgICB2ZWMyIHNwcml0ZU9mZnNldCA9IGZsb29yKHRpbGUueHkgKiAyNTYuMCkgKiB0aWxlU2l6ZTtcbiAgICAgICAgICAgICAgICB2ZWMyIHNwcml0ZUNvb3JkID0gbW9kKHBpeGVsQ29vcmQsIHRpbGVTaXplKTtcblxuICAgICAgICAgICAgICAgIC8vV29ya3NcbiAgICAgICAgICAgICAgICAvLyAgICBzcHJpdGVDb29yZC54ID0gKC0xLjArKDIuMCogMC4wKSkgKiAoKCAwLjAqdGlsZVNpemUpIC0gc3ByaXRlQ29vcmQueCk7IC8vbm9ybWFsICAwXG4gICAgICAgICAgICAgICAgLy8gICAgc3ByaXRlQ29vcmQueCA9ICgtMS4wKygyLjAqIDEuMCkpICogKCggMS4wKnRpbGVTaXplKSAtIHNwcml0ZUNvb3JkLngpOyAvL2ZsaXAgICAxXG5cbiAgICAgICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQoc3ByaXRlcywgKHN1cGVyU3ByaXRlT2Zmc2V0ICsgc3ByaXRlT2Zmc2V0ICsgc3ByaXRlQ29vcmQpICogaW52ZXJzZVNwcml0ZVRleHR1cmVTaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWA7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ3JhcGhpY3MvcmVuZGVyL3RpbGUvVGlsZU1hcFJlbmRlcmVyLnRzIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi8uLi9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IEJhc2VUZXh0dXJlIH0gZnJvbSBcIi4uLy4uL3RleHR1cmUvQmFzZVRleHR1cmVcIjtcbmltcG9ydCB7IFR5cGVkQXJyYXkyRCB9IGZyb20gXCIuLi8uLi8uLi9kcy9UeXBlZEFycmF5MkRcIjtcblxuZXhwb3J0IGNsYXNzIFRpbGVMYXllciB7XG4gICAgcHVibGljIHNjcm9sbFNjYWxlOiBWZWN0b3IyO1xuXG4gICAgcHVibGljIHRpbGVEYXRhVGV4dHVyZTogV2ViR0xUZXh0dXJlO1xuICAgIHB1YmxpYyBpbnZlcnNlVGlsZURhdGFUZXh0dXJlU2l6ZTogRmxvYXQzMkFycmF5O1xuXG4gICAgcHVibGljIHNwcml0ZVRleHR1cmU6IFdlYkdMVGV4dHVyZTtcbiAgICBwdWJsaWMgaW52ZXJzZVNwcml0ZVRleHR1cmVTaXplOiBGbG9hdDMyQXJyYXk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zY3JvbGxTY2FsZSA9IG5ldyBWZWN0b3IyKDEsIDEpO1xuICAgICAgICB0aGlzLmludmVyc2VUaWxlRGF0YVRleHR1cmVTaXplID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcbiAgICAgICAgdGhpcy5pbnZlcnNlU3ByaXRlVGV4dHVyZVNpemUgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRTcHJpdGVUZXh0dXJlKHNwcml0ZVRleHR1cmU6IEJhc2VUZXh0dXJlKSB7XG4gICAgICAgIHRoaXMuc3ByaXRlVGV4dHVyZSA9IHNwcml0ZVRleHR1cmUudGV4dHVyZTtcbiAgICAgICAgdGhpcy5pbnZlcnNlU3ByaXRlVGV4dHVyZVNpemVbMF0gPSAxIC8gc3ByaXRlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgdGhpcy5pbnZlcnNlU3ByaXRlVGV4dHVyZVNpemVbMV0gPSAxIC8gc3ByaXRlVGV4dHVyZS5oZWlnaHQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFRleHR1cmVGcm9tTWFwKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGRhdGE6IFR5cGVkQXJyYXkyRCkge1xuICAgICAgICBpZiAodGhpcy50aWxlRGF0YVRleHR1cmUgPT0gbnVsbCkgdGhpcy50aWxlRGF0YVRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFXzJELCB0aGlzLnRpbGVEYXRhVGV4dHVyZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuUkdCQSxcbiAgICAgICAgICAgIGRhdGEudyxcbiAgICAgICAgICAgIGRhdGEuaCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuUkdCQSxcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgZGF0YS5kYXRhOCxcbiAgICAgICAgKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFXzJELFxuICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfTUFHX0ZJTFRFUixcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5ORUFSRVNULFxuICAgICAgICApO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKFxuICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfMkQsXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV9NSU5fRklMVEVSLFxuICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0Lk5FQVJFU1QsXG4gICAgICAgICk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFX1dSQVBfUyxcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5DTEFNUF9UT19FREdFLFxuICAgICAgICApO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKFxuICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfMkQsXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV9XUkFQX1QsXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuQ0xBTVBfVE9fRURHRSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5pbnZlcnNlVGlsZURhdGFUZXh0dXJlU2l6ZVswXSA9IDEgLyBkYXRhLnc7XG4gICAgICAgIHRoaXMuaW52ZXJzZVRpbGVEYXRhVGV4dHVyZVNpemVbMV0gPSAxIC8gZGF0YS5oO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRUZXh0dXJlKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50LCByZXBlYXQ6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMudGlsZURhdGFUZXh0dXJlID09IG51bGwpIHRoaXMudGlsZURhdGFUZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV8yRCwgdGhpcy50aWxlRGF0YVRleHR1cmUpO1xuICAgICAgICBnbC50ZXhJbWFnZTJEKFxuICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfMkQsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlJHQkEsXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuUkdCQSxcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgaW1hZ2UsXG4gICAgICAgICk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFX01BR19GSUxURVIsXG4gICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuTkVBUkVTVCxcbiAgICAgICAgKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFXzJELFxuICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfTUlOX0ZJTFRFUixcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5ORUFSRVNULFxuICAgICAgICApO1xuICAgICAgICBpZiAocmVwZWF0KSB7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKFxuICAgICAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFXzJELFxuICAgICAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5URVhUVVJFX1dSQVBfUyxcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuUkVQRUFULFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoXG4gICAgICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfMkQsXG4gICAgICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlRFWFRVUkVfV1JBUF9ULFxuICAgICAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5SRVBFQVQsXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV9XUkFQX1MsXG4gICAgICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LkNMQU1QX1RPX0VER0UsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgICAgICBXZWJHTFJlbmRlcmluZ0NvbnRleHQuVEVYVFVSRV9XUkFQX1QsXG4gICAgICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LkNMQU1QX1RPX0VER0UsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnZlcnNlVGlsZURhdGFUZXh0dXJlU2l6ZVswXSA9IDEgLyBpbWFnZS53aWR0aDtcbiAgICAgICAgdGhpcy5pbnZlcnNlVGlsZURhdGFUZXh0dXJlU2l6ZVsxXSA9IDEgLyBpbWFnZS5oZWlnaHQ7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2dyYXBoaWNzL3JlbmRlci90aWxlL1RpbGVMYXllci50cyIsImltcG9ydCB7IElSZW5kZXJlciB9IGZyb20gXCIuLi9SZW5kZXJFbmdpbmVcIjtcbmltcG9ydCB7IEJhc2VUZXh0dXJlIH0gZnJvbSBcIi4uLy4uL3RleHR1cmUvQmFzZVRleHR1cmVcIjtcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tIFwiLi4vLi4vdGV4dHVyZS9UZXh0dXJlXCI7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tIFwiLi4vLi4vZGlzcGxheWxpc3QvU3ByaXRlXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uLy4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4uLy4uL2Rpc3BsYXlsaXN0L0NhbWVyYVwiO1xuaW1wb3J0IHsgVGlsZU1hcFJlbmRlcmVyIH0gZnJvbSBcIi4vVGlsZU1hcFJlbmRlcmVyXCI7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vLi4vZ2VvbS9SZWN0YW5nbGVcIjtcbmltcG9ydCB7IEFBQkIyIH0gZnJvbSBcIi4uLy4uLy4uL2dlb20vQUFCQjJcIjtcblxuLy9UT0RPOiBHZXQgcmlkIG9mIHRoaXMgY2xhc3MgZXZlbnR1YWxseVxuLy9JdHMgb25seSB0byBiZSBhYmxlIHRvIHNwbGl0IHRoZSB0aWxlbWFwIHJlbmRlcmVyIGluIHRoZSBzaG9ydCB0ZXJtXG5cbmV4cG9ydCBjbGFzcyBUaWxlTGF5ZXJSZW5kZXJQcm94eSBpbXBsZW1lbnRzIElSZW5kZXJlciB7XG4gICAgcHVibGljIHRpbGVNYXA6IFRpbGVNYXBSZW5kZXJlcjtcbiAgICBwdWJsaWMgbGF5ZXJzOiBBcnJheTxzdHJpbmc+O1xuXG4gICAgcHVibGljIHN1cmZhY2U6IEJhc2VUZXh0dXJlO1xuICAgIHB1YmxpYyB0ZXh0dXJlOiBUZXh0dXJlO1xuICAgIHB1YmxpYyBzcHJpdGU6IFNwcml0ZTtcblxuICAgIHB1YmxpYyBsYXN0U25hcDogVmVjdG9yMjtcbiAgICBwdWJsaWMgdGhpc1NuYXA6IFZlY3RvcjI7XG4gICAgcHVibGljIHNuYXBDaGFuZ2VkOiBib29sZWFuO1xuXG4gICAgcHVibGljIHNpemU6IFZlY3RvcjI7XG5cbiAgICBjb25zdHJ1Y3Rvcih0aWxlTWFwOiBUaWxlTWFwUmVuZGVyZXIsIGxheWVyczogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICB0aGlzLnRpbGVNYXAgPSB0aWxlTWFwO1xuICAgICAgICB0aGlzLmxheWVycyA9IGxheWVycztcblxuICAgICAgICB0aGlzLmxhc3RTbmFwID0gbmV3IFZlY3RvcjIoMCwgMCk7XG4gICAgICAgIHRoaXMudGhpc1NuYXAgPSBuZXcgVmVjdG9yMigtMTAwMCwgLTEwMDApO1xuICAgICAgICB0aGlzLnNuYXBDaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5zaXplID0gbmV3IFZlY3RvcjIoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJTdXJmYWNlID0gdGhpcy5yZW5kZXJTdXJmYWNlLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgcHVibGljIEluaXQoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgY2FtZXJhOiBDYW1lcmEpIHtcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBuZXcgU3ByaXRlKCk7XG4gICAgICAgIHRoaXMuc3ByaXRlLmlkID0gXCJyZW5kZXJUZXh0dXJlXCI7XG4gICAgfVxuXG4gICAgcHVibGljIFJlc2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLnNpemUuc2V0VG8od2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuc3VyZmFjZSA9IG5ldyBCYXNlVGV4dHVyZSh0aGlzLnRpbGVNYXAuZ2wsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLnRleHR1cmUgPSBuZXcgVGV4dHVyZSh0aGlzLnN1cmZhY2UsIG5ldyBSZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCksIG5ldyBWZWN0b3IyKDAsIDApKTtcbiAgICAgICAgdGhpcy5zcHJpdGUudGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcbiAgICAgICAgdGhpcy5zcHJpdGUuc2NhbGUuc2V0VG8oMiwgLTIpO1xuICAgICAgICB0aGlzLnNwcml0ZS5waXZvdC5zZXRUbyh3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjYWxjU25hcChjYW1lcmFQb3M6IFZlY3RvcjIpOiBib29sZWFuIHtcbiAgICAgICAgdGhpcy5sYXN0U25hcC5jb3B5KHRoaXMudGhpc1NuYXApO1xuICAgICAgICB0aGlzLnRoaXNTbmFwLnggPSAoTWF0aC5mbG9vcihjYW1lcmFQb3MueCAvIC0xNikgLSAxKSAqIDE2O1xuICAgICAgICB0aGlzLnRoaXNTbmFwLnkgPSAoTWF0aC5mbG9vcihjYW1lcmFQb3MueSAvIC0xNikgLSAxKSAqIDE2O1xuICAgICAgICB0aGlzLnNuYXBDaGFuZ2VkID0gdGhpcy5sYXN0U25hcC54ICE9IHRoaXMudGhpc1NuYXAueCB8fCB0aGlzLmxhc3RTbmFwLnkgIT0gdGhpcy50aGlzU25hcC55O1xuICAgICAgICByZXR1cm4gdGhpcy5zbmFwQ2hhbmdlZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgUmVuZGVyKGNsaXA6IEFBQkIyKSB7XG4gICAgICAgIC8vIGlmIChjYWxjU25hcCh0aWxlTWFwLmNhbWVyYS5wb3NpdGlvbikpIHtcbiAgICAgICAgdGhpcy5jYWxjU25hcCh0aGlzLnRpbGVNYXAuY2FtZXJhLnBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5zcHJpdGUucG9zaXRpb24uY29weSh0aGlzLnNpemUpO1xuICAgICAgICB0aGlzLnNwcml0ZS5wb3NpdGlvbi5wbHVzRXF1YWxzKHRoaXMudGhpc1NuYXApO1xuICAgICAgICAvLyBzcHJpdGUucG9zaXRpb24uc2V0VG8oNDE2K3RoaXNTbmFwLngsMzM2K3RoaXNTbmFwLnkpO1xuICAgICAgICB0aGlzLnN1cmZhY2UuZHJhd1RvKHRoaXMucmVuZGVyU3VyZmFjZSk7XG4gICAgICAgIC8vIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyU3VyZmFjZSgpIHtcbiAgICAgICAgdGhpcy50aWxlTWFwLlJlbmRlckxheWVycyh0aGlzKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ3JhcGhpY3MvcmVuZGVyL3RpbGUvVGlsZUxheWVyUmVuZGVyUHJveHkudHMiLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZWNzL1N5c3RlbVwiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vLi4vY29yZS9jb21wb25lbnRzL1Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gXCIuLi9jb21wb25lbnRzL0dyYXBoaWNzXCI7XG5pbXBvcnQgeyBHcmFwaGljc0FuaW1hdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL0dyYXBoaWNzQW5pbWF0aW9uXCI7XG5pbXBvcnQgeyBGcmFtZUxpc3RNYW5hZ2VyIH0gZnJvbSBcIi4uL2ZyYW1lL0ZyYW1lTGlzdE1hbmFnZXJcIjtcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi8uLi9lY3MvRW50aXR5XCI7XG5pbXBvcnQgeyBBbmltYXRpb25Db250cm9sbGVyIH0gZnJvbSBcIi4uL2FuaW1hdGlvbi9BbmltYXRpb25Db250cm9sbGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBBbmltYXRpb25TeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIHByaXZhdGUgZnJhbWVMaXN0TWFuYWdlcjogRnJhbWVMaXN0TWFuYWdlcjtcbiAgICBjb25zdHJ1Y3RvcihmcmFtZUxpc3RNYW5hZ2VyOiBGcmFtZUxpc3RNYW5hZ2VyKSB7XG4gICAgICAgIHN1cGVyKFtQb3NpdGlvbiwgR3JhcGhpY3MsIEdyYXBoaWNzQW5pbWF0aW9uXSk7XG4gICAgICAgIHRoaXMuZnJhbWVMaXN0TWFuYWdlciA9IGZyYW1lTGlzdE1hbmFnZXI7XG4gICAgfVxuICAgIG9uRW50aXR5QWRkZWQoZW50aXR5OiBFbnRpdHksIHBvc2l0aW9uOiBQb3NpdGlvbiwgZ3JhcGhpY3M6IEdyYXBoaWNzLCBncmFwaGljc0FuaW1hdGlvbjogR3JhcGhpY3NBbmltYXRpb24pIHtcbiAgICAgICAgY29uc3QgbmV3QW5pbWF0aW9uID0gdGhpcy5mcmFtZUxpc3RNYW5hZ2VyXG4gICAgICAgICAgICAuZ2V0RnJhbWVMaXN0KGdyYXBoaWNzQW5pbWF0aW9uLmZyYW1lTGlzdElkKVxuICAgICAgICAgICAgLmdldEFuaW1hdGlvbihncmFwaGljc0FuaW1hdGlvbi5hbmltYXRpb25JZCk7XG4gICAgICAgIGdyYXBoaWNzQW5pbWF0aW9uLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIGdyYXBoaWNzQW5pbWF0aW9uLmFuaW1hdGlvbkNvbnRyb2xsZXIgPSBuZXcgQW5pbWF0aW9uQ29udHJvbGxlcihuZXdBbmltYXRpb24pO1xuICAgIH1cblxuICAgIHVwZGF0ZUVudGl0eShlbnRpdHk6IEVudGl0eSwgcG9zaXRpb246IFBvc2l0aW9uLCBncmFwaGljczogR3JhcGhpY3MsIGdyYXBoaWNzQW5pbWF0aW9uOiBHcmFwaGljc0FuaW1hdGlvbikge1xuICAgICAgICBpZiAoZ3JhcGhpY3NBbmltYXRpb24uZGlydHkpIHRoaXMucGxheUFuaW1hdGlvbihncmFwaGljc0FuaW1hdGlvbik7XG4gICAgICAgIGdyYXBoaWNzQW5pbWF0aW9uLmFuaW1hdGlvbkNvbnRyb2xsZXJcbiAgICAgICAgICAgIC51cGRhdGUodGhpcy5kdClcbiAgICAgICAgICAgIC51cGRhdGVTcHJpdGUoZ3JhcGhpY3Muc3ByaXRlLCBwb3NpdGlvbi5kaXJlY3Rpb24ueCwgcG9zaXRpb24uZGlyZWN0aW9uLnkpO1xuICAgIH1cblxuICAgIHBsYXlBbmltYXRpb24oZ3JhcGhpY3NBbmltYXRpb246IEdyYXBoaWNzQW5pbWF0aW9uKSB7XG4gICAgICAgIGdyYXBoaWNzQW5pbWF0aW9uLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IHRoaXMuZnJhbWVMaXN0TWFuYWdlclxuICAgICAgICAgICAgLmdldEZyYW1lTGlzdChncmFwaGljc0FuaW1hdGlvbi5mcmFtZUxpc3RJZClcbiAgICAgICAgICAgIC5nZXRBbmltYXRpb24oZ3JhcGhpY3NBbmltYXRpb24uYW5pbWF0aW9uSWQpO1xuICAgICAgICBncmFwaGljc0FuaW1hdGlvbi5hbmltYXRpb25Db250cm9sbGVyLnBsYXkoYW5pbWF0aW9uKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ3JhcGhpY3Mvc3lzdGVtcy9BbmltYXRpb25TeXN0ZW0udHMiLCJpbXBvcnQgeyBBbmltYXRpb24gfSBmcm9tIFwiLi9BbmltYXRvblwiO1xuaW1wb3J0IHsgRnJhbWUgfSBmcm9tIFwiLi4vZnJhbWUvRnJhbWVcIjtcblxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbkNvbnRyb2xsZXIge1xuXG4gICAgcHVibGljIGFuaW1hdGlvbjpBbmltYXRpb247XG4gICAgcHVibGljIGZyYW1lSW5kZXg6bnVtYmVyO1xuICAgIHB1YmxpYyBhY2N1bXVsYXRlZFRpbWU6bnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoYW5pbWF0aW9uOkFuaW1hdGlvbikge1xuICAgICAgICB0aGlzLnBsYXkoYW5pbWF0aW9uKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKGR0Om51bWJlcik6RnJhbWUge1xuICAgICAgICB0aGlzLmFjY3VtdWxhdGVkVGltZSArPSBkdDtcbiAgICAgICAgaWYgKHRoaXMuYWNjdW11bGF0ZWRUaW1lPnRoaXMuYW5pbWF0aW9uLm1zUGVyRnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWVJbmRleCA9ICsrdGhpcy5mcmFtZUluZGV4ICUgdGhpcy5hbmltYXRpb24ubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5hY2N1bXVsYXRlZFRpbWUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbi5mcmFtZXNbdGhpcy5mcmFtZUluZGV4XTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcGxheShhbmltYXRpb246QW5pbWF0aW9uKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0gYW5pbWF0aW9uO1xuICAgICAgICB0aGlzLmZyYW1lSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmFjY3VtdWxhdGVkVGltZSA9IDA7XG4gICAgfVxuXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2dyYXBoaWNzL2FuaW1hdGlvbi9BbmltYXRpb25Db250cm9sbGVyLnRzIiwiaW1wb3J0IHsgQnl0ZXMyRCB9IGZyb20gXCIuLi8uLi8uLi9kcy9CeXRlczJEXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uLy4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgU2VnbWVudCB9IGZyb20gXCIuLi8uLi8uLi9nZW9tL1NlZ21lbnRcIjtcbmltcG9ydCB7IENvbnRhY3QgfSBmcm9tIFwiLi4vQ29udGFjdFwiO1xuaW1wb3J0IHsgQkZQcm94eSB9IGZyb20gXCIuLi9CRlByb3h5XCI7XG5pbXBvcnQgeyBSYXkgfSBmcm9tIFwiLi4vUmF5XCI7XG5pbXBvcnQgeyBTdGF0aWNBQUJCdnNTd2VlcHRBQUJCLCBJc1NlZ1ZzQUFCQiwgQUFCQnZzU3RhdGljU29saWRBQUJCRml4ZWROb3JtYWwsIEFBQkJ2c1N0YXRpY1NvbGlkQUFCQiB9IGZyb20gXCIuLi9JbnRlcnNlY3RcIjtcbmltcG9ydCB7IFBsYW5lIH0gZnJvbSBcIi4uLy4uLy4uL2dlb20vUGxhbmVcIjtcbmltcG9ydCB7IEFBQkIyIH0gZnJvbSBcIi4uLy4uLy4uL2dlb20vQUFCQjJcIjtcbmltcG9ydCB7IEFBQkIgfSBmcm9tIFwiLi4vLi4vLi4vZ2VvbS9BQUJCXCI7XG5cbmNvbnN0IFNPTElEOiBudW1iZXIgPSAweDEgPDwgMDtcbmNvbnN0IE9ORV9XQVk6IG51bWJlciA9IDB4MSA8PCAxO1xuY29uc3QgU1RFUDogbnVtYmVyID0gMHgxIDw8IDI7XG5jb25zdCBBQUJCQ09MTElEQUJMRTogbnVtYmVyID0gU09MSUQgfCBPTkVfV0FZIHwgU1RFUDtcblxuY29uc3QgT05FX1dBWV9UT0xMRVJBTkNFOiBudW1iZXIgPSAtNC4wO1xuXG5jb25zdCBDT1JSRUNUSU9OOiBudW1iZXIgPSAwLjA7XG5jb25zdCBST1VORERPV046IG51bWJlciA9IDAuMDE7XG5jb25zdCBST1VORFVQOiBudW1iZXIgPSAwLjU7XG5cbmV4cG9ydCBjbGFzcyBUaWxlTWFwQ29sbGlzaW9uIHtcbiAgICBwdWJsaWMgdGlsZVNpemU6IG51bWJlcjtcbiAgICBwdWJsaWMgdGlsZUhhbGZTaXplOiBudW1iZXI7XG5cbiAgICBwdWJsaWMgZGF0YTogQnl0ZXMyRDtcblxuICAgIHB1YmxpYyB0aWxlUG9zaXRpb246IFZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xuICAgIHB1YmxpYyB0aWxlRXh0ZW50czogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG5cbiAgICBwdWJsaWMgaGFsZnRpbGVQb3NpdGlvbjogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG4gICAgcHVibGljIGhhbGZ0aWxlRXh0ZW50czogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG5cbiAgICBwdWJsaWMgYmlhczogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKDEsIDEpO1xuICAgIHB1YmxpYyBzdGVwOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoMCwgLTEpO1xuXG4gICAgcHVibGljIHBsYW5lOiBQbGFuZSA9IG5ldyBQbGFuZSgpO1xuICAgIHB1YmxpYyBzZWdtZW50OiBTZWdtZW50ID0gbmV3IFNlZ21lbnQoKTtcblxuICAgIHB1YmxpYyBjb250YWN0OiBDb250YWN0O1xuICAgIHB1YmxpYyBjbG9zZXN0Q29udGFjdDogQ29udGFjdDtcblxuICAgIC8vIHB1YmxpYyAgZGVidWc6SW50LT5JbnQtPlZvaWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBCeXRlczJEKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMudGlsZVNpemUgPSBkYXRhLmNlbGxTaXplO1xuICAgICAgICB0aGlzLnRpbGVIYWxmU2l6ZSA9IHRoaXMudGlsZVNpemUgLyAyO1xuICAgICAgICB0aGlzLnRpbGVFeHRlbnRzLnNldFRvKHRoaXMudGlsZUhhbGZTaXplLCB0aGlzLnRpbGVIYWxmU2l6ZSk7XG4gICAgICAgIHRoaXMuaGFsZnRpbGVFeHRlbnRzLnNldFRvKHRoaXMudGlsZUhhbGZTaXplIC8gNCwgdGhpcy50aWxlSGFsZlNpemUgLyA0KTtcbiAgICAgICAgdGhpcy5jb250YWN0ID0gbmV3IENvbnRhY3QoKTtcbiAgICAgICAgdGhpcy5jbG9zZXN0Q29udGFjdCA9IG5ldyBDb250YWN0KCk7XG4gICAgfVxuXG4gICAgLy9UT0RPXG4gICAgLy9DYW4gYmUgaW1wcm92ZWRcbiAgICBwdWJsaWMgdGVzdENvbGxpc2lvbihwcm94eTogQkZQcm94eSkge1xuICAgICAgICB2YXIgYm9keSA9IHByb3h5LmJvZHk7XG5cbiAgICAgICAgdmFyIHN0YXJ0WCA9IHRoaXMuZGF0YS5JbmRleChcbiAgICAgICAgICAgIE1hdGgubWluKGJvZHkucG9zaXRpb24ueCwgYm9keS5wcmVkaWN0ZWRQb3NpdGlvbi54KSAtIHByb3h5LmFhYmIuZXh0ZW50cy54IC0gQ09SUkVDVElPTixcbiAgICAgICAgKTtcbiAgICAgICAgdmFyIHN0YXJ0WSA9IHRoaXMuZGF0YS5JbmRleChcbiAgICAgICAgICAgIE1hdGgubWluKGJvZHkucG9zaXRpb24ueSwgYm9keS5wcmVkaWN0ZWRQb3NpdGlvbi55KSAtIHByb3h5LmFhYmIuZXh0ZW50cy55IC0gQ09SUkVDVElPTixcbiAgICAgICAgKTtcblxuICAgICAgICB2YXIgZW5kWCA9XG4gICAgICAgICAgICB0aGlzLmRhdGEuSW5kZXgoXG4gICAgICAgICAgICAgICAgTWF0aC5tYXgoYm9keS5wb3NpdGlvbi54LCBib2R5LnByZWRpY3RlZFBvc2l0aW9uLngpICsgcHJveHkuYWFiYi5leHRlbnRzLnggKyBDT1JSRUNUSU9OIC0gUk9VTkRET1dOLFxuICAgICAgICAgICAgKSArIDE7XG4gICAgICAgIHZhciBlbmRZID1cbiAgICAgICAgICAgIHRoaXMuZGF0YS5JbmRleChNYXRoLm1heChib2R5LnBvc2l0aW9uLnksIGJvZHkucHJlZGljdGVkUG9zaXRpb24ueSkgKyBwcm94eS5hYWJiLmV4dGVudHMueSArIENPUlJFQ1RJT04pICtcbiAgICAgICAgICAgIDE7XG5cbiAgICAgICAgdmFyIGMgPSAwO1xuICAgICAgICBpZiAoYm9keS5pc0J1bGxldCkge1xuICAgICAgICAgICAgdGhpcy5wbGFuZS5zZXRGcm9tU2VnbWVudChib2R5LnByZWRpY3RlZFBvc2l0aW9uLCBib2R5LnBvc2l0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VzdENvbnRhY3QudGltZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgICAgIGZvciAodmFyIHkgPSBzdGFydFk7IHkgPCBlbmRZOyB5KyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gc3RhcnRYOyB4IDwgZW5kWDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjZWxsID0gdGhpcy5kYXRhLmdldCh4LCB5LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgLy9CdWxsZXRzIGRvbnQgY29sbGlkZSB3aXRoIDEgd2F5cyBhdCBhbGxcbiAgICAgICAgICAgICAgICAgICAgaWYgKChjZWxsICYgU09MSUQpID09IDEgJiYgKGNlbGwgJiBPTkVfV0FZKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbGVQb3NpdGlvbi54ID0geCAqIHRoaXMudGlsZVNpemUgKyB0aGlzLnRpbGVIYWxmU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGlsZVBvc2l0aW9uLnkgPSB5ICogdGhpcy50aWxlU2l6ZSArIHRoaXMudGlsZUhhbGZTaXplO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy95dWsgZml4IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5wbGFuZS5kaXN0YW5jZVBvaW50KHRoaXMudGlsZVBvc2l0aW9uKSkgPCA0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhdGljQUFCQnZzU3dlZXB0QUFCQihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGlsZVBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aWxlRXh0ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm94eS5hYWJiLmV4dGVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5LmRlbHRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApID09IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHkucmVzcG9uZEJ1bGxldENvbGxpc2lvbih0aGlzLmNvbnRhY3QpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3Nlc3RDb250YWN0LnNldFRvKHRoaXMuY29udGFjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jbG9zZXN0Q29udGFjdC50aW1lIDwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAgICAgICAgICAgcHJveHkuY29sbGlkZShudWxsLCB0aGlzLmNvbnRhY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcGxhbmUuc2V0RnJvbVNlZ21lbnQoYm9keS5wcmVkaWN0ZWRQb3NpdGlvbixib2R5LnBvc2l0aW9uKTtcbiAgICAgICAgICAgIGZvciAodmFyIHkgPSBzdGFydFk7IHkgPCBlbmRZOyB5KyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gc3RhcnRYOyB4IDwgZW5kWDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjZWxsID0gdGhpcy5kYXRhLmdldCh4LCB5LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChjZWxsICYgQUFCQkNPTExJREFCTEUpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aWxlUG9zaXRpb24ueCA9IHggKiB0aGlzLnRpbGVTaXplICsgdGhpcy50aWxlSGFsZlNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbGVQb3NpdGlvbi55ID0geSAqIHRoaXMudGlsZVNpemUgKyB0aGlzLnRpbGVIYWxmU2l6ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChjZWxsICYgU1RFUCkgPT0gU1RFUCAmJiBib2R5LnVzZXNTdGFpcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnQuc2V0KGJvZHkucG9zaXRpb24sIGJvZHkucHJlZGljdGVkUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGpzLkxpYi5kZWJ1ZygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8tNCwrNFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vKzQsLTRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3N0ZXAgOFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFpcnN0ZXAgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciBzdGFpclNpemUgPSA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciBzdGFydFN0YWlyID0gLTY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgc3RhaXIgPSAwOyBzdGFpciA8IDg7IHN0YWlyKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSA4IC0gc3RhaXIgKiBzdGFpcnN0ZXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFsZnRpbGVQb3NpdGlvbi5jb3B5KHRoaXMudGlsZVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYWxmdGlsZVBvc2l0aW9uLnggKz0gcCAqIC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbGZ0aWxlUG9zaXRpb24ueSArPSBwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc1NlZ1ZzQUFCQihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYWxmdGlsZVBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFsZnRpbGVFeHRlbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5LmFhYmIuZXh0ZW50cy54LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5LmFhYmIuZXh0ZW50cy55LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFBQkJ2c1N0YXRpY1NvbGlkQUFCQkZpeGVkTm9ybWFsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkuYWFiYi5leHRlbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFsZnRpbGVQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbGZ0aWxlRXh0ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0ZXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkucmVzcG9uZFN0YXRpY0NvbGxpc2lvbih0aGlzLmNvbnRhY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkuY29sbGlkZShudWxsLCB0aGlzLmNvbnRhY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW50ZXJzZWN0LkFBQkJ2c1N0YXRpY1NvbGlkQUFCQlNsb3BlKGJvZHkucG9zaXRpb24scHJveHkuYWFiYi5leHRlbnRzLHRpbGVQb3NpdGlvbix0aWxlRXh0ZW50cyxiaWFzLGNvbnRhY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQUJCdnNTdGF0aWNTb2xpZEFBQkIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5LmFhYmIuZXh0ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aWxlUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGlsZUV4dGVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmlhcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiAoSW50ZXJzZWN0LkFBQkJ2c1N0YXRpY1NvbGlkQUFCQihib2R5LnBvc2l0aW9uLHByb3h5LmFhYmIuZXh0ZW50cyx0aWxlUG9zaXRpb24sdGlsZUV4dGVudHMsYmlhcyxjb250YWN0KT09dHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9DaGVjayBmb3IgMSB3YXkgcGxhdGZvcm0/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChjZWxsICYgT05FX1dBWSkgPT0gT05FX1dBWSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5LmNvbGxpZGVPbmVXYXkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFjdC5ub3JtYWwueSA8IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFjdC5kaXN0YW5jZSA+PSBPTkVfV0FZX1RPTExFUkFOQ0VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5LnJlc3BvbmRTdGF0aWNDb2xsaXNpb24odGhpcy5jb250YWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5LmNvbGxpZGUobnVsbCwgdGhpcy5jb250YWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAoIGNvbnRhY3Qubm9ybWFsLnghPTAgJiYgY29udGFjdC5kaXN0YW5jZTwxNikge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBjb250YWN0Lm5vcm1hbC5zZXRUbygwLC0xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBib2R5LnJlc3BvbmRTdGF0aWNDb2xsaXNpb24oY29udGFjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRYOiBudW1iZXIgPSB4ICsgdGhpcy5jb250YWN0Lm5vcm1hbC54O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFk6IG51bWJlciA9IHkgKyB0aGlzLmNvbnRhY3Qubm9ybWFsLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Q2VsbCA9IHRoaXMuZGF0YS5nZXQobmV4dFgsIG5leHRZLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChuZXh0Q2VsbCAmIEFBQkJDT0xMSURBQkxFKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5LnJlc3BvbmRTdGF0aWNDb2xsaXNpb24odGhpcy5jb250YWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5LmNvbGxpZGUobnVsbCwgdGhpcy5jb250YWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChjZWxsJk9ORV9XQVk9PTAgfHwgKCBjb250YWN0Lm5vcm1hbC55PDAmJmNvbnRhY3QuZGlzdGFuY2U+PS00ICkgKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIG5leHRYOkludCA9IHggKyBTdGQuaW50KGNvbnRhY3Qubm9ybWFsLngpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIG5leHRZOkludCA9IHkgKyBTdGQuaW50KGNvbnRhY3Qubm9ybWFsLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIG5leHRDZWxsID0gZGF0YS5nZXQobmV4dFgsbmV4dFksMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAobmV4dENlbGwmQUFCQkNPTExJREFCTEU9PTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBib2R5LnJlc3BvbmRTdGF0aWNDb2xsaXNpb24oY29udGFjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgcHJveHkuY29sbGlkZShudWxsLGNvbnRhY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHJhY2UoYyk7XG4gICAgICAgIC8vIGlmIChjPjEwMCkge1xuICAgICAgICAvLyAgICAgdHJhY2Uoc3RhcnRYLGVuZFgsc3RhcnRYLGVuZFkpO1xuICAgICAgICAvLyAgICAganMuTGliLmRlYnVnKCk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gcGxhbmUuc2V0RnJvbVNlZ21lbnQoYm9keS5wcmVkaWN0ZWRQb3NpdGlvbixib2R5LnBvc2l0aW9uKTtcblxuICAgICAgICAvLyBmb3IgKHggaW4gc3RhcnRYLi4uZW5kWCkge1xuICAgICAgICAvLyAgICAgZm9yICh5IGluIHN0YXJ0WS4uLmVuZFkpIHtcbiAgICAgICAgLy8gICAgICAgICB2YXIgY2VsbCA9IGRhdGEuZ2V0KHgseSwxKTtcbiAgICAgICAgLy8gICAgICAgICBpZiAoY2VsbCZDT0xMSURBQkxFPT0xKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgIHRpbGVQb3NpdGlvbi54ID0gKHgqdGlsZVNpemUpK3RpbGVIYWxmU2l6ZTtcbiAgICAgICAgLy8gICAgICAgICAgICAgdGlsZVBvc2l0aW9uLnkgPSAoeSp0aWxlU2l6ZSkrdGlsZUhhbGZTaXplO1xuXG4gICAgICAgIC8vICAgICAgICAgICAgIGlmIChib2R5LmlzQnVsbGV0KSB7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAvL0ZJWE1FXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMocGxhbmUuZGlzdGFuY2VQb2ludCh0aWxlUG9zaXRpb24pKTw0MCkge1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGlmIChJbnRlcnNlY3QuU3RhdGljQUFCQnZzU3dlZXB0QUFCQih0aWxlUG9zaXRpb24sdGlsZUV4dGVudHMsYm9keS5wb3NpdGlvbixwcm94eS5hYWJiLmV4dGVudHMsYm9keS5kZWx0YSxjb250YWN0KT09dHJ1ZSkge1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBib2R5LnJlc3BvbmRCdWxsZXRDb2xsaXNpb24oY29udGFjdCk7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm94eS5jb250YWN0Q2FsbGJhY2shPW51bGwpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5LmNvbnRhY3RDYWxsYmFjayhwcm94eSxudWxsLGNvbnRhY3QpO1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgaWYgKEludGVyc2VjdC5BQUJCdnNTdGF0aWNTb2xpZEFBQkIoYm9keS5wb3NpdGlvbixwcm94eS5hYWJiLmV4dGVudHMsdGlsZVBvc2l0aW9uLHRpbGVFeHRlbnRzLGNvbnRhY3QpPT10cnVlKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRYOkludCA9IHggKyBTdGQuaW50KGNvbnRhY3Qubm9ybWFsLngpO1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0WTpJbnQgPSB5ICsgU3RkLmludChjb250YWN0Lm5vcm1hbC55KTtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dENlbGwgPSBkYXRhLmdldChuZXh0WCxuZXh0WSwxKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBpZiAobmV4dENlbGwmQ09MTElEQUJMRT09MCkge1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBib2R5LnJlc3BvbmRTdGF0aWNDb2xsaXNpb24oY29udGFjdCk7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm94eS5jb250YWN0Q2FsbGJhY2shPW51bGwpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5LmNvbnRhY3RDYWxsYmFjayhwcm94eSxudWxsLGNvbnRhY3QpO1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB9XG4gICAgICAgIC8vICAgICAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaXRlcmF0ZUNlbGxzKGFhYmI6QUFCQjIsY2I6KGFhYmI6QUFCQik9PnZvaWQpIHtcbiAgICAgICAgdmFyIHN0YXJ0WCA9IHRoaXMuZGF0YS5JbmRleChhYWJiLmwpO1xuICAgICAgICB2YXIgc3RhcnRZID0gdGhpcy5kYXRhLkluZGV4KGFhYmIudCk7XG5cbiAgICAgICAgdmFyIGVuZFggPSB0aGlzLmRhdGEuSW5kZXgoYWFiYi5yKSArIDE7XG4gICAgICAgIHZhciBlbmRZID0gdGhpcy5kYXRhLkluZGV4KGFhYmIuYikgKyAxO1xuXG4gICAgICAgIHZhciBhYWJiQXJnID0gbmV3IEFBQkIoKTtcbiAgICAgICAgYWFiYkFyZy5leHRlbnRzLnNldFRvKHRoaXMudGlsZUhhbGZTaXplLHRoaXMudGlsZUhhbGZTaXplKTtcblxuICAgICAgICBmb3IgKHZhciB5ID0gc3RhcnRZOyB5IDwgZW5kWTsgeSsrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gc3RhcnRYOyB4IDwgZW5kWDsgeCsrKSB7XG5cbiAgICAgICAgLy8gZm9yICh4IGluIHN0YXJ0WC4uLmVuZFgpIHtcbiAgICAgICAgLy8gICAgIGZvciAoeSBpbiBzdGFydFkuLi5lbmRZKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNlbGwgPSB0aGlzLmRhdGEuZ2V0KHgseSwwKTtcbiAgICAgICAgICAgICAgICBpZiAoKGNlbGwmU09MSUQpPT1TT0xJRCkge1xuICAgICAgICAgICAgICAgICAgICBhYWJiQXJnLnBvc2l0aW9uLnNldFRvKCh4KnRoaXMudGlsZVNpemUpK3RoaXMudGlsZUhhbGZTaXplLCh5KnRoaXMudGlsZVNpemUpK3RoaXMudGlsZUhhbGZTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgY2IoYWFiYkFyZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGNhc3RSYXkocmF5OiBSYXkpOiBib29sZWFuIHtcbiAgICAgICAgdmFyIHggPSB0aGlzLmRhdGEuSW5kZXgocmF5Lm9yaWdpbi54KTtcbiAgICAgICAgdmFyIHkgPSB0aGlzLmRhdGEuSW5kZXgocmF5Lm9yaWdpbi55KTtcbiAgICAgICAgdmFyIGNYID0geCAqIHRoaXMudGlsZVNpemU7XG4gICAgICAgIHZhciBjWSA9IHkgKiB0aGlzLnRpbGVTaXplO1xuICAgICAgICB2YXIgZCA9IHJheS5kaXJlY3Rpb247XG4gICAgICAgIGlmIChkLnggPT0gMC4wICYmIGQueSA9PSAwLjApIHJldHVybiB0cnVlO1xuICAgICAgICB2YXIgc3RlcFg6IG51bWJlciA9IDA7XG4gICAgICAgIHZhciB0TWF4WDogbnVtYmVyID0gMTAwMDAwMDAwO1xuICAgICAgICB2YXIgdERlbHRhWDogbnVtYmVyID0gMDtcbiAgICAgICAgaWYgKGQueCA8IDApIHtcbiAgICAgICAgICAgIHN0ZXBYID0gLTE7XG4gICAgICAgICAgICB0TWF4WCA9IChjWCAtIHJheS5vcmlnaW4ueCkgLyBkLng7XG4gICAgICAgICAgICB0RGVsdGFYID0gdGhpcy50aWxlU2l6ZSAvIC1kLng7XG4gICAgICAgIH0gZWxzZSBpZiAoZC54ID4gMCkge1xuICAgICAgICAgICAgc3RlcFggPSAxO1xuICAgICAgICAgICAgdE1heFggPSAoY1ggKyB0aGlzLnRpbGVTaXplIC0gcmF5Lm9yaWdpbi54KSAvIGQueDtcbiAgICAgICAgICAgIHREZWx0YVggPSB0aGlzLnRpbGVTaXplIC8gZC54O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0ZXBZOiBudW1iZXIgPSAwO1xuICAgICAgICB2YXIgdE1heFk6IG51bWJlciA9IDEwMDAwMDAwMDtcbiAgICAgICAgdmFyIHREZWx0YVk6IG51bWJlciA9IDA7XG4gICAgICAgIGlmIChkLnkgPCAwKSB7XG4gICAgICAgICAgICBzdGVwWSA9IC0xO1xuICAgICAgICAgICAgdE1heFkgPSAoY1kgLSByYXkub3JpZ2luLnkpIC8gZC55O1xuICAgICAgICAgICAgdERlbHRhWSA9IHRoaXMudGlsZVNpemUgLyAtZC55O1xuICAgICAgICB9IGVsc2UgaWYgKGQueSA+IDApIHtcbiAgICAgICAgICAgIHN0ZXBZID0gMTtcbiAgICAgICAgICAgIHRNYXhZID0gKGNZICsgdGhpcy50aWxlU2l6ZSAtIHJheS5vcmlnaW4ueSkgLyBkLnk7XG4gICAgICAgICAgICB0RGVsdGFZID0gdGhpcy50aWxlU2l6ZSAvIGQueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkaXN0WCA9IDAuMDtcbiAgICAgICAgdmFyIGRpc3RZID0gMC4wO1xuXG4gICAgICAgIHZhciB0cmFuc2l0aW9uRWRnZU5vcm1hbFggPSAwO1xuICAgICAgICB2YXIgdHJhbnNpdGlvbkVkZ2VOb3JtYWxZID0gMDtcblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHRNYXhYIDwgdE1heFkpIHtcbiAgICAgICAgICAgICAgICBkaXN0WCA9IHRNYXhYICogZC54O1xuICAgICAgICAgICAgICAgIGRpc3RZID0gdE1heFggKiBkLnk7XG4gICAgICAgICAgICAgICAgdE1heFggKz0gdERlbHRhWDtcbiAgICAgICAgICAgICAgICB4ICs9IHN0ZXBYO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXN0WCA9IHRNYXhZICogZC54O1xuICAgICAgICAgICAgICAgIGRpc3RZID0gdE1heFkgKiBkLnk7XG4gICAgICAgICAgICAgICAgdE1heFkgKz0gdERlbHRhWTtcbiAgICAgICAgICAgICAgICB5ICs9IHN0ZXBZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGlzdFggKiBkaXN0WCArIGRpc3RZICogZGlzdFkgPiByYXkucmFuZ2UgKiByYXkucmFuZ2UpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgdmFyIHRpbGUgPSB0aGlzLmRhdGEuZ2V0KHgsIHksIDApO1xuICAgICAgICAgICAgaWYgKCh0aWxlICYgU09MSUQpID09IFNPTElEKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRNYXhYIDwgdE1heFkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbkVkZ2VOb3JtYWxYID0gc3RlcFggPCAwID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uRWRnZU5vcm1hbFkgPSAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25FZGdlTm9ybWFsWCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25FZGdlTm9ybWFsWSA9IHN0ZXBZIDwgMCA/IDEgOiAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmF5LnJlcG9ydChkaXN0WCwgZGlzdFksIHRyYW5zaXRpb25FZGdlTm9ybWFsWCwgdHJhbnNpdGlvbkVkZ2VOb3JtYWxZKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9icm9hZHBoYXNlL1RpbGVNYXBDb2xsaXNpb24udHMiLCJpbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4vVmVjdG9yMlwiO1xuXG5leHBvcnQgY2xhc3MgU2VnbWVudCB7XG4gICAgcHVibGljIHN0YXJ0OiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcbiAgICBwdWJsaWMgZW5kOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcbiAgICBwdWJsaWMgZGVsdGE6IFZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xuICAgIHB1YmxpYyBzY2FsZTogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG4gICAgcHVibGljIHNpZ246IFZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xuXG4gICAgY29uc3RydWN0b3IoKSB7fVxuXG4gICAgcHVibGljIHNldChzOiBWZWN0b3IyLCBlOiBWZWN0b3IyKSB7XG4gICAgICAgIHRoaXMuc3RhcnQuY29weShzKTtcbiAgICAgICAgdGhpcy5lbmQuY29weShlKTtcbiAgICAgICAgdGhpcy5kZWx0YS5jb3B5KHRoaXMuZW5kKTtcbiAgICAgICAgdGhpcy5kZWx0YS5taW51c0VxdWFscyh0aGlzLnN0YXJ0KTtcbiAgICAgICAgdGhpcy5zY2FsZS5zZXRUbygxIC8gdGhpcy5kZWx0YS54LCAxIC8gdGhpcy5kZWx0YS55KTtcbiAgICAgICAgdGhpcy5zaWduLnggPSB0aGlzLmRlbHRhLnggPCAwID8gLTEgOiAxO1xuICAgICAgICB0aGlzLnNpZ24ueSA9IHRoaXMuZGVsdGEueSA8IDAgPyAtMSA6IDE7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2dlb20vU2VnbWVudC50cyIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi9WZWN0b3IyXCI7XG5cbmV4cG9ydCBjbGFzcyBQbGFuZSB7XG4gICAgcHVibGljIG46IFZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xuICAgIHB1YmxpYyBkOiBudW1iZXIgPSAwO1xuXG4gICAgY29uc3RydWN0b3IoKSB7fVxuXG4gICAgcHVibGljIHNldChuOiBWZWN0b3IyLCBxOiBWZWN0b3IyKSB7XG4gICAgICAgIHRoaXMubi5jb3B5KG4pO1xuICAgICAgICB0aGlzLmQgPSB0aGlzLm4uZG90KHEpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRGcm9tU2VnbWVudChzOiBWZWN0b3IyLCBlOiBWZWN0b3IyKSB7XG4gICAgICAgIHRoaXMubi5jb3B5KHMpO1xuICAgICAgICB0aGlzLm4ubWludXNFcXVhbHMoZSk7XG4gICAgICAgIHRoaXMubi5ub3JtYWxpemUoKTtcbiAgICAgICAgdGhpcy5uLmxlZnRIYW5kTm9ybWFsRXF1YWxzKCk7XG4gICAgICAgIHRoaXMuZCA9IHRoaXMubi5kb3Qocyk7XG4gICAgfVxuXG4gICAgcHVibGljIGRpc3RhbmNlUG9pbnQocTogVmVjdG9yMik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLm4uZG90KHEpIC0gdGhpcy5kO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9nZW9tL1BsYW5lLnRzIiwiaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2Vjcy9TeXN0ZW1cIjtcbmltcG9ydCB7IElCcm9hZHBoYXNlIH0gZnJvbSBcIi4uL2NvbGxpc2lvbi9icm9hZHBoYXNlL0lCcm9hZHBoYXNlXCI7XG5pbXBvcnQgeyBFeHRlbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29tcG9uZW50cy9FeHRlbnRzXCI7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbXBvbmVudHMvUG9zaXRpb25cIjtcbmltcG9ydCB7IFBoeXNpY3NDb2xsaXNpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9QaHlzaWNzQ29sbGlzaW9uXCI7XG5pbXBvcnQgeyBGaXhlZCB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbXBvbmVudHMvRml4ZWRcIjtcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi8uLi9lY3MvRW50aXR5XCI7XG5cbmV4cG9ydCBjbGFzcyBQaHlzaWNzU3RhdGljU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICBwdWJsaWMgYnJvYWRwaGFzZTogSUJyb2FkcGhhc2U7XG5cbiAgICBjb25zdHJ1Y3Rvcihicm9hZHBoYXNlOiBJQnJvYWRwaGFzZSkge1xuICAgICAgICBzdXBlcihbUG9zaXRpb24sIEV4dGVudHMsIFBoeXNpY3NDb2xsaXNpb24sIEZpeGVkXSk7XG4gICAgICAgIHRoaXMuYnJvYWRwaGFzZSA9IGJyb2FkcGhhc2U7XG4gICAgfVxuXG4gICAgb25FbnRpdHlBZGRlZChcbiAgICAgICAgZW50aXR5OiBFbnRpdHksXG4gICAgICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICAgICAgZXh0ZW50czogRXh0ZW50cyxcbiAgICAgICAgcGh5c2ljc0NvbGxpc2lvbjogUGh5c2ljc0NvbGxpc2lvbixcbiAgICAgICAgZml4ZWQ6IEZpeGVkLFxuICAgICkge1xuICAgICAgICAvLyBwb3NpdGlvbi51cGRhdGVQb3NpdGlvbiA9IHNldFBvc2l0aW9uO1xuXG4gICAgICAgIHBoeXNpY3NDb2xsaXNpb24ucHJveHkuYWFiYi5leHRlbnRzLmNvcHkoZXh0ZW50cy5oYWxmV2lkdGhzKTtcbiAgICAgICAgcGh5c2ljc0NvbGxpc2lvbi5wcm94eS5lbnRpdHkgPSBlbnRpdHk7XG4gICAgICAgIHBoeXNpY3NDb2xsaXNpb24ucHJveHkuaXNTdGF0aWMgPSB0cnVlO1xuICAgICAgICBwaHlzaWNzQ29sbGlzaW9uLnByb3h5LmFhYmIucG9zaXRpb24gPSBwb3NpdGlvbi5jb29yZHM7IC8vQmVjYXVzZSBpdHMgbm90IGxpbmtlZCB0byBhIGJvZHlcblxuICAgICAgICB0aGlzLmJyb2FkcGhhc2UuYWRkUHJveHkocGh5c2ljc0NvbGxpc2lvbi5wcm94eSk7XG4gICAgfVxuXG4gICAgb25FbnRpdHlSZW1vdmVkKFxuICAgICAgICBlbnRpdHk6IEVudGl0eSxcbiAgICAgICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgICAgICBleHRlbnRzOiBFeHRlbnRzLFxuICAgICAgICBwaHlzaWNzQ29sbGlzaW9uOiBQaHlzaWNzQ29sbGlzaW9uLFxuICAgICAgICBmaXhlZDogRml4ZWQsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuYnJvYWRwaGFzZS5yZW1vdmVQcm94eShwaHlzaWNzQ29sbGlzaW9uLnByb3h5KTtcbiAgICB9XG5cbiAgICB1cGRhdGVBbGxFbnRpdGllcygpIHt9XG5cbiAgICAvLyBwdWJsaWMgZnVuY3Rpb24gc2V0UG9zaXRpb24oZW50aXR5OkVudGl0eSxwb3NpdGlvbjpWZWN0b3IyKSB7XG4gICAgLy8gICAgIHZhciBiZnAgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KFBoeXNpY3NDb2xsaXNpb24pLnByb3h5O1xuICAgIC8vICAgICBicm9hZHBoYXNlLnJlbW92ZVByb3h5KGJmcCk7XG4gICAgLy8gICAgIGJmcC5hYWJiLnBvc2l0aW9uID0gZW50aXR5LmdldENvbXBvbmVudChQb3NpdGlvbikuY29vcmRzO1xuICAgIC8vICAgICBicm9hZHBoYXNlLmFkZFByb3h5KGJmcCk7XG4gICAgLy8gfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3BoeXNpY3Mvc3lzdGVtcy9QaHlzaWNzU3RhdGljU3lzdGVtLnRzIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IEFBQkIyIH0gZnJvbSBcIi4uLy4uL2dlb20vQUFCQjJcIjtcbmltcG9ydCB7IEFBQkIgfSBmcm9tIFwiLi4vLi4vZ2VvbS9BQUJCXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgQ29udGFjdCwgQ29udGFjdENhbGxiYWNrIH0gZnJvbSBcIi4vQ29udGFjdFwiO1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4vRmlsdGVyXCI7XG5pbXBvcnQgeyBCb2R5IH0gZnJvbSBcIi4uL0JvZHlcIjtcblxuZXhwb3J0IGNsYXNzIEJGUHJveHkge1xuICAgIHB1YmxpYyBpZDogbnVtYmVyO1xuICAgIHN0YXRpYyBuZXh0SUQ6IG51bWJlciA9IDA7XG5cbiAgICBwdWJsaWMgYWFiYjogQUFCQjtcblxuICAgIHB1YmxpYyBvZmZzZXQ6IFZlY3RvcjI7XG4gICAgcHVibGljIHJlc3BvbnNlQmlhczogVmVjdG9yMjtcblxuICAgIHB1YmxpYyBib2R5OiBCb2R5O1xuICAgIHB1YmxpYyBlbnRpdHk6IEVudGl0eTtcblxuICAgIHB1YmxpYyBpc1N0YXRpYzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHB1YmxpYyBpc1NlbnNvcjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHB1YmxpYyBpc0FjdGl2ZTogYm9vbGVhbiA9IHRydWU7XG4gICAgcHVibGljIGxpbWl0VG9TdGF0aWNDaGVjazogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHVibGljIGZpbHRlcjogRmlsdGVyO1xuXG4gICAgcHVibGljIHVzZXJEYXRhMTogbnVtYmVyID0gLTE7XG4gICAgcHVibGljIHVzZXJEYXRhMjogbnVtYmVyID0gLTE7XG5cbiAgICBwdWJsaWMgY29udGFjdENhbGxiYWNrczogQXJyYXk8Q29udGFjdENhbGxiYWNrPiA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYWFiYiA9IG5ldyBBQUJCKCk7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gbmV3IFZlY3RvcjIoKTtcbiAgICAgICAgdGhpcy5yZXNwb25zZUJpYXMgPSBuZXcgVmVjdG9yMigxLCAxKTtcbiAgICAgICAgdGhpcy5pZCA9IEJGUHJveHkubmV4dElEKys7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEJvZHkoYm9keTogQm9keSkge1xuICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgICAgICB0aGlzLmFhYmIucG9zaXRpb24gPSBib2R5LnBvc2l0aW9uO1xuICAgICAgICB0aGlzLmlzU3RhdGljID0gZmFsc2U7IC8vYm9kaWVzIGFyZSBhbHdheXMgZHluYW1pY1xuICAgIH1cblxuICAgIHB1YmxpYyBjb2xsaWRlKHByb3h5OiBCRlByb3h5LCBjb250YWN0OiBDb250YWN0KSB7XG4gICAgICAgIHRoaXMuY29udGFjdENhbGxiYWNrcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKHRoaXMsIHByb3h5LCBjb250YWN0KSk7XG4gICAgfVxuXG4gICAgLy8gcHVibGljIHN0YXRpYyBpbmxpbmUgIENyZWF0ZVN0YXRpY0ZlYXR1cmUoeDpGbG9hdCx5OkZsb2F0LGh3OkZsb2F0LGhoOkZsb2F0LGZpbHRlcjpGaWx0ZXIpOkJGUHJveHkge1xuICAgIC8vICAgICB2YXIgYmZwcm94eSA9IG5ldyBCRlByb3h5KCk7XG4gICAgLy8gICAgIGJmcHJveHkuYWFiYi5leHRlbnRzLnNldFRvKGh3LGhoKTtcbiAgICAvLyAgICAgYmZwcm94eS5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgLy8gICAgIGJmcHJveHkuYWFiYi5wb3NpdGlvbi5zZXRUbyh4LHkpO1xuICAgIC8vICAgICBiZnByb3h5LmlzU3RhdGljID0gdHJ1ZTtcbiAgICAvLyAgICAgcmV0dXJuIGJmcHJveHk7XG4gICAgLy8gfVxuXG4gICAgc3RhdGljIEhhc2hCb2R5SURzKGE6IG51bWJlciwgYjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIGEgPCBiID8gKGEgPDwgMTYpIHwgYiA6IChiIDw8IDE2KSB8IGE7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3BoeXNpY3MvY29sbGlzaW9uL0JGUHJveHkudHMiLCJpbXBvcnQgeyBJQnJvYWRwaGFzZSB9IGZyb20gXCIuLi9jb2xsaXNpb24vYnJvYWRwaGFzZS9JQnJvYWRwaGFzZVwiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vLi4vY29yZS9jb21wb25lbnRzL1Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBFeHRlbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29tcG9uZW50cy9FeHRlbnRzXCI7XG5pbXBvcnQgeyBQaHlzaWNzQ29sbGlzaW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUGh5c2ljc0NvbGxpc2lvblwiO1xuaW1wb3J0IHsgTW92ZWFibGUgfSBmcm9tIFwiLi4vLi4vY29yZS9jb21wb25lbnRzL01vdmVhYmxlXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2Vjcy9TeXN0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIFBoeXNpY3NNb3ZlYWJsZVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gICAgcHVibGljIGJyb2FkcGhhc2U6IElCcm9hZHBoYXNlO1xuXG4gICAgY29uc3RydWN0b3IoYnJvYWRwaGFzZTogSUJyb2FkcGhhc2UpIHtcbiAgICAgICAgc3VwZXIoW1Bvc2l0aW9uLCBFeHRlbnRzLCBQaHlzaWNzQ29sbGlzaW9uLCBNb3ZlYWJsZV0pO1xuICAgICAgICB0aGlzLmJyb2FkcGhhc2UgPSBicm9hZHBoYXNlO1xuICAgIH1cblxuICAgIG9uRW50aXR5QWRkZWQoXG4gICAgICAgIGVudGl0eTogRW50aXR5LFxuICAgICAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgICAgIGV4dGVudHM6IEV4dGVudHMsXG4gICAgICAgIHBoeXNpY3NDb2xsaXNpb246IFBoeXNpY3NDb2xsaXNpb24sXG4gICAgICAgIG1vdmVhYmxlOiBNb3ZlYWJsZSxcbiAgICApIHtcbiAgICAgICAgcGh5c2ljc0NvbGxpc2lvbi5wcm94eS5hYWJiLmV4dGVudHMuY29weShleHRlbnRzLmhhbGZXaWR0aHMpO1xuICAgICAgICBwaHlzaWNzQ29sbGlzaW9uLnByb3h5LmlzU3RhdGljID0gZmFsc2U7XG4gICAgICAgIHBoeXNpY3NDb2xsaXNpb24ucHJveHkuZW50aXR5ID0gZW50aXR5O1xuICAgICAgICBwaHlzaWNzQ29sbGlzaW9uLnByb3h5LmFhYmIucG9zaXRpb24gPSBwb3NpdGlvbi5jb29yZHM7IC8vQmVjYXVzZSBpdHMgbm90IGxpbmtlZCB0byBhIGJvZHkgQlVUIGl0IGNvdWxkIGNhdXNlIGFuIGlzc3VlP1xuICAgICAgICBwaHlzaWNzQ29sbGlzaW9uLnByb3h5LnVzZXJEYXRhMSA9IGVudGl0eTtcbiAgICAgICAgdGhpcy5icm9hZHBoYXNlLmFkZFByb3h5KHBoeXNpY3NDb2xsaXNpb24ucHJveHkpO1xuICAgIH1cblxuICAgIG9uRW50aXR5UmVtb3ZlZChcbiAgICAgICAgZW50aXR5OiBFbnRpdHksXG4gICAgICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICAgICAgZXh0ZW50czogRXh0ZW50cyxcbiAgICAgICAgcGh5c2ljc0NvbGxpc2lvbjogUGh5c2ljc0NvbGxpc2lvbixcbiAgICAgICAgbW92ZWFibGU6IE1vdmVhYmxlLFxuICAgICkge1xuICAgICAgICB0aGlzLmJyb2FkcGhhc2UucmVtb3ZlUHJveHkocGh5c2ljc0NvbGxpc2lvbi5wcm94eSk7XG4gICAgfVxuXG4gICAgdXBkYXRlQWxsRW50aXRpZXMoKSB7fVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3BoeXNpY3Mvc3lzdGVtcy9QaHlzaWNzTW92ZWFibGVTeXN0ZW0udHMiLCJpbXBvcnQgeyBJQnJvYWRwaGFzZSB9IGZyb20gXCIuLi9jb2xsaXNpb24vYnJvYWRwaGFzZS9JQnJvYWRwaGFzZVwiO1xuaW1wb3J0IHsgUGh5c2ljc0NvbGxpc2lvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BoeXNpY3NDb2xsaXNpb25cIjtcbmltcG9ydCB7IFBoeXNpY3NCb2R5IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUGh5c2ljc0JvZHlcIjtcbmltcG9ydCB7IE1vdmVhYmxlIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29tcG9uZW50cy9Nb3ZlYWJsZVwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi8uLi9lY3MvU3lzdGVtXCI7XG5cbmV4cG9ydCBjbGFzcyBQaHlzaWNzQ29sbGlzaW9uU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICBwdWJsaWMgYnJvYWRwaGFzZTogSUJyb2FkcGhhc2U7XG5cbiAgICBjb25zdHJ1Y3Rvcihicm9hZHBoYXNlOiBJQnJvYWRwaGFzZSkge1xuICAgICAgICBzdXBlcihbUGh5c2ljc0NvbGxpc2lvbiwgUGh5c2ljc0JvZHksIE1vdmVhYmxlXSk7XG4gICAgICAgIHRoaXMuYnJvYWRwaGFzZSA9IGJyb2FkcGhhc2U7XG4gICAgfVxuXG4gICAgb25FbnRpdHlBZGRlZChlbnRpdHk6IEVudGl0eSwgcGh5c2ljc0NvbGxpc2lvbjogUGh5c2ljc0NvbGxpc2lvbiwgcGh5c2ljc0JvZHk6IFBoeXNpY3NCb2R5LCBtb3ZlYWJsZTogTW92ZWFibGUpIHtcbiAgICAgICAgLy9BbGwgdGhpcyByZWFsbHkgZG9lcyBpcyBhZGQgdGhlIGJvZHkgdG8gdGhlIHByb3h5IGFuZCBydW4gdGhlIHBoeXNpY3NcbiAgICAgICAgcGh5c2ljc0NvbGxpc2lvbi5wcm94eS5zZXRCb2R5KHBoeXNpY3NCb2R5LmJvZHkpO1xuICAgIH1cblxuICAgIHVwZGF0ZUFsbEVudGl0aWVzKCkge1xuICAgICAgICB0aGlzLmJyb2FkcGhhc2UuY29sbGlkZSgpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9waHlzaWNzL3N5c3RlbXMvUGh5c2ljc0NvbGxpc2lvblN5c3RlbS50cyIsImltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi8uLi9lY3MvU3lzdGVtXCI7XG5pbXBvcnQgeyBQaHlzaWNzQm9keSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BoeXNpY3NCb2R5XCI7XG5pbXBvcnQgeyBFeHRlbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29tcG9uZW50cy9FeHRlbnRzXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vZWNzL0VudGl0eVwiO1xuXG5leHBvcnQgY2xhc3MgUGh5c2ljc01hc3NTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihbUGh5c2ljc0JvZHksIEV4dGVudHNdKTtcbiAgICB9XG5cbiAgICBvbkVudGl0eUFkZGVkKGVudGl0eTogRW50aXR5LCBwaHlzaWNzQm9keTogUGh5c2ljc0JvZHksIGV4dGVudHM6IEV4dGVudHMpIHtcbiAgICAgICAgaWYgKHBoeXNpY3NCb2R5LnNldE1hc3NGcm9tVm9sdW1lKSB7XG4gICAgICAgICAgICBwaHlzaWNzQm9keS5ib2R5LnNldE1hc3NGcm9tVm9sdW1lTWF0ZXJpYWwoZXh0ZW50cy5oYWxmV2lkdGhzLnggKiBleHRlbnRzLmhhbGZXaWR0aHMueSAqIDQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3BoeXNpY3Mvc3lzdGVtcy9QaHlzaWNzTWFzc1N5c3RlbS50cyIsImltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi8uLi9lY3MvU3lzdGVtXCI7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbXBvbmVudHMvUG9zaXRpb25cIjtcbmltcG9ydCB7IFBoeXNpY3NCb2R5IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUGh5c2ljc0JvZHlcIjtcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi8uLi9lY3MvRW50aXR5XCI7XG5cbmV4cG9ydCBjbGFzcyBQaHlzaWNzUG9zaXRpb25TeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihbUG9zaXRpb24sIFBoeXNpY3NCb2R5XSk7XG4gICAgfVxuXG4gICAgdXBkYXRlRW50aXR5KGVudGl0eTogRW50aXR5LCBwb3NpdGlvbjogUG9zaXRpb24sIHBoeXNpY3NCb2R5OiBQaHlzaWNzQm9keSkge1xuICAgICAgICBwaHlzaWNzQm9keS5ib2R5LnVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgICAgIHBvc2l0aW9uLnVwZGF0ZShwaHlzaWNzQm9keS5ib2R5LnBvc2l0aW9uKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvcGh5c2ljcy9zeXN0ZW1zL1BoeXNpY3NQb3NpdGlvblN5c3RlbS50cyIsImltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi8uLi9lY3MvU3lzdGVtXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vLi4vY29yZS9jb21wb25lbnRzL1Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBQaHlzaWNzQm9keSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BoeXNpY3NCb2R5XCI7XG5pbXBvcnQgeyBBY3RpdmUgfSBmcm9tIFwiLi4vLi4vY29yZS9jb21wb25lbnRzL0FjdGl2ZVwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcblxuZXhwb3J0IGNsYXNzIFBoeXNpY3NVcGRhdGVTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIHB1YmxpYyBnbG9iYWxGb3JjZTogVmVjdG9yMjtcbiAgICBwdWJsaWMgZ2xvYmFsRGFtcGluZzogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFtQb3NpdGlvbiwgUGh5c2ljc0JvZHksIEFjdGl2ZV0pO1xuICAgICAgICB0aGlzLmdsb2JhbEZvcmNlID0gbmV3IFZlY3RvcjIoMCwgMzApO1xuICAgICAgICB0aGlzLmdsb2JhbERhbXBpbmcgPSAwLjk5O1xuICAgIH1cblxuICAgIG9uRW50aXR5QWRkZWQoZW50aXR5OiBFbnRpdHksIHBvc2l0aW9uOiBQb3NpdGlvbiwgcGh5c2ljc0JvZHk6IFBoeXNpY3NCb2R5LCBhY3RpdmU6IEFjdGl2ZSkge1xuICAgICAgICBwaHlzaWNzQm9keS5ib2R5LnBvc2l0aW9uLmNvcHkocG9zaXRpb24uY29vcmRzKTtcbiAgICB9XG5cbiAgICB1cGRhdGVFbnRpdHkoZW50aXR5OiBFbnRpdHksIHBvc2l0aW9uOiBQb3NpdGlvbiwgcGh5c2ljc0JvZHk6IFBoeXNpY3NCb2R5LCBhY3RpdmU6IEFjdGl2ZSkge1xuICAgICAgICBwaHlzaWNzQm9keS5ib2R5LnVwZGF0ZSh0aGlzLmR0IC8gMTAwMCwgdGhpcy5nbG9iYWxGb3JjZSwgdGhpcy5nbG9iYWxEYW1waW5nKTtcbiAgICAgICAgcG9zaXRpb24uZGlyZWN0aW9uLnggPSBwaHlzaWNzQm9keS5ib2R5LnZlbG9jaXR5LnggPiAwID8gMSA6IC0xO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9waHlzaWNzL3N5c3RlbXMvUGh5c2ljc1VwZGF0ZVN5c3RlbS50cyIsImltcG9ydCB7IFBoeXNpY3NCb2R5IH0gZnJvbSBcIi4uLy4uL3BoeXNpY3MvY29tcG9uZW50cy9QaHlzaWNzQm9keVwiO1xuaW1wb3J0IHsgQ29udHJvbGxhYmxlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ29udHJvbGxhYmxlXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2Vjcy9TeXN0ZW1cIjtcbmltcG9ydCB7IERpZ2l0YWxJbnB1dCB9IGZyb20gXCIuLi8uLi91dGlsL0RpZ2l0YWxJbnB1dFwiO1xuXG5leHBvcnQgY2xhc3MgQ29udHJvbGxlclN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gICAgcHJpdmF0ZSBpbnB1dDogRGlnaXRhbElucHV0O1xuXG4gICAgY29uc3RydWN0b3IoaW5wdXQ6IERpZ2l0YWxJbnB1dCkge1xuICAgICAgICBzdXBlcihbUGh5c2ljc0JvZHksIENvbnRyb2xsYWJsZV0pO1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgfVxuXG4gICAgb25FbnRpdHlBZGRlZChlbnRpdHk6IEVudGl0eSwgcGh5c2ljc0JvZHk6IFBoeXNpY3NCb2R5LCBjb250cm9sbGFibGU6IENvbnRyb2xsYWJsZSkge31cblxuICAgIHVwZGF0ZUVudGl0eShlbnRpdHk6IEVudGl0eSwgcGh5c2ljc0JvZHk6IFBoeXNpY3NCb2R5LCBjb250cm9sbGFibGU6IENvbnRyb2xsYWJsZSkge1xuICAgICAgICB0aGlzLmlucHV0LlByZXNzZWQoMzgpID8gKHBoeXNpY3NCb2R5LmJvZHkudmVsb2NpdHkueSAtPSBjb250cm9sbGFibGUuZm9yY2UpIDogMDtcbiAgICAgICAgdGhpcy5pbnB1dC5QcmVzc2VkKDQwKSA/IChwaHlzaWNzQm9keS5ib2R5LnZlbG9jaXR5LnkgKz0gY29udHJvbGxhYmxlLmZvcmNlKSA6IDA7XG4gICAgICAgIHRoaXMuaW5wdXQuUHJlc3NlZCgzNykgPyAocGh5c2ljc0JvZHkuYm9keS52ZWxvY2l0eS54IC09IGNvbnRyb2xsYWJsZS5mb3JjZSkgOiAwO1xuICAgICAgICB0aGlzLmlucHV0LlByZXNzZWQoMzkpID8gKHBoeXNpY3NCb2R5LmJvZHkudmVsb2NpdHkueCArPSBjb250cm9sbGFibGUuZm9yY2UpIDogMDtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvY29yZS9zeXN0ZW1zL0NvbnRyb2xsZXJTeXN0ZW0udHMiLCJleHBvcnQgY2xhc3MgQ29udHJvbGxhYmxlIHtcbiAgICBwdWJsaWMgZm9yY2U6IG51bWJlciA9IDE7XG4gICAgY29uc3RydWN0b3IoZm9yY2U6IG51bWJlcikge1xuICAgICAgICB0aGlzLmZvcmNlID0gZm9yY2U7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2NvcmUvY29tcG9uZW50cy9Db250cm9sbGFibGUudHMiLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZWNzL1N5c3RlbVwiO1xuaW1wb3J0IHsgVGlsZU1hcFJlbmRlcmVyIH0gZnJvbSBcIi4uL3JlbmRlci90aWxlL1RpbGVNYXBSZW5kZXJlclwiO1xuaW1wb3J0IHsgVGlsZU1hcENvbGxpc2lvbiB9IGZyb20gXCIuLi8uLi9waHlzaWNzL2NvbGxpc2lvbi9icm9hZHBoYXNlL1RpbGVNYXBDb2xsaXNpb25cIjtcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi8uLi9lY3MvRW50aXR5XCI7XG5pbXBvcnQgeyBUaWxlR3JhcGhpY3MgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9UaWxlR3JhcGhpY3NcIjtcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29tcG9uZW50cy9Qb3NpdGlvblwiO1xuXG5pbnRlcmZhY2UgVGlsZUZyYW1lcyB7XG4gICAgc2hlZXRzOiBUaWxlRnJhbWVDb25maWdbXTtcbn1cblxuaW50ZXJmYWNlIFRpbGVGcmFtZUNvbmZpZyB7XG4gICAgW2tleTogc3RyaW5nXTogbnVtYmVyW107XG59XG5cbmV4cG9ydCBjbGFzcyBUaWxlR3JhcGhpY3NSZW5kZXJTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIHB1YmxpYyB1cGRhdGVzOiBBcnJheTxFbnRpdHk+O1xuXG4gICAgcHVibGljIGZyYW1lczogTWFwPHN0cmluZywgQXJyYXk8bnVtYmVyPj47XG5cbiAgICBwdWJsaWMgdGlsZU1hcDogVGlsZU1hcFJlbmRlcmVyO1xuICAgIHB1YmxpYyBtYXA6IFRpbGVNYXBDb2xsaXNpb247XG5cbiAgICBjb25zdHJ1Y3Rvcih0aWxlRnJhbWVzQ29uZmlnOiBhbnksIHRpbGVNYXA6IFRpbGVNYXBSZW5kZXJlciwgbWFwOiBUaWxlTWFwQ29sbGlzaW9uKSB7XG4gICAgICAgIHN1cGVyKFtQb3NpdGlvbiwgVGlsZUdyYXBoaWNzXSk7XG4gICAgICAgIHRoaXMudXBkYXRlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0aGlzLmZyYW1lcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy50aWxlTWFwID0gdGlsZU1hcDtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMucGFyc2VGcmFtZXNDb25maWcodGlsZUZyYW1lc0NvbmZpZyk7XG4gICAgfVxuXG4gICAgLy9Gb3JtYXRcbiAgICAvLyBcInN3aXRjaE9uXCI6W3gseSx3LGgsY3gsY3ldIDY0IDMyIDMyIDMyIDMyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNSAgNCA0IDQgNFxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTYgMTIgOCA0IDBcblxuICAgIHB1YmxpYyBwYXJzZUZyYW1lc0NvbmZpZyhjb25maWc6IGFueSkge1xuICAgICAgICB2YXIgZGF0YTogVGlsZUZyYW1lcyA9IEpTT04ucGFyc2UoY29uZmlnKTtcbiAgICAgICAgZGF0YS5zaGVldHMuZm9yRWFjaCgoc2hlZXQsIGkpID0+IHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNoZWV0KS5mb3JFYWNoKGZyYW1lSWQgPT4ge1xuICAgICAgICAgICAgICAgIHNoZWV0W2ZyYW1lSWRdLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZXMuc2V0KGZyYW1lSWQsIHNoZWV0W2ZyYW1lSWRdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkVudGl0eUFkZGVkKGVudGl0eTogRW50aXR5LCBwb3NpdGlvbjogUG9zaXRpb24sIHRpbGVHcmFwaGljczogVGlsZUdyYXBoaWNzKSB7XG4gICAgICAgIHRpbGVHcmFwaGljcy5vbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzLCBlbnRpdHkpO1xuICAgICAgICBpZiAodGlsZUdyYXBoaWNzLnRpbGVGcmFtZUlkICE9IG51bGwpIHRoaXMub25DaGFuZ2UoZW50aXR5KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb25DaGFuZ2UoZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgICAgdGhpcy51cGRhdGVzLnB1c2goZW50aXR5KTtcbiAgICB9XG5cbiAgICB1cGRhdGVBbGxFbnRpdGllcygpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMudXBkYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgZW50aXR5ID0gdGhpcy51cGRhdGVzLnBvcCgpO1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGVudGl0eSwgUG9zaXRpb24pO1xuICAgICAgICAgICAgdmFyIHRpbGVEaXNwbGF5ID0gdGhpcy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGVudGl0eSwgVGlsZUdyYXBoaWNzKTtcbiAgICAgICAgICAgIGlmICh0aWxlRGlzcGxheS50aWxlRnJhbWVJZCAhPSBcIlwiKVxuICAgICAgICAgICAgICAgIHRoaXMudGlsZU1hcC51cGRhdGVNYXAoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLmRhdGEuSW5kZXgocG9zaXRpb24uY29vcmRzLngpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcC5kYXRhLkluZGV4KHBvc2l0aW9uLmNvb3Jkcy55KSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFtZXMuZ2V0KHRpbGVEaXNwbGF5LnRpbGVGcmFtZUlkKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2dyYXBoaWNzL3N5c3RlbXMvVGlsZUdyYXBoaWNzUmVuZGVyU3lzdGVtLnRzIiwiaW1wb3J0IHsgSVBhcnRpY2xlRW5naW5lIH0gZnJvbSBcIi4vSVBhcnRpY2xlRW5naW5lXCI7XG5pbXBvcnQgeyBQb2ludEJsb2NrUGFydGljbGVSZW5kZXIgfSBmcm9tIFwiLi4vLi4vZ3JhcGhpY3MvcmVuZGVyL3BhcnRpY2xlL1BvaW50QmxvY2tQYXJ0aWNsZVJlbmRlclwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IEJ5dGVzMkQgfSBmcm9tIFwiLi4vLi4vZHMvQnl0ZXMyRFwiO1xuaW1wb3J0IHsgQmxvY2tQYXJ0aWNsZSB9IGZyb20gXCIuL0Jsb2NrUGFydGljbGVcIjtcblxuZXhwb3J0IGNsYXNzIEJsb2NrUGFydGljbGVFbmdpbmUyIGltcGxlbWVudHMgSVBhcnRpY2xlRW5naW5lIHtcbiAgICBwdWJsaWMgcGFydGljbGVDb3VudDogbnVtYmVyO1xuICAgIHB1YmxpYyBkZWx0YVRpbWU6IG51bWJlcjtcbiAgICBwdWJsaWMgaW52RGVsdGFUaW1lOiBudW1iZXI7XG5cbiAgICBwdWJsaWMgYWN0aXZlUGFydGljbGVzOiBCbG9ja1BhcnRpY2xlW11bXTtcbiAgICBwdWJsaWMgYWN0aXZlUGFydGljbGVzQ291bnQ6IG51bWJlcjtcbiAgICBwdWJsaWMgYWN0aXZlUG9vbDogbnVtYmVyO1xuXG4gICAgcHVibGljIGNhY2hlZFBhcnRpY2xlczogQmxvY2tQYXJ0aWNsZVtdO1xuICAgIHB1YmxpYyBhdmFpbGFibGVQYXJ0aWNsZUNvdW50OiBudW1iZXI7XG5cbiAgICBwdWJsaWMgcmVuZGVyZXI6IFBvaW50QmxvY2tQYXJ0aWNsZVJlbmRlcjtcbiAgICBwdWJsaWMgWkVST19GT1JDRTogVmVjdG9yMjtcblxuICAgIHB1YmxpYyBtYXA6IEJ5dGVzMkQ7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJ0aWNsZUNvdW50OiBudW1iZXIsIGRlbHRhVGltZTogbnVtYmVyLCBtYXA6IEJ5dGVzMkQpIHtcbiAgICAgICAgdGhpcy5wYXJ0aWNsZUNvdW50ID0gcGFydGljbGVDb3VudDtcbiAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSBkZWx0YVRpbWU7XG4gICAgICAgIHRoaXMuaW52RGVsdGFUaW1lID0gZGVsdGFUaW1lIC8gMTAwMDtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIHRoaXMuWkVST19GT1JDRSA9IG5ldyBWZWN0b3IyKCk7XG4gICAgICAgIHRoaXMuYWN0aXZlUGFydGljbGVzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRoaXMuYWN0aXZlUGFydGljbGVzWzBdID0gbmV3IEFycmF5KHRoaXMucGFydGljbGVDb3VudCk7XG4gICAgICAgIHRoaXMuYWN0aXZlUGFydGljbGVzWzFdID0gbmV3IEFycmF5KHRoaXMucGFydGljbGVDb3VudCk7XG4gICAgICAgIHRoaXMuY2FjaGVkUGFydGljbGVzID0gbmV3IEFycmF5KHRoaXMucGFydGljbGVDb3VudCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydGljbGVDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlZFBhcnRpY2xlc1tpXSA9IG5ldyBCbG9ja1BhcnRpY2xlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdmFpbGFibGVQYXJ0aWNsZUNvdW50ID0gdGhpcy5wYXJ0aWNsZUNvdW50O1xuICAgICAgICB0aGlzLmFjdGl2ZVBhcnRpY2xlc0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5hY3RpdmVQb29sID0gMDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBQb2ludEJsb2NrUGFydGljbGVSZW5kZXIocGFydGljbGVDb3VudCk7XG4gICAgfVxuXG4gICAgcHVibGljIEVtaXRQYXJ0aWNsZShcbiAgICAgICAgeDogbnVtYmVyLFxuICAgICAgICB5OiBudW1iZXIsXG4gICAgICAgIHZYOiBudW1iZXIsXG4gICAgICAgIHZZOiBudW1iZXIsXG4gICAgICAgIGZYOiBudW1iZXIsXG4gICAgICAgIGZZOiBudW1iZXIsXG4gICAgICAgIHR0bDogbnVtYmVyLFxuICAgICAgICBkYW1waW5nOiBudW1iZXIsXG4gICAgICAgIGRlY2F5YWJsZTogYm9vbGVhbixcbiAgICAgICAgdG9wOiBib29sZWFuLFxuICAgICAgICBleHRlcm5hbEZvcmNlOiBWZWN0b3IyLFxuICAgICAgICBkYXRhMTogbnVtYmVyLFxuICAgICAgICBkYXRhMjogbnVtYmVyLFxuICAgICAgICBkYXRhMzogbnVtYmVyLFxuICAgICAgICBkYXRhNDogbnVtYmVyLFxuICAgICAgICBkYXRhNTogbnVtYmVyLFxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5hdmFpbGFibGVQYXJ0aWNsZUNvdW50ID09IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgdmFyIHBhcnRpY2xlID0gdGhpcy5jYWNoZWRQYXJ0aWNsZXNbLS10aGlzLmF2YWlsYWJsZVBhcnRpY2xlQ291bnRdO1xuICAgICAgICB0aGlzLmFjdGl2ZVBhcnRpY2xlc1t0aGlzLmFjdGl2ZVBvb2xdW3RoaXMuYWN0aXZlUGFydGljbGVzQ291bnQrK10gPSBwYXJ0aWNsZTtcblxuICAgICAgICBwYXJ0aWNsZS5Jbml0YWxpemUoXG4gICAgICAgICAgICB4LFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIHZYLFxuICAgICAgICAgICAgdlksXG4gICAgICAgICAgICBmWCxcbiAgICAgICAgICAgIGZZLFxuICAgICAgICAgICAgdHRsLFxuICAgICAgICAgICAgZGFtcGluZyxcbiAgICAgICAgICAgIGRlY2F5YWJsZSA/IHRoaXMuZGVsdGFUaW1lIC8gdHRsIDogMCxcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIGV4dGVybmFsRm9yY2UgIT0gbnVsbCA/IGV4dGVybmFsRm9yY2UgOiB0aGlzLlpFUk9fRk9SQ0UsXG4gICAgICAgICAgICBkYXRhMSxcbiAgICAgICAgICAgIGRhdGEyLFxuICAgICAgICAgICAgZGF0YTMsXG4gICAgICAgICAgICBkYXRhNCxcbiAgICAgICAgICAgIGRhdGE1LFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBVcGRhdGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuUmVzZXRCYXRjaCgpO1xuICAgICAgICBjb25zdCBwb29sQSA9IHRoaXMuYWN0aXZlUGFydGljbGVzW3RoaXMuYWN0aXZlUG9vbF07XG4gICAgICAgIGNvbnN0IHBvb2xCID0gdGhpcy5hY3RpdmVQYXJ0aWNsZXNbdGhpcy5hY3RpdmVQb29sID09PSAxID8gMCA6IDFdO1xuICAgICAgICBsZXQgbmV3Q291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYWN0aXZlUGFydGljbGVzQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGFydGljbGUgPSBwb29sQVtpXTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZS5VcGRhdGUodGhpcy5kZWx0YVRpbWUsIHRoaXMuaW52RGVsdGFUaW1lKSAmJlxuICAgICAgICAgICAgICAgICh0aGlzLm1hcC5nZXRSZWFsKHBhcnRpY2xlLnBYLCBwYXJ0aWNsZS5wWSwgMCkgJiAxKSAhPSAxXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLkFkZFNwcml0ZVRvQmF0Y2goXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlLnBYLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZS5wWSxcbiAgICAgICAgICAgICAgICAgICAgcGFydGljbGUuc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgKHBhcnRpY2xlLmFscGhhICogMjU1KSB8IDAsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlLnJlZCxcbiAgICAgICAgICAgICAgICAgICAgcGFydGljbGUuZ3JlZW4sXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlLmJsdWUsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBwb29sQltuZXdDb3VudCsrXSA9IHBhcnRpY2xlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZFBhcnRpY2xlc1t0aGlzLmF2YWlsYWJsZVBhcnRpY2xlQ291bnQrK10gPSBwYXJ0aWNsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZVBhcnRpY2xlc0NvdW50ID0gbmV3Q291bnQ7XG4gICAgICAgIHRoaXMuYWN0aXZlUG9vbCA9IHRoaXMuYWN0aXZlUG9vbCA9PT0gMSA/IDAgOiAxO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9wYXJ0aWNsZS9lbmdpbmVzL0Jsb2NrUGFydGljbGVFbmdpbmUyLnRzIiwiaW1wb3J0IHsgSVJlbmRlcmVyIH0gZnJvbSBcIi4uL1JlbmRlckVuZ2luZVwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi8uLi9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IFNoYWRlcldyYXBwZXIgfSBmcm9tIFwiLi4vdXRpbC9TaGFkZXJXcmFwcGVyXCI7XG5pbXBvcnQgeyBTdGFnZSB9IGZyb20gXCIuLi8uLi9kaXNwbGF5bGlzdC9TdGFnZVwiO1xuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4uLy4uL2Rpc3BsYXlsaXN0L0NhbWVyYVwiO1xuaW1wb3J0IHsgQUFCQjIgfSBmcm9tIFwiLi4vLi4vLi4vZ2VvbS9BQUJCMlwiO1xuaW1wb3J0IHsgQ29tcGlsZVByb2dyYW0gfSBmcm9tIFwiLi4vdXRpbC9XZWJHTFNoYWRlclV0aWxcIjtcblxuZXhwb3J0IGNsYXNzIFBvaW50QmxvY2tQYXJ0aWNsZVJlbmRlciBpbXBsZW1lbnRzIElSZW5kZXJlciB7XG4gICAgcHVibGljIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XG5cbiAgICBwdWJsaWMgcHJvamVjdGlvbjogVmVjdG9yMjtcblxuICAgIHB1YmxpYyBwb2ludFNwcml0ZVNoYWRlcjogU2hhZGVyV3JhcHBlcjtcblxuICAgIHB1YmxpYyBkYXRhQnVmZmVyOiBXZWJHTEJ1ZmZlcjtcbiAgICBwcml2YXRlIGFycmF5QnVmZmVyOiBBcnJheUJ1ZmZlcjtcbiAgICBwdWJsaWMgZGF0YTogRmxvYXQzMkFycmF5O1xuICAgIHB1YmxpYyBkYXRhODogVWludDhDbGFtcGVkQXJyYXk7XG5cbiAgICBwdWJsaWMgc3RhZ2U6IFN0YWdlO1xuICAgIHB1YmxpYyBjYW1lcmE6IENhbWVyYTtcbiAgICBwdWJsaWMgdGV4dHVyZTogV2ViR0xUZXh0dXJlO1xuXG4gICAgcHVibGljIGluZGV4UnVuOiBudW1iZXI7XG5cbiAgICBwdWJsaWMgZmlyc3Q6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHB1YmxpYyBtYXhTcHJpdGVzOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihzaXplOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5tYXhTcHJpdGVzID0gc2l6ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgSW5pdChnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBjYW1lcmE6IENhbWVyYSkge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gY2FtZXJhO1xuICAgICAgICB0aGlzLnByb2plY3Rpb24gPSBuZXcgVmVjdG9yMigpO1xuICAgICAgICB0aGlzLnBvaW50U3ByaXRlU2hhZGVyID0gbmV3IFNoYWRlcldyYXBwZXIoXG4gICAgICAgICAgICBnbCxcbiAgICAgICAgICAgIENvbXBpbGVQcm9ncmFtKFxuICAgICAgICAgICAgICAgIGdsLFxuICAgICAgICAgICAgICAgIFBvaW50QmxvY2tQYXJ0aWNsZVJlbmRlci5TUFJJVEVfVkVSVEVYX1NIQURFUixcbiAgICAgICAgICAgICAgICBQb2ludEJsb2NrUGFydGljbGVSZW5kZXIuU1BSSVRFX0ZSQUdNRU5UX1NIQURFUixcbiAgICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZGF0YUJ1ZmZlciA9IHRoaXMuZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoMjAgKiA0ICogdGhpcy5tYXhTcHJpdGVzKTtcbiAgICAgICAgdGhpcy5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTtcbiAgICAgICAgdGhpcy5kYXRhOCA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh0aGlzLmFycmF5QnVmZmVyKTtcbiAgICAgICAgdGhpcy5nbC5iaW5kQnVmZmVyKFdlYkdMUmVuZGVyaW5nQ29udGV4dC5BUlJBWV9CVUZGRVIsIHRoaXMuZGF0YUJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZ2wuYnVmZmVyRGF0YShXZWJHTFJlbmRlcmluZ0NvbnRleHQuQVJSQVlfQlVGRkVSLCB0aGlzLmRhdGEsIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5EWU5BTUlDX0RSQVcpO1xuICAgICAgICB0aGlzLlJlc2V0QmF0Y2goKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgUmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMucHJvamVjdGlvbi54ID0gd2lkdGggLyAyO1xuICAgICAgICB0aGlzLnByb2plY3Rpb24ueSA9IGhlaWdodCAvIDI7XG4gICAgfVxuXG4gICAgcHVibGljIEFkZFN0YWdlKHN0YWdlOiBTdGFnZSkge1xuICAgICAgICB0aGlzLnN0YWdlID0gc3RhZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIFJlc2V0QmF0Y2goKSB7XG4gICAgICAgIHRoaXMuaW5kZXhSdW4gPSAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBBZGRTcHJpdGVUb0JhdGNoKFxuICAgICAgICB4OiBudW1iZXIsXG4gICAgICAgIHk6IG51bWJlcixcbiAgICAgICAgc2l6ZTogbnVtYmVyLFxuICAgICAgICBhbHBoYTogbnVtYmVyLFxuICAgICAgICByZWQ6IG51bWJlcixcbiAgICAgICAgZ3JlZW46IG51bWJlcixcbiAgICAgICAgYmx1ZTogbnVtYmVyLFxuICAgICkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4UnVuICogNDtcbiAgICAgICAgdGhpcy5kYXRhW2luZGV4ICsgMF0gPSB4OyAvL01hdGguZmxvb3IoeCk7Ly8gKyBjYW1lcmEucG9zaXRpb24ueCk7XG4gICAgICAgIHRoaXMuZGF0YVtpbmRleCArIDFdID0geTsgLy9NYXRoLmZsb29yKHkpOy8vICsgY2FtZXJhLnBvc2l0aW9uLnkpO1xuICAgICAgICB0aGlzLmRhdGFbaW5kZXggKyAyXSA9IHNpemU7XG4gICAgICAgIGluZGV4ICo9IDQ7XG4gICAgICAgIHRoaXMuZGF0YThbaW5kZXggKyAxMl0gPSByZWQ7XG4gICAgICAgIHRoaXMuZGF0YThbaW5kZXggKyAxM10gPSBncmVlbjtcbiAgICAgICAgdGhpcy5kYXRhOFtpbmRleCArIDE0XSA9IGJsdWU7XG4gICAgICAgIHRoaXMuZGF0YThbaW5kZXggKyAxNV0gPSBhbHBoYTtcbiAgICAgICAgdGhpcy5pbmRleFJ1bisrO1xuICAgIH1cblxuICAgIHB1YmxpYyBSZW5kZXIoY2xpcDogQUFCQjIpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXhSdW4gPT0gMCkgcmV0dXJuO1xuICAgICAgICAvLyB0aGlzLmdsLmVuYWJsZShXZWJHTFJlbmRlcmluZ0NvbnRleHQuQkxFTkQpO1xuICAgICAgICAvLyB0aGlzLmdsLmJsZW5kRnVuYyhXZWJHTFJlbmRlcmluZ0NvbnRleHQuU1JDX0FMUEhBLCBXZWJHTFJlbmRlcmluZ0NvbnRleHQuT05FX01JTlVTX1NSQ19BTFBIQSk7XG5cbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKHRoaXMucG9pbnRTcHJpdGVTaGFkZXIucHJvZ3JhbSk7XG4gICAgICAgIHRoaXMuZ2wuYmluZEJ1ZmZlcihXZWJHTFJlbmRlcmluZ0NvbnRleHQuQVJSQVlfQlVGRkVSLCB0aGlzLmRhdGFCdWZmZXIpO1xuICAgICAgICAvLyB0aGlzLmdsLmJ1ZmZlckRhdGEoV2ViR0xSZW5kZXJpbmdDb250ZXh0LkFSUkFZX0JVRkZFUixkYXRhLFdlYkdMUmVuZGVyaW5nQ29udGV4dC5EWU5BTUlDX0RSQVcpO1xuICAgICAgICB0aGlzLmdsLmJ1ZmZlclN1YkRhdGEoV2ViR0xSZW5kZXJpbmdDb250ZXh0LkFSUkFZX0JVRkZFUiwgMCwgdGhpcy5kYXRhKTtcblxuICAgICAgICB0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMucG9pbnRTcHJpdGVTaGFkZXIuYXR0cmlidXRlLnBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLnBvaW50U3ByaXRlU2hhZGVyLmF0dHJpYnV0ZS5zaXplKTtcbiAgICAgICAgdGhpcy5nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLnBvaW50U3ByaXRlU2hhZGVyLmF0dHJpYnV0ZS5jb2xvdXIpO1xuXG4gICAgICAgIHRoaXMuZ2wudmVydGV4QXR0cmliUG9pbnRlcihcbiAgICAgICAgICAgIHRoaXMucG9pbnRTcHJpdGVTaGFkZXIuYXR0cmlidXRlLnBvc2l0aW9uLFxuICAgICAgICAgICAgMixcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5GTE9BVCxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgMTYsXG4gICAgICAgICAgICAwLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmdsLnZlcnRleEF0dHJpYlBvaW50ZXIoXG4gICAgICAgICAgICB0aGlzLnBvaW50U3ByaXRlU2hhZGVyLmF0dHJpYnV0ZS5zaXplLFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5GTE9BVCxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgMTYsXG4gICAgICAgICAgICA4LFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmdsLnZlcnRleEF0dHJpYlBvaW50ZXIoXG4gICAgICAgICAgICB0aGlzLnBvaW50U3ByaXRlU2hhZGVyLmF0dHJpYnV0ZS5jb2xvdXIsXG4gICAgICAgICAgICA0LFxuICAgICAgICAgICAgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgMTYsXG4gICAgICAgICAgICAxMixcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5nbC51bmlmb3JtMmYoXG4gICAgICAgICAgICB0aGlzLnBvaW50U3ByaXRlU2hhZGVyLnVuaWZvcm0uY2FtZXJhUG9zaXRpb24sXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi54LFxuICAgICAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueSxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmdsLnVuaWZvcm0yZih0aGlzLnBvaW50U3ByaXRlU2hhZGVyLnVuaWZvcm0ucHJvamVjdGlvblZlY3RvciwgdGhpcy5wcm9qZWN0aW9uLngsIHRoaXMucHJvamVjdGlvbi55KTtcblxuICAgICAgICB0aGlzLmdsLmRyYXdBcnJheXMoV2ViR0xSZW5kZXJpbmdDb250ZXh0LlBPSU5UUywgMCwgdGhpcy5pbmRleFJ1bik7XG4gICAgfVxuXG4gICAgc3RhdGljIFNQUklURV9WRVJURVhfU0hBREVSOiBzdHJpbmcgPSBgXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuICAgICAgICB1bmlmb3JtIHZlYzIgcHJvamVjdGlvblZlY3RvcjtcbiAgICAgICAgdW5pZm9ybSB2ZWMyIGNhbWVyYVBvc2l0aW9uO1xuXG4gICAgICAgIGF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uO1xuICAgICAgICBhdHRyaWJ1dGUgZmxvYXQgc2l6ZTtcbiAgICAgICAgYXR0cmlidXRlIHZlYzQgY29sb3VyO1xuICAgICAgICB2YXJ5aW5nIHZlYzQgdkNvbG9yO1xuICAgICAgICB2b2lkIG1haW4oKSB7XG4gICAgICAgICAgICBnbF9Qb2ludFNpemUgPSBzaXplO1xuICAgICAgICAgICAgdkNvbG9yID0gY29sb3VyO1xuICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCAoY2FtZXJhUG9zaXRpb24ueCArIHBvc2l0aW9uLngpIC8gcHJvamVjdGlvblZlY3Rvci54IC0xLjAsIChjYW1lcmFQb3NpdGlvbi55ICsgcG9zaXRpb24ueSkgLyAtcHJvamVjdGlvblZlY3Rvci55ICsgMS4wICwgMC4wLCAxLjApOyAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgYDtcblxuICAgIHN0YXRpYyBTUFJJVEVfRlJBR01FTlRfU0hBREVSOiBzdHJpbmcgPSBgXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG4gICAgICAgIHZhcnlpbmcgdmVjNCB2Q29sb3I7XG4gICAgICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcbiAgICAgICAgfVxuICAgIGA7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZ3JhcGhpY3MvcmVuZGVyL3BhcnRpY2xlL1BvaW50QmxvY2tQYXJ0aWNsZVJlbmRlci50cyIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vLi4vZ2VvbS9WZWN0b3IyXCI7XG5cbmNvbnN0IElOVl9BTFBIQTogbnVtYmVyID0gMSAvIDI1NTtcblxuZXhwb3J0IGNsYXNzIEJsb2NrUGFydGljbGUge1xuICAgIHB1YmxpYyBwWDogbnVtYmVyO1xuICAgIHB1YmxpYyBwWTogbnVtYmVyO1xuXG4gICAgcHVibGljIHZYOiBudW1iZXI7XG4gICAgcHVibGljIHZZOiBudW1iZXI7XG5cbiAgICBwdWJsaWMgZlg6IG51bWJlcjtcbiAgICBwdWJsaWMgZlk6IG51bWJlcjtcblxuICAgIHB1YmxpYyBleHRlcm5hbEZvcmNlOiBWZWN0b3IyO1xuXG4gICAgcHVibGljIGFnZTogbnVtYmVyO1xuICAgIHB1YmxpYyB0dGw6IG51bWJlcjtcbiAgICBwdWJsaWMgZGFtcGluZzogbnVtYmVyO1xuXG4gICAgcHVibGljIGRlY2F5OiBudW1iZXI7XG5cbiAgICBwdWJsaWMgc2l6ZTogbnVtYmVyO1xuICAgIHB1YmxpYyBhbHBoYTogbnVtYmVyO1xuICAgIHB1YmxpYyByZWQ6IG51bWJlcjtcbiAgICBwdWJsaWMgZ3JlZW46IG51bWJlcjtcbiAgICBwdWJsaWMgYmx1ZTogbnVtYmVyO1xuXG4gICAgcHVibGljIG5leHQ6IEJsb2NrUGFydGljbGU7XG4gICAgcHVibGljIHByZXY6IEJsb2NrUGFydGljbGU7XG5cbiAgICBwdWJsaWMgYWxwaGFQZXJVcGRhdGU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKCkge31cblxuICAgIHB1YmxpYyBJbml0YWxpemUoXG4gICAgICAgIHg6IG51bWJlcixcbiAgICAgICAgeTogbnVtYmVyLFxuICAgICAgICB2WDogbnVtYmVyLFxuICAgICAgICB2WTogbnVtYmVyLFxuICAgICAgICBmWDogbnVtYmVyLFxuICAgICAgICBmWTogbnVtYmVyLFxuICAgICAgICB0dGw6IG51bWJlcixcbiAgICAgICAgZGFtcGluZzogbnVtYmVyLFxuICAgICAgICBkZWNheTogbnVtYmVyLFxuICAgICAgICB0b3A6IGJvb2xlYW4sXG4gICAgICAgIGV4dGVybmFsRm9yY2U6IFZlY3RvcjIsXG4gICAgICAgIGRhdGExOiBudW1iZXIsXG4gICAgICAgIGRhdGEyOiBudW1iZXIsXG4gICAgICAgIGRhdGEzOiBudW1iZXIsXG4gICAgICAgIGRhdGE0OiBudW1iZXIsXG4gICAgICAgIGRhdGE1OiBudW1iZXIsXG4gICAgKSB7XG4gICAgICAgIHRoaXMucFggPSB4O1xuICAgICAgICB0aGlzLnBZID0geTtcbiAgICAgICAgdGhpcy52WCA9IHZYO1xuICAgICAgICB0aGlzLnZZID0gdlk7XG4gICAgICAgIHRoaXMuZlggPSBmWDtcbiAgICAgICAgdGhpcy5mWSA9IGZZO1xuICAgICAgICB0aGlzLnR0bCA9IHR0bDtcbiAgICAgICAgdGhpcy5hZ2UgPSB0dGw7XG4gICAgICAgIHRoaXMuZGFtcGluZyA9IGRhbXBpbmc7XG4gICAgICAgIHRoaXMuZGVjYXkgPSBkZWNheTtcbiAgICAgICAgdGhpcy5leHRlcm5hbEZvcmNlID0gZXh0ZXJuYWxGb3JjZTtcbiAgICAgICAgdGhpcy5zaXplID0gZGF0YTE7XG4gICAgICAgIHRoaXMuYWxwaGEgPSBkYXRhMiAqIElOVl9BTFBIQTtcbiAgICAgICAgdGhpcy5yZWQgPSBkYXRhMztcbiAgICAgICAgdGhpcy5ncmVlbiA9IGRhdGE0O1xuICAgICAgICB0aGlzLmJsdWUgPSBkYXRhNTtcbiAgICB9XG5cbiAgICBwdWJsaWMgVXBkYXRlKGRlbHRhVGltZTogbnVtYmVyLCBpbnZEZWx0YVRpbWU6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICB0aGlzLnZYICs9IHRoaXMuZlggKyB0aGlzLmV4dGVybmFsRm9yY2UueDtcbiAgICAgICAgdGhpcy52WSArPSB0aGlzLmZZICsgdGhpcy5leHRlcm5hbEZvcmNlLnk7XG4gICAgICAgIHRoaXMudlggKj0gdGhpcy5kYW1waW5nO1xuICAgICAgICB0aGlzLnZZICo9IHRoaXMuZGFtcGluZztcbiAgICAgICAgdGhpcy5wWCArPSB0aGlzLnZYICogaW52RGVsdGFUaW1lO1xuICAgICAgICB0aGlzLnBZICs9IHRoaXMudlkgKiBpbnZEZWx0YVRpbWU7XG4gICAgICAgIHRoaXMuYWdlIC09IGRlbHRhVGltZTtcbiAgICAgICAgdGhpcy5hbHBoYSAtPSB0aGlzLmRlY2F5O1xuICAgICAgICByZXR1cm4gdGhpcy5hZ2UgPiAwO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9wYXJ0aWNsZS9lbmdpbmVzL0Jsb2NrUGFydGljbGUudHMiLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZWNzL1N5c3RlbVwiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vLi4vY29yZS9jb21wb25lbnRzL1Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBCbG9ja1BhcnRpY2xlRW5naW5lMiB9IGZyb20gXCIuLi9lbmdpbmVzL0Jsb2NrUGFydGljbGVFbmdpbmUyXCI7XG5pbXBvcnQgeyBBY3RpdmUgfSBmcm9tIFwiLi4vLi4vY29yZS9jb21wb25lbnRzL0FjdGl2ZVwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IFBhcnRpY2xlRW1pdHRlciB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BhcnRpY2xlRW1pdHRlclwiO1xuXG5leHBvcnQgY2xhc3MgUGFydGljbGVTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIHByaXZhdGUgYmxvY2tQYXJ0aWNsZUVuZ2luZTogQmxvY2tQYXJ0aWNsZUVuZ2luZTI7XG4gICAgY29uc3RydWN0b3IoYmxvY2tQYXJ0aWNsZUVuZ2luZTogQmxvY2tQYXJ0aWNsZUVuZ2luZTIpIHtcbiAgICAgICAgc3VwZXIoW1Bvc2l0aW9uLCBBY3RpdmUsIFBhcnRpY2xlRW1pdHRlcl0pO1xuICAgICAgICB0aGlzLmJsb2NrUGFydGljbGVFbmdpbmUgPSBibG9ja1BhcnRpY2xlRW5naW5lO1xuICAgIH1cblxuICAgIHVwZGF0ZUVudGl0eShlbnRpdHk6IEVudGl0eSwgcG9zaXRpb246IFBvc2l0aW9uLCBhY3RpdmU6IEFjdGl2ZSwgcGFydGljbGVFbWl0dGVyOiBQYXJ0aWNsZUVtaXR0ZXIpIHtcbiAgICAgICAgcGFydGljbGVFbWl0dGVyLmVtaXR0ZXJzLmZvckVhY2goZW1pdHRlciA9PlxuICAgICAgICAgICAgZW1pdHRlci51cGRhdGUodGhpcy50aW1lc3RhbXAsIHRoaXMuZW5naW5lLmM0ZS5nZXQoZW50aXR5KSwgcG9zaXRpb24uY29vcmRzLCB0aGlzLmJsb2NrUGFydGljbGVFbmdpbmUpLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBwb3N0VXBkYXRlKCkge1xuICAgICAgICB0aGlzLmJsb2NrUGFydGljbGVFbmdpbmUuVXBkYXRlKCk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3BhcnRpY2xlL3N5c3RlbXMvUGFydGljbGVTeXN0ZW0udHMiLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZWNzL1N5c3RlbVwiO1xuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4uLy4uL2dyYXBoaWNzL2Rpc3BsYXlsaXN0L0NhbWVyYVwiO1xuaW1wb3J0IHsgSVNwYWNlTWFuYWdlciB9IGZyb20gXCIuLi9JU3BhY2VNYW5hZ2VyXCI7XG5pbXBvcnQgeyBBQUJCIH0gZnJvbSBcIi4uLy4uL2dlb20vQUFCQlwiO1xuaW1wb3J0IHsgRXh0ZW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbXBvbmVudHMvRXh0ZW50c1wiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vLi4vY29yZS9jb21wb25lbnRzL1Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBGaXhlZCB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbXBvbmVudHMvRml4ZWRcIjtcbmltcG9ydCB7IFJlZ3VsYXJHcmlkU3BhY2VNYW5hZ2VyIH0gZnJvbSBcIi4uL1JlZ3VsYXJHcmlkU3BhY2VNYW5hZ2VyXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgVmlld2FibGUgfSBmcm9tIFwiLi4vLi4vY29yZS9jb21wb25lbnRzL1ZpZXdhYmxlXCI7XG5cbmV4cG9ydCBjbGFzcyBGaXhlZFZpZXdNYW5hZ2VtZW50U3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICBwcml2YXRlIGNhbWVyYTogQ2FtZXJhO1xuICAgIHByaXZhdGUgc3BhY2VNYW5hZ2VyOiBJU3BhY2VNYW5hZ2VyO1xuICAgIHByaXZhdGUgYWN0aXZlU3BhY2VBQUJCOiBBQUJCO1xuXG4gICAgY29uc3RydWN0b3IoY2FtZXJhOiBDYW1lcmEpIHtcbiAgICAgICAgc3VwZXIoW1Bvc2l0aW9uLCBFeHRlbnRzLCBGaXhlZF0pO1xuICAgICAgICB0aGlzLmNhbWVyYSA9IGNhbWVyYTtcbiAgICAgICAgdGhpcy5zcGFjZU1hbmFnZXIgPSBuZXcgUmVndWxhckdyaWRTcGFjZU1hbmFnZXIoMTAsIDEwLCA1MDApO1xuICAgICAgICB0aGlzLmFjdGl2ZVNwYWNlQUFCQiA9IG5ldyBBQUJCKCk7XG4gICAgICAgIHRoaXMuYWN0aXZlU3BhY2VBQUJCLmV4dGVudHMuc2V0VG8oY2FtZXJhLnZpZXdwb3J0U2l6ZS54LCBjYW1lcmEudmlld3BvcnRTaXplLnkpOyAvLzgwMCAvIDIsIDYwMCAvIDIpO1xuICAgICAgICB0aGlzLnNldEVudGl0eVN0YXR1cyA9IHRoaXMuc2V0RW50aXR5U3RhdHVzLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgb25FbnRpdHlBZGRlZChlbnRpdHk6IEVudGl0eSwgcG9zaXRpb246IFBvc2l0aW9uLCBleHRlbnRzOiBFeHRlbnRzLCBmaXhlZDogRml4ZWQpIHtcbiAgICAgICAgdGhpcy5zcGFjZU1hbmFnZXIuYWRkRW50aXR5KGVudGl0eSwgcG9zaXRpb24sIGV4dGVudHMpO1xuICAgIH1cblxuICAgIHVwZGF0ZUFsbEVudGl0aWVzKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZVNwYWNlQUFCQi5wb3NpdGlvbi5jb3B5KHRoaXMuY2FtZXJhLnJlYWxQb3NpdGlvbik7XG4gICAgICAgIHRoaXMuc3BhY2VNYW5hZ2VyLnNlYXJjaCh0aGlzLmFjdGl2ZVNwYWNlQUFCQiwgdGhpcy5zZXRFbnRpdHlTdGF0dXMpO1xuICAgIH1cblxuICAgIHNldEVudGl0eVN0YXR1cyhlbnRpdHk6IEVudGl0eSwgc3RhdHVzOiBib29sZWFuKSB7XG4gICAgICAgIGlmIChzdGF0dXMgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUuYWRkQ29tcG9uZW50c1RvRW50aXR5KGVudGl0eSwgW25ldyBWaWV3YWJsZSgpXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5yZW1vdmVDb21wb25lbnRzRnJvbUVudGl0eShlbnRpdHksIFtWaWV3YWJsZV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3NwYWNlL3N5c3RlbXMvRml4ZWRWaWV3TWFuYWdlbWVudFN5c3RlbS50cyIsImltcG9ydCB7IElTcGFjZU1hbmFnZXIsIFNwYWNlTWFuYWdlckNiIH0gZnJvbSBcIi4vSVNwYWNlTWFuYWdlclwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IEFycmF5MkQgfSBmcm9tIFwiLi4vZHMvQXJyYXkyRFwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IFNwYWNlTWFuYWdlclByb3h5IH0gZnJvbSBcIi4vU3BhY2VNYW5hZ2VyUHJveHlcIjtcbmltcG9ydCB7IEFBQkIgfSBmcm9tIFwiLi4vZ2VvbS9BQUJCXCI7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi9jb3JlL2NvbXBvbmVudHMvUG9zaXRpb25cIjtcbmltcG9ydCB7IEV4dGVudHMgfSBmcm9tIFwiLi4vY29yZS9jb21wb25lbnRzL0V4dGVudHNcIjtcblxuZXhwb3J0IGNsYXNzIFJlZ3VsYXJHcmlkU3BhY2VNYW5hZ2VyIGltcGxlbWVudHMgSVNwYWNlTWFuYWdlciB7XG4gICAgcHVibGljIGdyaWQ6IEFycmF5MkQ8Q2VsbD47XG4gICAgcHVibGljIGN1cnJlbnRDZWxsczogQXJyYXk8Q2VsbD47XG4gICAgcHVibGljIGNvdW50OiBudW1iZXIgPSAxO1xuICAgIHB1YmxpYyBsYXN0VXBkYXRlUG9zaXRpb246IFZlY3RvcjI7XG4gICAgcHVibGljIHVwZGF0ZURpc3RhbmNlRGVsdGE6IG51bWJlciA9IDEwMCAqIDEwMDtcblxuICAgIGNvbnN0cnVjdG9yKGdyaWRXaWR0aDogbnVtYmVyLCBncmlkSGVpZ2h0OiBudW1iZXIsIGdyaWRDZWxsU2l6ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZ3JpZCA9IG5ldyBBcnJheTJEKGdyaWRXaWR0aCwgZ3JpZEhlaWdodCwgZ3JpZENlbGxTaXplKTtcbiAgICAgICAgdGhpcy5jdXJyZW50Q2VsbHMgPSBuZXcgQXJyYXk8Q2VsbD4oKTtcblxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuZ3JpZC5ncmlkV2lkdGg7IHkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLmdyaWQuZ3JpZEhlaWdodDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ncmlkLnNldCh4LHksbmV3IENlbGwoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkRW50aXR5KGVudGl0eTogRW50aXR5LCBwb3NpdGlvbjogUG9zaXRpb24sIGV4dGVudHM6IEV4dGVudHMpIHtcbiAgICAgICAgdmFyIHByb3h5ID0gbmV3IFNwYWNlTWFuYWdlclByb3h5KCk7XG4gICAgICAgIHByb3h5LmFhYmIucG9zaXRpb24gPSBwb3NpdGlvbi5jb29yZHM7XG4gICAgICAgIHByb3h5LmFhYmIuZXh0ZW50cyA9IGV4dGVudHMuaGFsZldpZHRocztcbiAgICAgICAgcHJveHkuaXNTdGF0aWMgPSB0cnVlO1xuICAgICAgICBwcm94eS5lbnRpdHkgPSBlbnRpdHk7XG4gICAgICAgIHRoaXMuaGFzaFByb3h5KHByb3h5KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFzaFByb3h5KHByb3h5OiBTcGFjZU1hbmFnZXJQcm94eSkge1xuICAgICAgICB2YXIgc3RhcnRYID0gdGhpcy5ncmlkLkluZGV4KHByb3h5LmFhYmIucG9zaXRpb24ueCAtIHByb3h5LmFhYmIuZXh0ZW50cy54KTtcbiAgICAgICAgdmFyIHN0YXJ0WSA9IHRoaXMuZ3JpZC5JbmRleChwcm94eS5hYWJiLnBvc2l0aW9uLnkgLSBwcm94eS5hYWJiLmV4dGVudHMueSk7XG5cbiAgICAgICAgdmFyIGVuZFggPSB0aGlzLmdyaWQuSW5kZXgocHJveHkuYWFiYi5wb3NpdGlvbi54ICsgcHJveHkuYWFiYi5leHRlbnRzLngpICsgMTtcbiAgICAgICAgdmFyIGVuZFkgPSB0aGlzLmdyaWQuSW5kZXgocHJveHkuYWFiYi5wb3NpdGlvbi55ICsgcHJveHkuYWFiYi5leHRlbnRzLnkpICsgMTtcblxuICAgICAgICBmb3IgKGxldCB5ID0gc3RhcnRZOyB5IDwgZW5kWTsgeSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gc3RhcnRYOyB4IDwgZW5kWDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNlbGwgPSB0aGlzLmdyaWQuZ2V0KHgsIHkpO1xuICAgICAgICAgICAgICAgIGNlbGwucHJveGllcy5wdXNoKHByb3h5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBhZGRBY3RpdmVDZWxsKGNlbGw6IENlbGwsIHZpZXdBQUJCOiBBQUJCLCBjYWxsYmFjazogU3BhY2VNYW5hZ2VyQ2IpIHtcbiAgICAgICAgY2VsbC5wcm94aWVzLmZvckVhY2gocHJveHkgPT4ge1xuICAgICAgICAgICAgaWYgKHByb3h5LnJlZmVyZW5jZUNvdW50KysgPT0gMCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHByb3h5LmVudGl0eSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjZWxsLnVwZGF0ZUNvdW50ID0gdGhpcy5jb3VudDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlQWN0aXZlQ2VsbChjZWxsOiBDZWxsLCB2aWV3QUFCQjogQUFCQiwgY2FsbGJhY2s6IFNwYWNlTWFuYWdlckNiKSB7XG4gICAgICAgIGNlbGwucHJveGllcy5mb3JFYWNoKHByb3h5ID0+IHtcbiAgICAgICAgICAgIGlmICgtLXByb3h5LnJlZmVyZW5jZUNvdW50ID09IDApIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhwcm94eS5lbnRpdHksIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vUmVzZXQgdGhlIHVwZGF0ZSBjb3VudFxuICAgICAgICBjZWxsLnVwZGF0ZUNvdW50ID0gMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2VhcmNoKHZpZXdBQUJCOiBBQUJCLCBjYWxsYmFjazogKGVudGl0eTogRW50aXR5LCBiOiBib29sZWFuKSA9PiB2b2lkKSB7XG4gICAgICAgIGlmICh0aGlzLmxhc3RVcGRhdGVQb3NpdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RVcGRhdGVQb3NpdGlvbiA9IHZpZXdBQUJCLnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0VXBkYXRlUG9zaXRpb24uZGlzdFNxcmQodmlld0FBQkIucG9zaXRpb24pIDwgdGhpcy51cGRhdGVEaXN0YW5jZURlbHRhKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmxhc3RVcGRhdGVQb3NpdGlvbi5jb3B5KHZpZXdBQUJCLnBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhcnRYID0gdGhpcy5ncmlkLkluZGV4KHZpZXdBQUJCLnBvc2l0aW9uLnggLSB2aWV3QUFCQi5leHRlbnRzLngpO1xuICAgICAgICB2YXIgc3RhcnRZID0gdGhpcy5ncmlkLkluZGV4KHZpZXdBQUJCLnBvc2l0aW9uLnkgLSB2aWV3QUFCQi5leHRlbnRzLnkpO1xuXG4gICAgICAgIHZhciBlbmRYID0gdGhpcy5ncmlkLkluZGV4KHZpZXdBQUJCLnBvc2l0aW9uLnggKyB2aWV3QUFCQi5leHRlbnRzLngpICsgMTtcbiAgICAgICAgdmFyIGVuZFkgPSB0aGlzLmdyaWQuSW5kZXgodmlld0FBQkIucG9zaXRpb24ueSArIHZpZXdBQUJCLmV4dGVudHMueSkgKyAxO1xuXG4gICAgICAgIGZvciAobGV0IHkgPSBzdGFydFk7IHkgPCBlbmRZOyB5KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHggPSBzdGFydFg7IHggPCBlbmRYOyB4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2VsbCA9IHRoaXMuZ3JpZC5nZXQoeCwgeSk7XG4gICAgICAgICAgICAgICAgaWYgKGNlbGwgPT0gbnVsbCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgaWYgKGNlbGwudXBkYXRlQ291bnQgPT0gMCkgdGhpcy5jdXJyZW50Q2VsbHMucHVzaChjZWxsKTtcbiAgICAgICAgICAgICAgICBlbHNlIGNlbGwudXBkYXRlQ291bnQgPSB0aGlzLmNvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSB0aGlzLmN1cnJlbnRDZWxscy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICAgICAgICB2YXIgY2VsbCA9IHRoaXMuY3VycmVudENlbGxzW2ldO1xuICAgICAgICAgICAgaWYgKGNlbGwudXBkYXRlQ291bnQgPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQWN0aXZlQ2VsbChjZWxsLCB2aWV3QUFCQiwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjZWxsLnVwZGF0ZUNvdW50IDwgdGhpcy5jb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQWN0aXZlQ2VsbChjZWxsLCB2aWV3QUFCQiwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudENlbGxzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY291bnQrKztcbiAgICB9XG59XG5cbmNsYXNzIENlbGwge1xuICAgIHB1YmxpYyBwcm94aWVzOiBBcnJheTxTcGFjZU1hbmFnZXJQcm94eT47XG4gICAgcHVibGljIHVwZGF0ZUNvdW50OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wcm94aWVzID0gbmV3IEFycmF5PFNwYWNlTWFuYWdlclByb3h5PigpO1xuICAgICAgICB0aGlzLnVwZGF0ZUNvdW50ID0gMDtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvc3BhY2UvUmVndWxhckdyaWRTcGFjZU1hbmFnZXIudHMiLCJleHBvcnQgY2xhc3MgQXJyYXkyRDxUPiB7XG4gICAgcHVibGljIGRhdGE6IEFycmF5PFQ+O1xuXG4gICAgcHVibGljIGdyaWRXaWR0aDogbnVtYmVyO1xuICAgIHB1YmxpYyBncmlkSGVpZ2h0OiBudW1iZXI7XG5cbiAgICBwdWJsaWMgY2VsbFNpemU6IG51bWJlcjtcbiAgICBwdWJsaWMgaW52Q2VsbFNpemU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGdyaWRXaWR0aDogbnVtYmVyLCBncmlkSGVpZ2h0OiBudW1iZXIsIGNlbGxTaXplOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5pbml0YWxpemUoZ3JpZFdpZHRoLCBncmlkSGVpZ2h0LCBjZWxsU2l6ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGluaXRhbGl6ZShncmlkV2lkdGg6IG51bWJlciwgZ3JpZEhlaWdodDogbnVtYmVyLCBjZWxsU2l6ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZ3JpZFdpZHRoID0gZ3JpZFdpZHRoO1xuICAgICAgICB0aGlzLmdyaWRIZWlnaHQgPSBncmlkSGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuY2VsbFNpemUgPSBjZWxsU2l6ZTtcbiAgICAgICAgdGhpcy5pbnZDZWxsU2l6ZSA9IDEgLyBjZWxsU2l6ZTtcblxuICAgICAgICB0aGlzLmRhdGEgPSBuZXcgQXJyYXk8VD4odGhpcy5ncmlkV2lkdGggKiB0aGlzLmdyaWRIZWlnaHQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVt5ICogdGhpcy5ncmlkV2lkdGggKyB4XTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2FmZSh4OiBudW1iZXIsIHk6IG51bWJlcik6IFQge1xuICAgICAgICByZXR1cm4geCA+PSB0aGlzLmdyaWRXaWR0aCB8fCB5ID49IHRoaXMuZ3JpZEhlaWdodCB8fCB4IDwgMCB8fCB5IDwgMCA/IG51bGwgOiB0aGlzLmRhdGFbeSAqIHRoaXMuZ3JpZFdpZHRoICsgeF07XG4gICAgfVxuXG4gICAgcHVibGljIHNldCh4OiBudW1iZXIsIHk6IG51bWJlciwgdmFsdWU6IFQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5kYXRhW3kgKiB0aGlzLmdyaWRXaWR0aCArIHhdID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIEluZGV4KHZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICAvL0ZJWE1FIE5vdCBzdXJlIHRoaXMgYWx3YXlzIHdvcmtzLi4uXG4gICAgICAgIC8vcmV0dXJuIFN0ZC5udW1iZXIodmFsdWUgLyBjZWxsU2l6ZSk7XG4gICAgICAgIC8vcmV0dXJuIE1hdGguZmxvb3IodmFsdWUgKiBpbnZDZWxsU2l6ZSk7XG4gICAgICAgIHJldHVybiAodmFsdWUgKiB0aGlzLmludkNlbGxTaXplKSB8IDA7XG4gICAgfVxuXG4gICAgcHVibGljIFdpZHRoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyaWRXaWR0aCAqIHRoaXMuY2VsbFNpemU7XG4gICAgfVxuXG4gICAgcHVibGljIEhlaWdodCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmlkSGVpZ2h0ICogdGhpcy5jZWxsU2l6ZTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZHMvQXJyYXkyRC50cyIsImltcG9ydCB7IEFBQkIgfSBmcm9tIFwiLi4vZ2VvbS9BQUJCXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vZWNzL0VudGl0eVwiO1xuXG5leHBvcnQgY2xhc3MgU3BhY2VNYW5hZ2VyUHJveHkge1xuICAgIHB1YmxpYyBhYWJiOiBBQUJCID0gbmV3IEFBQkIoKTtcbiAgICBwdWJsaWMgaXNTdGF0aWM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwdWJsaWMgZW50aXR5OiBFbnRpdHkgPSBudWxsO1xuICAgIHB1YmxpYyBhY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwdWJsaWMgcmVmZXJlbmNlQ291bnQ6IG51bWJlciA9IDA7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHt9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvc3BhY2UvU3BhY2VNYW5hZ2VyUHJveHkudHMiLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZWNzL1N5c3RlbVwiO1xuaW1wb3J0IHsgQWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQWdlXCI7XG5pbXBvcnQgeyBBY3RpdmUgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BY3RpdmVcIjtcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi8uLi9lY3MvRW50aXR5XCI7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1N0YXRlXCI7XG5cbmV4cG9ydCBjbGFzcyBBZ2VTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihbQWdlLCBTdGF0ZSwgQWN0aXZlXSk7XG4gICAgfVxuXG4gICAgdXBkYXRlRW50aXR5KGVudGl0eTogRW50aXR5LCBhZ2U6IEFnZSwgc3RhdGU6U3RhdGUsIGFjdGl2ZTogQWN0aXZlKSB7XG4gICAgICAgIGlmIChhZ2UuZ3Jvd09sZGVyKHRoaXMuZHQpKSB7XG4gICAgICAgICAgICBpZiAoYWdlLm9uRXhwaXJlICE9IG51bGwpIHN0YXRlLnNldFN0YXRlKGFnZS5vbkV4cGlyZSk7Ly8gYWdlLm9uRXhwaXJlKHRoaXMuZW5naW5lLGVudGl0eSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvY29yZS9zeXN0ZW1zL0FnZVN5c3RlbS50cyIsImltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi8uLi9lY3MvU3lzdGVtXCI7XG5pbXBvcnQgeyBIZWFsdGggfSBmcm9tIFwiLi4vY29tcG9uZW50cy9IZWFsdGhcIjtcbmltcG9ydCB7IEFjdGl2ZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FjdGl2ZVwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvU3RhdGVcIjtcblxuZXhwb3J0IGNsYXNzIEhlYWx0aFN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFtIZWFsdGgsIFN0YXRlLCBBY3RpdmVdKTtcbiAgICB9XG5cbiAgICB1cGRhdGVFbnRpdHkoZW50aXR5OiBFbnRpdHksIGhlYWx0aDogSGVhbHRoLCBzdGF0ZTpTdGF0ZSwgYWN0aXZlOiBBY3RpdmUpIHtcbiAgICAgICAgaWYgKGhlYWx0aC5jdXJyZW50SGVhbHRoIDw9IDApIHtcbiAgICAgICAgICAgIGlmIChoZWFsdGgub25Ob0hlYWx0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuc2V0U3RhdGUoaGVhbHRoLm9uTm9IZWFsdGgpO1xuICAgICAgICAgICAgICAgIC8vIGhlYWx0aC5vbk5vSGVhbHRoKHRoaXMuZW5naW5lLCBlbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVhbHRoLmN1cnJlbnRIZWFsdGggPSBNYXRoLm1pbihoZWFsdGgubWF4SGVhbHRoLCBoZWFsdGguY3VycmVudEhlYWx0aCArIGhlYWx0aC5yZWNvdmVyeVBlck1zICogdGhpcy5kdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvY29yZS9zeXN0ZW1zL0hlYWx0aFN5c3RlbS50cyIsImltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi8uLi9lY3MvU3lzdGVtXCI7XG5pbXBvcnQgeyBBZ2UgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BZ2VcIjtcbmltcG9ydCB7IEFjdGl2ZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FjdGl2ZVwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IENvbGxpc2lvbkNvdW50ZXIgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Db2xsaXNpb25Db3VuZXJcIjtcbmltcG9ydCB7IFBoeXNpY3NDb2xsaXNpb24gfSBmcm9tIFwiLi4vLi4vcGh5c2ljcy9jb21wb25lbnRzL1BoeXNpY3NDb2xsaXNpb25cIjtcbmltcG9ydCB7IEJGUHJveHkgfSBmcm9tIFwiLi4vLi4vcGh5c2ljcy9jb2xsaXNpb24vQkZQcm94eVwiO1xuaW1wb3J0IHsgQ29udGFjdCB9IGZyb20gXCIuLi8uLi9waHlzaWNzL2NvbGxpc2lvbi9Db250YWN0XCI7XG5pbXBvcnQgeyBNb3ZlYWJsZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL01vdmVhYmxlXCI7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1N0YXRlXCI7XG5cbmV4cG9ydCBjbGFzcyBDb2xsc2lvbkNvdW50U3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoW0NvbGxpc2lvbkNvdW50ZXIsIFBoeXNpY3NDb2xsaXNpb24sIFN0YXRlLCBBY3RpdmVdKTtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IHRoaXMuY2FsbGJhY2suYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBvbkVudGl0eUFkZGVkKFxuICAgICAgICBlbnRpdHk6IEVudGl0eSxcbiAgICAgICAgY29sbGlzaW9uQ291bnRlcjogQ29sbGlzaW9uQ291bnRlcixcbiAgICAgICAgcGh5c2ljc0NvbGxpc2lvbjogUGh5c2ljc0NvbGxpc2lvbixcbiAgICAgICAgc3RhdGU6IFN0YXRlLFxuICAgICAgICBhY3RpdmU6IEFjdGl2ZSxcbiAgICApIHtcbiAgICAgICAgcGh5c2ljc0NvbGxpc2lvbi5wcm94eS5jb250YWN0Q2FsbGJhY2tzLnB1c2godGhpcy5jYWxsYmFjayk7XG4gICAgfVxuICAgIG9uRW50aXR5UmVtb3ZlZChcbiAgICAgICAgZW50aXR5OiBFbnRpdHksXG4gICAgICAgIGNvbGxpc2lvbkNvdW50ZXI6IENvbGxpc2lvbkNvdW50ZXIsXG4gICAgICAgIHBoeXNpY3NDb2xsaXNpb246IFBoeXNpY3NDb2xsaXNpb24sXG4gICAgICAgIHN0YXRlOiBTdGF0ZSxcbiAgICAgICAgYWN0aXZlOiBBY3RpdmUsXG4gICAgKSB7XG4gICAgICAgIHBoeXNpY3NDb2xsaXNpb24ucHJveHkuY29udGFjdENhbGxiYWNrcy5zcGxpY2UoXG4gICAgICAgICAgICBwaHlzaWNzQ29sbGlzaW9uLnByb3h5LmNvbnRhY3RDYWxsYmFja3MuaW5kZXhPZih0aGlzLmNhbGxiYWNrKSxcbiAgICAgICAgICAgIDEsXG4gICAgICAgICk7XG4gICAgfVxuICAgIHVwZGF0ZUFsbEVudGl0aWVzKCkge31cblxuICAgIGNhbGxiYWNrKGE6IEJGUHJveHksIGI6IEJGUHJveHksIGNvbnRhY3Q6IENvbnRhY3QpIHtcbiAgICAgICAgdmFyIGNjID0gdGhpcy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGEuZW50aXR5LCBDb2xsaXNpb25Db3VudGVyKTtcblxuICAgICAgICB2YXIgY291bnQgPSAtLWNjLmNvdW50O1xuXG4gICAgICAgIC8vVGhpcyBpcyB0aGUgd29ybGRcbiAgICAgICAgaWYgKGIgPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGNvdW50IDw9IDAgJiYgY2Mub25Db3VudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlOlN0YXRlID0gdGhpcy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGEuZW50aXR5LCBTdGF0ZSk7XG4gICAgICAgICAgICAgICAgc3RhdGUuc2V0U3RhdGUoY2Mub25Db3VudCk7XG4gICAgICAgICAgICAgICAgLy8gY2Mub25Db3VudCh0aGlzLmVuZ2luZSwgYS5lbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9EbyBub3RoaW5nIHdpdGggc2Vuc29yXG4gICAgICAgICAgICBpZiAoYi5pc1NlbnNvcikgcmV0dXJuO1xuXG4gICAgICAgICAgICAvL0hpdCBEeW5hbWljIGl0ZW0/IHRyaWdnZXIgZGlyZWN0bHlcblxuICAgICAgICAgICAgaWYgKHRoaXMuZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShiLmVudGl0eSwgTW92ZWFibGUpICYmIGNjLm9uQ291bnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0ZTpTdGF0ZSA9IHRoaXMuZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShhLmVudGl0eSwgU3RhdGUpO1xuICAgICAgICAgICAgICAgIHN0YXRlLnNldFN0YXRlKGNjLm9uQ291bnQpO1xuICAgICAgICAgICAgICAgIC8vIGNjLm9uQ291bnQodGhpcy5lbmdpbmUsIGEuZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9jb3JlL3N5c3RlbXMvQ29sbGlzaW9uQ291bnRTeXN0ZW0udHMiLCJpbXBvcnQgeyBJQnJvYWRwaGFzZSB9IGZyb20gXCIuLi9waHlzaWNzL2NvbGxpc2lvbi9icm9hZHBoYXNlL0lCcm9hZHBoYXNlXCI7XG5pbXBvcnQgeyBSYXkgfSBmcm9tIFwiLi4vcGh5c2ljcy9jb2xsaXNpb24vUmF5XCI7XG5pbXBvcnQgeyBBQUJCIH0gZnJvbSBcIi4uL2dlb20vQUFCQlwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vZ2VvbS9WZWN0b3IyXCI7XG5pbXBvcnQgeyBCRlByb3h5IH0gZnJvbSBcIi4uL3BoeXNpY3MvY29sbGlzaW9uL0JGUHJveHlcIjtcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gXCIuLi9lY3MvRW5naW5lXCI7XG5pbXBvcnQgeyBFbnRpdHlDb2xsZWN0aW9uIH0gZnJvbSBcIi4uL2RzL0VudGl0eUNvbGxlY3Rpb25cIjtcbmltcG9ydCB7IFpFUk9fVE9MRVJBTkNFIH0gZnJvbSBcIi4vTWF0aHNcIjtcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcIi4uL2NvcmUvY29tcG9uZW50cy9Qb3NpdGlvblwiO1xuXG5leHBvcnQgY2xhc3MgQnJvYWRwaGFzZUFyZWFRdWVyeSB7XG4gICAgc3RhdGljIFJBWUNBU1RfVEhSRVNIT0xEOiBudW1iZXIgPSAxMDtcblxuICAgIGVuZ2luZTogRW5naW5lO1xuICAgIGJyb2FkcGhhc2U6IElCcm9hZHBoYXNlO1xuICAgIHJheTogUmF5O1xuICAgIHB1YmxpYyBlbnRpdHlDb2xsZWN0aW9uOiBFbnRpdHlDb2xsZWN0aW9uO1xuICAgIGFhYmI6IEFBQkI7XG4gICAgZmlsdGVyRW50aXR5OiBFbnRpdHk7XG4gICAgdmlzaWJsZUNoZWNrOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoZW5naW5lOiBFbmdpbmUsIGJyb2FkcGhhc2U6IElCcm9hZHBoYXNlKSB7XG4gICAgICAgIHRoaXMuZW5naW5lID0gZW5naW5lO1xuICAgICAgICB0aGlzLmJyb2FkcGhhc2UgPSBicm9hZHBoYXNlO1xuICAgICAgICB0aGlzLmVudGl0eUNvbGxlY3Rpb24gPSBuZXcgRW50aXR5Q29sbGVjdGlvbigpO1xuICAgICAgICB0aGlzLmFhYmIgPSBuZXcgQUFCQigpO1xuICAgICAgICB0aGlzLnJheSA9IG5ldyBSYXkoKTtcbiAgICAgICAgdGhpcy5hZGRCcm9hZHBoYXNlSXRlbSA9IHRoaXMuYWRkQnJvYWRwaGFzZUl0ZW0uYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcXVlcnkocG9zaXRpb246IFZlY3RvcjIsIHJhbmdlOiBudW1iZXIsIGZpbHRlckVudGl0eTogRW50aXR5LCB2aXNpYmxlQ2hlY2s6IGJvb2xlYW4pIHtcbiAgICAgICAgLy8ganMuTGliLmRlYnVnKCk7XG4gICAgICAgIHRoaXMuZW50aXR5Q29sbGVjdGlvbi5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuYWFiYi5wb3NpdGlvbi5jb3B5KHBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5hYWJiLmV4dGVudHMuc2V0VG8ocmFuZ2UsIHJhbmdlKTtcbiAgICAgICAgdGhpcy5maWx0ZXJFbnRpdHkgPSBmaWx0ZXJFbnRpdHk7XG4gICAgICAgIHRoaXMudmlzaWJsZUNoZWNrID0gdmlzaWJsZUNoZWNrO1xuXG4gICAgICAgIHRoaXMuYnJvYWRwaGFzZS5RdWVyeUFyZWEodGhpcy5hYWJiLCB0aGlzLmFkZEJyb2FkcGhhc2VJdGVtLCB0cnVlLCB0cnVlKTsgLy9DaGVjayBzdGF0aWMgYW5kIGR5bmFtaWMgaXRlbXNcbiAgICB9XG5cbiAgICBhZGRCcm9hZHBoYXNlSXRlbShiZnByb3h5OiBCRlByb3h5KTpib29sZWFuIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJmb3VuZCBcIitiZnByb3h5LmlkKTtcbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyRW50aXR5ICE9IG51bGwgJiYgYmZwcm94eS5lbnRpdHkgPT0gdGhpcy5maWx0ZXJFbnRpdHkpIHJldHVybjtcblxuICAgICAgICB2YXIgZGlzdGFuY2UgPSBiZnByb3h5LmFhYmIucG9zaXRpb24uZGlzdFNxcmQodGhpcy5hYWJiLnBvc2l0aW9uKSArIFpFUk9fVE9MRVJBTkNFO1xuXG4gICAgICAgIGlmIChkaXN0YW5jZSA+IEJyb2FkcGhhc2VBcmVhUXVlcnkuUkFZQ0FTVF9USFJFU0hPTEQgJiYgdGhpcy52aXNpYmxlQ2hlY2spIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShiZnByb3h5LmVudGl0eSwgUG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5yYXkuaW5pdGFsaXplKHRoaXMuYWFiYi5wb3NpdGlvbiwgcG9zLmNvb3JkcywgMCwgbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmJyb2FkcGhhc2UgLy9qcy5MaWIuZGVidWcoKTtcbiAgICAgICAgICAgICAgICAuQ2FzdFJheSh0aGlzLnJheSwgbnVsbCwgZmFsc2UsIGZhbHNlKTsgLy9Eb250IGNoZWNrIHJheSBhZ2FpbnN0IHN0YXRpYyBhbmQgZHluYW1pYyBpdGVtc1xuICAgICAgICAgICAgaWYgKHRoaXMucmF5LmhpdCkgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLmVudGl0eUNvbGxlY3Rpb24uYWRkSXRlbShiZnByb3h5LmVudGl0eSk7XG4gICAgICAgIGl0ZW0uZGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgICAgaXRlbS5wZXJzcGVjdGl2ZSA9IHRoaXMuYWFiYi5wb3NpdGlvbjtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvdXRpbC9Ccm9hZHBoYXNlQXJlYVF1ZXJ5LnRzIiwiaW1wb3J0IHsgRW50aXR5Q29sbGVjdGlvbkl0ZW0sIEVDSUZpbHRlciB9IGZyb20gXCIuL0VudGl0eUNvbGxlY3Rpb25JdGVtXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vZWNzL0VudGl0eVwiO1xuXG5leHBvcnQgY2xhc3MgRW50aXR5Q29sbGVjdGlvbiB7XG4gICAgcHVibGljIGVudGl0aWVzOiBBcnJheTxFbnRpdHlDb2xsZWN0aW9uSXRlbT47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IG5ldyBBcnJheSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRJdGVtKGVudGl0eTogRW50aXR5KTogRW50aXR5Q29sbGVjdGlvbkl0ZW0ge1xuICAgICAgICBjb25zdCBlY2kgPSBuZXcgRW50aXR5Q29sbGVjdGlvbkl0ZW0oZW50aXR5KTtcbiAgICAgICAgdGhpcy5lbnRpdGllcy5wdXNoKGVjaSk7XG4gICAgICAgIHJldHVybiBlY2k7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEl0ZW0oZW50aXR5OiBFbnRpdHkpOiBFbnRpdHlDb2xsZWN0aW9uSXRlbSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVudGl0aWVzLmZpbmQoZWNpID0+IGVjaS5lbnRpdHkgPT09IGVudGl0eSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUl0ZW0oZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IHRoaXMuZW50aXRpZXMuZmlsdGVyKGVjaSA9PiBlY2kuZW50aXR5ICE9PSBlbnRpdHkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBmaWx0ZXIoZmlsdGVyRnVuYzogRUNJRmlsdGVyKSB7XG4gICAgICAgIHRoaXMuZW50aXRpZXMgPSB0aGlzLmVudGl0aWVzLmZpbHRlcihmaWx0ZXJGdW5jKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuZW50aXRpZXMubGVuZ3RoID0gMDtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZHMvRW50aXR5Q29sbGVjdGlvbi50cyIsImltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi9lY3MvRW50aXR5XCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL2dlb20vVmVjdG9yMlwiO1xuXG5leHBvcnQgY2xhc3MgRW50aXR5Q29sbGVjdGlvbkl0ZW0ge1xuICAgIHB1YmxpYyBlbnRpdHk6IEVudGl0eTtcbiAgICBwdWJsaWMgZGlzdGFuY2U6IG51bWJlcjtcbiAgICBwdWJsaWMgcHJpb3JpdHk6IG51bWJlcjtcbiAgICBwdWJsaWMgdmlzaWJsZTogYm9vbGVhbjtcbiAgICBwdWJsaWMgcGVyc3BlY3RpdmU6IFZlY3RvcjI7XG5cbiAgICBjb25zdHJ1Y3RvcihlbnRpdHk6IEVudGl0eSkge1xuICAgICAgICB0aGlzLmVudGl0eSA9IGVudGl0eTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzZXQoKSB7fVxuXG4gICAgc3RhdGljIFNvcnRDbG9zZXN0Rmlyc3QoYTogRW50aXR5Q29sbGVjdGlvbkl0ZW0sIGI6IEVudGl0eUNvbGxlY3Rpb25JdGVtKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIGEuZGlzdGFuY2UgLSBiLmRpc3RhbmNlO1xuICAgIH1cbn1cblxuZXhwb3J0IHR5cGUgRUNJQ29tcCA9IChhOiBFbnRpdHlDb2xsZWN0aW9uSXRlbSwgYjogRW50aXR5Q29sbGVjdGlvbkl0ZW0pID0+IG51bWJlcjtcbmV4cG9ydCB0eXBlIEVDSUZpbHRlciA9IChhOiBFbnRpdHlDb2xsZWN0aW9uSXRlbSkgPT4gYm9vbGVhbjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9kcy9FbnRpdHlDb2xsZWN0aW9uSXRlbS50cyIsImltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi8uLi9lY3MvU3lzdGVtXCI7XG5pbXBvcnQgeyBEZXN0cm95IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRGVzdHJveVwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcblxuZXhwb3J0IGNsYXNzIERlc3Ryb3lTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIHRvRGVsZXRlOiBFbnRpdHlbXTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihbRGVzdHJveV0pO1xuICAgICAgICB0aGlzLnRvRGVsZXRlID0gbmV3IEFycmF5KCk7XG4gICAgfVxuXG4gICAgdXBkYXRlRW50aXR5KGVudGl0eTogRW50aXR5LCBkZXN0cm95OiBEZXN0cm95KSB7XG4gICAgICAgIGlmIChkZXN0cm95LmNvdW50LS0gPD0gMCkge1xuICAgICAgICAgICAgdGhpcy50b0RlbGV0ZS5wdXNoKGVudGl0eSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgcG9zdFVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy50b0RlbGV0ZS5mb3JFYWNoKGVudGl0eSA9PiB0aGlzLmVuZ2luZS5kZXN0cm95RW50aXR5KGVudGl0eSkpO1xuICAgICAgICB0aGlzLnRvRGVsZXRlLmxlbmd0aCA9IDA7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2NvcmUvc3lzdGVtcy9EZXN0cm95U3lzdGVtLnRzIiwiaW1wb3J0IHsgRW5naW5lIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2Vjcy9FbmdpbmVcIjtcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9lY3MvRW50aXR5XCI7XG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGh5c2ljcy9jb2xsaXNpb24vRmlsdGVyXCI7XG5pbXBvcnQgeyBUZXN0RmlsdGVycyB9IGZyb20gXCIuLi8uLi9jb25maWcvRmlsdGVyc1wiO1xuaW1wb3J0IHsgQm9keSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL0JvZHlcIjtcbmltcG9ydCB7IE1hdGVyaWFsIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL3BoeXNpY3MvTWF0ZXJpYWxcIjtcbmltcG9ydCB7IEV4dGVudHMgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL0V4dGVudHNcIjtcbmltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2dyYXBoaWNzL2NvbXBvbmVudHMvR3JhcGhpY3NcIjtcbmltcG9ydCB7IEdyYXBoaWNzQW5pbWF0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2dyYXBoaWNzL2NvbXBvbmVudHMvR3JhcGhpY3NBbmltYXRpb25cIjtcbmltcG9ydCB7IFBoeXNpY3NCb2R5IH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL3BoeXNpY3MvY29tcG9uZW50cy9QaHlzaWNzQm9keVwiO1xuaW1wb3J0IHsgUGh5c2ljc0NvbGxpc2lvbiB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL2NvbXBvbmVudHMvUGh5c2ljc0NvbGxpc2lvblwiO1xuaW1wb3J0IHsgTW92ZWFibGUgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL01vdmVhYmxlXCI7XG5pbXBvcnQgeyBBY3RpdmUgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL0FjdGl2ZVwiO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvUGxheWVyXCI7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvUG9zaXRpb25cIjtcbmltcG9ydCB7IExpZ2h0IH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2dyYXBoaWNzL2NvbXBvbmVudHMvTGlnaHRcIjtcbmltcG9ydCB7IFZpZXdhYmxlIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9WaWV3YWJsZVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXJGYWN0b3J5IHtcbiAgICBzdGF0aWMgY3JlYXRlKGVuZ2luZTogRW5naW5lLCBwb3NpdGlvbjogUG9zaXRpb24pOiBFbnRpdHkge1xuICAgICAgICB2YXIgcGxheWVyRmlsdGVyID0gbmV3IEZpbHRlcigpO1xuICAgICAgICBwbGF5ZXJGaWx0ZXIuY2F0ZWdvcnlCaXRzID0gVGVzdEZpbHRlcnMuUExBWUVSX0NBVDtcbiAgICAgICAgcGxheWVyRmlsdGVyLm1hc2tCaXRzIHw9IFRlc3RGaWx0ZXJzLlBST0pFQ1RJTEVfQ0FUO1xuICAgICAgICBwbGF5ZXJGaWx0ZXIuZ3JvdXBJbmRleCA9IFRlc3RGaWx0ZXJzLlBMQVlFUl9HUk9VUDsgXG5cbiAgICAgICAgdmFyIGJvZHkgPSBuZXcgQm9keShuZXcgTWF0ZXJpYWwoMSwwLjMsMC4xKSk7XG4gICAgICAgIGJvZHkubWF4U2NhbGFyVmVsb2NpdHkgPSAwOyBcbiAgICAgICAgYm9keS5tYXhWZWxvY2l0eS5zZXRUbygxNjAwLDEwMDApO1xuXG4gICAgICAgIHZhciBwbGF5ZXIgPSBlbmdpbmUuY3JlYXRlRW50aXR5KCk7XG4gICAgICAgIGVuZ2luZS5hZGRDb21wb25lbnRzVG9FbnRpdHkocGxheWVyLCBbXG4gICAgICAgICAgICBuZXcgUGxheWVyKCksXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIG5ldyBFeHRlbnRzKDcsMjApLCBcbiAgICAgICAgICAgIG5ldyBHcmFwaGljcyhcInBsYXllclwiKSwgICAgICAgIFxuICAgICAgICAgICAgbmV3IEdyYXBoaWNzQW5pbWF0aW9uKFwicGxheWVyXCIsXCJpZGxlXCIpLFxuICAgICAgICAgICAgbmV3IFBoeXNpY3NCb2R5KGJvZHksdHJ1ZSksIFxuICAgICAgICAgICAgbmV3IFBoeXNpY3NDb2xsaXNpb24oZmFsc2UscGxheWVyRmlsdGVyLFtdKSxcbiAgICAgICAgICAgIG5ldyBNb3ZlYWJsZSgpLFxuICAgICAgICAgICAgbmV3IEFjdGl2ZSgpLFxuICAgICAgICAgICAgbmV3IExpZ2h0KDEyOCwgMSwgMSwgMSwgMjU1LCAwLCAwKSxcbiAgICAgICAgICAgIG5ldyBWaWV3YWJsZSgpLFxuICAgICAgICBdKTtcblxuICAgICAgICByZXR1cm4gcGxheWVyO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy90ZXN0L2ZhY3Rvcmllcy9jaGFyYWN0ZXIvUGxheWVyRmFjdG9yeS50cyIsImltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi8uLi9nbGF6ZS9lY3MvU3lzdGVtXCI7XG5pbXBvcnQgeyBJUGFydGljbGVFbmdpbmUgfSBmcm9tIFwiLi4vLi4vZ2xhemUvcGFydGljbGUvZW5naW5lcy9JUGFydGljbGVFbmdpbmVcIjtcbmltcG9ydCB7IERpZ2l0YWxJbnB1dCB9IGZyb20gXCIuLi8uLi9nbGF6ZS91dGlsL0RpZ2l0YWxJbnB1dFwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2dsYXplL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IFBoeXNpY3NCb2R5IH0gZnJvbSBcIi4uLy4uL2dsYXplL3BoeXNpY3MvY29tcG9uZW50cy9QaHlzaWNzQm9keVwiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL1Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBHcmFwaGljc0FuaW1hdGlvbiB9IGZyb20gXCIuLi8uLi9nbGF6ZS9ncmFwaGljcy9jb21wb25lbnRzL0dyYXBoaWNzQW5pbWF0aW9uXCI7XG5pbXBvcnQgeyBDaGFyYWN0ZXJDb250cm9sbGVyIH0gZnJvbSBcIi4uLy4uL2dsYXplL3V0aWwvQ2hhcmFjdGVyQ29udHJvbGxlclwiO1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4uLy4uL2dsYXplL3BoeXNpY3MvY29sbGlzaW9uL0ZpbHRlclwiO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUGxheWVyXCI7XG5pbXBvcnQgeyBQaHlzaWNzQ29sbGlzaW9uIH0gZnJvbSBcIi4uLy4uL2dsYXplL3BoeXNpY3MvY29tcG9uZW50cy9QaHlzaWNzQ29sbGlzaW9uXCI7XG5pbXBvcnQgeyBFeHBsb3Npb24gfSBmcm9tIFwiLi4vLi4vZ2xhemUvcGFydGljbGUvZW1pdHRlci9FeHBsb3Npb25cIjtcbmltcG9ydCB7IEV4dGVudHMgfSBmcm9tIFwiLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL0V4dGVudHNcIjtcbmltcG9ydCB7IFJhbmRvbUZsb2F0IH0gZnJvbSBcIi4uLy4uL2dsYXplL3V0aWwvUmFuZG9tXCI7XG5pbXBvcnQgeyBTdGFuZGFyZEJ1bGxldCB9IGZyb20gXCIuLi9mYWN0b3JpZXMvcHJvamVjdGlsZS9TdGFuZGFyZEJ1bGxldFwiO1xuaW1wb3J0IHsgQmVlRmFjdG9yeSB9IGZyb20gXCIuLi9mYWN0b3JpZXMvY2hhcmFjdGVyL0JlZUZhY3RvcnlcIjtcbmltcG9ydCB7IEhvbGRlciB9IGZyb20gXCIuLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvSG9sZGVyXCI7XG5pbXBvcnQgeyBUZXN0RmlsdGVycyB9IGZyb20gXCIuLi9jb25maWcvRmlsdGVyc1wiO1xuaW1wb3J0IHsgTW92ZWFibGUgfSBmcm9tIFwiLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL01vdmVhYmxlXCI7XG5pbXBvcnQgeyBBY3RpdmUgfSBmcm9tIFwiLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL0FjdGl2ZVwiO1xuaW1wb3J0IHsgSGVsZCB9IGZyb20gXCIuLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvSGVsZFwiO1xuaW1wb3J0IHsgQmFsbGlzdGljcyB9IGZyb20gXCIuLi8uLi9nbGF6ZS91dGlsL0JhbGxhc3RpY3NcIjtcbmltcG9ydCB7IFBsYXNtYUJhbGwgfSBmcm9tIFwiLi4vZmFjdG9yaWVzL3Byb2plY3RpbGUvUGxhc21hQmFsbFwiO1xuXG4vKlxuYmFja3NwYWNlICAgOFxudGFiIDlcbmVudGVyICAgMTNcbnNoaWZ0ICAgMTZcbmN0cmwgICAgMTdcbmFsdCAxOFxucGF1c2UvYnJlYWsgMTlcbmNhcHMgbG9jayAgIDIwXG5lc2NhcGUgIDI3XG5wYWdlIHVwIDMzXG5wYWdlIGRvd24gICAzNFxuZW5kIDM1XG5ob21lICAgIDM2XG5sZWZ0IGFycm93ICAzN1xudXAgYXJyb3cgICAgMzhcbnJpZ2h0IGFycm93IDM5XG5kb3duIGFycm93ICA0MFxuaW5zZXJ0ICA0NVxuZGVsZXRlICA0NlxuXG4wICAgNDhcbjEgICA0OVxuMiAgIDUwXG4zICAgNTFcbjQgICA1MlxuNSAgIDUzXG42ICAgNTRcbjcgICA1NVxuOCAgIDU2XG45ICAgNTdcblxuYSAgIDY1XG5iICAgNjZcbmMgICA2N1xuZCAgIDY4XG5lICAgNjlcbmYgICA3MFxuZyAgIDcxXG5oICAgNzJcbmkgICA3M1xuaiAgIDc0XG5rICAgNzVcbmwgICA3NlxubSAgIDc3XG5uICAgNzhcbm8gICA3OVxucCAgIDgwXG5xICAgODFcbnIgICA4MlxucyAgIDgzXG50ICAgODRcbnUgICA4NVxudiAgIDg2XG53ICAgODdcbnggICA4OFxueSAgIDg5XG56ICAgOTBcbiovXG5leHBvcnQgY2xhc3MgUGxheWVyU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICBwdWJsaWMgcGFydGljbGVFbmdpbmU6IElQYXJ0aWNsZUVuZ2luZTtcbiAgICBwdWJsaWMgaW5wdXQ6IERpZ2l0YWxJbnB1dDtcblxuICAgIHBsYXllcjogRW50aXR5O1xuICAgIHBvc2l0aW9uOiBQb3NpdGlvbjtcbiAgICBwaHlzaWNzQm9keTogUGh5c2ljc0JvZHk7XG5cbiAgICBwbGF5ZXJMaWdodDogRW50aXR5O1xuICAgIHBsYXllckhvbGRlcjogRW50aXR5O1xuICAgIGhvbGRlcjogSG9sZGVyO1xuICAgIC8vICBpbnZlbnRvcnk6SW52ZW50b3J5O1xuXG4gICAgYW5pbWF0aW9uOiBHcmFwaGljc0FuaW1hdGlvbjtcblxuICAgIGNoYXJhY3RlckNvbnRyb2xsZXI6IENoYXJhY3RlckNvbnRyb2xsZXI7XG5cbiAgICBwbGF5ZXJGaWx0ZXI6IEZpbHRlcjtcblxuICAgIGN1cnJlbnRXZWFwb246IG51bWJlciA9IDA7XG5cbiAgICBjb25zdHJ1Y3RvcihpbnB1dDogRGlnaXRhbElucHV0LCBwYXJ0aWNsZUVuZ2luZTogSVBhcnRpY2xlRW5naW5lKSB7XG4gICAgICAgIHN1cGVyKFtQb3NpdGlvbiwgUGxheWVyLCBQaHlzaWNzQ29sbGlzaW9uLCBQaHlzaWNzQm9keSwgR3JhcGhpY3NBbmltYXRpb24sIEV4dGVudHNdKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICB0aGlzLnBhcnRpY2xlRW5naW5lID0gcGFydGljbGVFbmdpbmU7XG4gICAgfVxuXG4gICAgb25FbnRpdHlBZGRlZChcbiAgICAgICAgZW50aXR5OiBFbnRpdHksXG4gICAgICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICAgICAgcGxheWVyOiBQbGF5ZXIsXG4gICAgICAgIHBoeXNpY3NDb2xsaXNpb246IFBoeXNpY3NDb2xsaXNpb24sXG4gICAgICAgIHBoeXNpY3NCb2R5OiBQaHlzaWNzQm9keSxcbiAgICAgICAgZ3JhcGhpY3NBbmltYXRpb246IEdyYXBoaWNzQW5pbWF0aW9uLFxuICAgICAgICBleHRlbnRzOiBFeHRlbnRzLFxuICAgICkge1xuICAgICAgICAvLyBwaHlzaWNzQm9keS5ib2R5LnNldE1hc3MoODgwKTtcbiAgICAgICAgcGh5c2ljc0JvZHkuYm9keS51c2VzU3RhaXJzID0gdHJ1ZTtcbiAgICAgICAgLy8gcGh5c2ljc0JvZHkuYm9keS5pc0J1bGxldCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyID0gbmV3IENoYXJhY3RlckNvbnRyb2xsZXIodGhpcy5pbnB1dCwgcGh5c2ljc0JvZHkuYm9keSwgODAwKTtcblxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIHBsYXllckxpZ2h0ID0gZW5naW5lLmNyZWF0ZUVudGl0eShcbiAgICAgICAgLy8gICAgIFtcbiAgICAgICAgLy8gICAgIHBvc2l0aW9uLFxuICAgICAgICAvLyAgICAgbmV3IExpZ2h0KDI1NiwxLDEsMCwyNTUsMjU1LDI1NSksXG4gICAgICAgIC8vICAgICBuZXcgVmlld2FibGUoKSxcbiAgICAgICAgLy8gICAgIG5ldyBNb3ZlYWJsZSgpLFxuICAgICAgICAvLyAgICAgbmV3IEFjdGl2ZSgpXG4gICAgICAgIC8vICAgICBdLFwicGxheWVyIGxpZ2h0XCIpO1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIHRoaXMuaG9sZGVyID0gbmV3IEhvbGRlcihlbnRpdHkpO1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIGludmVudG9yeSA9IG5ldyBJbnZlbnRvcnkoNCk7XG5cbiAgICAgICAgdGhpcy5wbGF5ZXJIb2xkZXIgPSB0aGlzLmVuZ2luZS5jcmVhdGVFbnRpdHkoKTtcbiAgICAgICAgdGhpcy5lbmdpbmUuYWRkQ29tcG9uZW50c1RvRW50aXR5KHRoaXMucGxheWVySG9sZGVyLCBbXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIGV4dGVudHMsXG4gICAgICAgICAgICB0aGlzLmhvbGRlcixcbiAgICAgICAgICAgIG5ldyBQaHlzaWNzQ29sbGlzaW9uKHRydWUsIG5ldyBGaWx0ZXIoMSwgMCwgVGVzdEZpbHRlcnMuUExBWUVSX0dST1VQKSwgW10sIGZhbHNlLCBwaHlzaWNzQm9keS5ib2R5KSxcbiAgICAgICAgICAgIG5ldyBNb3ZlYWJsZSgpLFxuICAgICAgICAgICAgbmV3IEFjdGl2ZSgpLFxuICAgICAgICBdKTtcblxuICAgICAgICAvLyBwbGF5ZXIuYWRkQ2hpbGRFbnRpdHkocGxheWVyTGlnaHQpO1xuXG4gICAgICAgIC8vIHBsYXllckZpbHRlciA9IGVudGl0eS5nZXRDb21wb25lbnQoUGh5c2ljc0NvbGxpc2lvbikucHJveHkuZmlsdGVyO1xuXG4gICAgICAgIC8vIGFuaW1hdGlvbiA9IGVudGl0eS5nZXRDb21wb25lbnQoU3ByaXRlQW5pbWF0aW9uKTtcbiAgICB9XG5cbiAgICB1cGRhdGVFbnRpdHkoXG4gICAgICAgIGVudGl0eTogRW50aXR5LFxuICAgICAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgICAgIHBsYXllcjogUGxheWVyLFxuICAgICAgICBwaHlzaWNzQ29sbGlzaW9uOiBQaHlzaWNzQ29sbGlzaW9uLFxuICAgICAgICBwaHlzaWNzQm9keTogUGh5c2ljc0JvZHksXG4gICAgICAgIGdyYXBoaWNzQW5pbWF0aW9uOiBHcmFwaGljc0FuaW1hdGlvbixcbiAgICAgICAgZXh0ZW50czogRXh0ZW50cyxcbiAgICApIHtcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb250cm9sbGVyLnVwZGF0ZSgpO1xuXG4gICAgICAgIC8vIGlmIChjaGFyYWN0ZXJDb250cm9sbGVyLmlzV2Fsa2luZykge1xuICAgICAgICBpZiAocGh5c2ljc0JvZHkuYm9keS5vbkdyb3VuZCAmJiBNYXRoLmFicyhwaHlzaWNzQm9keS5ib2R5LnZlbG9jaXR5LngpID4gMTApIHtcbiAgICAgICAgICAgIGdyYXBoaWNzQW5pbWF0aW9uLnBsYXkoXCJydW5yaWdodFwiKTtcbiAgICAgICAgfSBlbHNlIGlmICghcGh5c2ljc0JvZHkuYm9keS5vbkdyb3VuZCkge1xuICAgICAgICAgICAgZ3JhcGhpY3NBbmltYXRpb24ucGxheShcImZseVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdyYXBoaWNzQW5pbWF0aW9uLnBsYXkoXCJpZGxlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5sZWZ0ID4gMCkgcG9zaXRpb24uZGlyZWN0aW9uLnggPSAtMTtcbiAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5yaWdodCA+IDApIHBvc2l0aW9uLmRpcmVjdGlvbi54ID0gMTtcblxuICAgICAgICBwaHlzaWNzQm9keS5ib2R5LmNvbGxpZGVPbmVXYXkgPSAhKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5kb3duID4gMCk7XG5cbiAgICAgICAgdmFyIGZpcmUgPSB0aGlzLmlucHV0Lkp1c3RQcmVzc2VkKDMyKTtcbiAgICAgICAgdmFyIHNlYXJjaCA9IHRoaXMuaW5wdXQuSnVzdFByZXNzZWQoNzEpO1xuICAgICAgICB2YXIgaG9sZCA9IHRoaXMuaW5wdXQuUHJlc3NlZCg3Mik7XG4gICAgICAgIHZhciByYXkgPSB0aGlzLmlucHV0LlByZXNzZWQoODIpO1xuXG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgLy8gaWYgKHRoaXMuaW5wdXQuSnVzdFByZXNzZWQoODQpKSB7XG4gICAgICAgIC8vICAgICB2YXIgbGlnaHRBY3RpdmUgPSBwbGF5ZXJMaWdodC5nZXRDb21wb25lbnQoVmlld2FibGUpO1xuICAgICAgICAvLyAgICAgaWYgKGxpZ2h0QWN0aXZlIT1udWxsKVxuICAgICAgICAvLyAgICAgICAgIHBsYXllckxpZ2h0LnJlbW92ZUNvbXBvbmVudChsaWdodEFjdGl2ZSk7XG4gICAgICAgIC8vICAgICAgICAgLy8gcGxheWVyTGlnaHQucmVtb3ZlQ29tcG9uZW50MihMaWdodCk7XG4gICAgICAgIC8vICAgICBlbHNlXG4gICAgICAgIC8vICAgICAgICAgcGxheWVyTGlnaHQuYWRkQ29tcG9uZW50KG5ldyBWaWV3YWJsZSgpKTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIGlmICh0aGlzLmlucHV0LlByZXNzZWQoODUpKSB7XG4gICAgICAgICAgICBCZWVGYWN0b3J5LmNyZWF0ZSh0aGlzLmVuZ2luZSwgcG9zaXRpb24uY2xvbmUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ET1xuICAgICAgICB0aGlzLmhvbGRlci5hY3RpdmF0ZSA9IHRoaXMuaW5wdXQuSnVzdFByZXNzZWQoNzIpO1xuICAgICAgICAvLyB0cmFjZShcInhcIik7XG5cbiAgICAgICAgLy8gVE9ET1xuICAgICAgICBpZiAodGhpcy5pbnB1dC5KdXN0UHJlc3NlZCg3NCkpIHtcbiAgICAgICAgICAgIC8vRHJvcCBJdGVtICdKJ1xuICAgICAgICAgICAgLy8gdmFyIGl0ZW0gPSB0aGlzLmhvbGRlci5kcm9wKCk7XG4gICAgICAgICAgICBIb2xkZXIuZHJvcCh0aGlzLmVuZ2luZSwgdGhpcy5ob2xkZXIpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaW5wdXQuSnVzdFByZXNzZWQoNzUpKSB7XG4gICAgICAgICAgICAvL1Rocm93IEl0ZW0gJ0snXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gSG9sZGVyLmRyb3AodGhpcy5lbmdpbmUsIHRoaXMuaG9sZGVyKTtcbiAgICAgICAgICAgIGlmIChpdGVtICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBCYWxsaXN0aWNzLmNhbGNQcm9qZWN0aWxlVmVsb2NpdHkoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShpdGVtLCBQaHlzaWNzQm9keSkuYm9keSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dC5WaWV3Q29ycmVjdGVkTW91c2VQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICA3MDAsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgLy8gaWYgKHRoaXMuaW5wdXQuSnVzdFByZXNzZWQoODEpKSB7IC8vUVxuICAgICAgICAvLyAgICAgaWYgKGhvbGRlci5oZWxkSXRlbSE9bnVsbCkge1xuICAgICAgICAvLyAgICAgICAgIHZhciBzdGF0ZSA9IGhvbGRlci5oZWxkSXRlbS5nZXRDb21wb25lbnQoU3RhdGUpO1xuICAgICAgICAvLyAgICAgICAgIGlmIChzdGF0ZSE9bnVsbCkge1xuICAgICAgICAvLyAgICAgICAgICAgICBzdGF0ZS5pbmNyZW1lbnRTdGF0ZSgpO1xuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIGlmICh0aGlzLmlucHV0Lkp1c3RQcmVzc2VkKDkwKSkge1xuICAgICAgICAvLyAgICAgLy8ganMuTGliLmRlYnVnKCk7XG5cbiAgICAgICAgLy8gICAgIGludmVudG9yeS5zdG9yZSgpO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgLy8gaWYgKHRoaXMuaW5wdXQuSnVzdFByZXNzZWQoODgpKSB7XG4gICAgICAgIC8vICAgICBpbnZlbnRvcnkucmV0cmlldmUoKTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGlmIChmaXJlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50V2VhcG9uID09IDApIHtcbiAgICAgICAgICAgICAgICBTdGFuZGFyZEJ1bGxldC5jcmVhdGUoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi5jbG9uZSgpLFxuICAgICAgICAgICAgICAgICAgICBwaHlzaWNzQ29sbGlzaW9uLnByb3h5LmZpbHRlci5jbG9uZSgpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0LlZpZXdDb3JyZWN0ZWRNb3VzZVBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRXZWFwb24gPT0gMSlcbiAgICAgICAgICAgICAgICBQbGFzbWFCYWxsLmNyZWF0ZShcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLmNsb25lKCksXG4gICAgICAgICAgICAgICAgICAgIHBoeXNpY3NDb2xsaXNpb24ucHJveHkuZmlsdGVyLmNsb25lKCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQuVmlld0NvcnJlY3RlZE1vdXNlUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIC8vJ2UnIGFpbVxuICAgICAgICBpZiAodGhpcy5pbnB1dC5QcmVzc2VkKDY5KSkge1xuICAgICAgICAgICAgdmFyIHZlbCA9IHRoaXMuaW5wdXQuVmlld0NvcnJlY3RlZE1vdXNlUG9zaXRpb24oKS5jbG9uZSgpO1xuICAgICAgICAgICAgdmVsLm1pbnVzRXF1YWxzKHBvc2l0aW9uLmNvb3Jkcyk7XG4gICAgICAgICAgICB2ZWwubm9ybWFsaXplKCk7XG4gICAgICAgICAgICB2ZWwubXVsdEVxdWFscygyMDAwKTtcbiAgICAgICAgICAgIHRoaXMucGFydGljbGVFbmdpbmUuRW1pdFBhcnRpY2xlKFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLmNvb3Jkcy54LFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLmNvb3Jkcy55LFxuICAgICAgICAgICAgICAgIHZlbC54LFxuICAgICAgICAgICAgICAgIHZlbC55LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAyMDAsXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgNCxcbiAgICAgICAgICAgICAgICAyNTUsXG4gICAgICAgICAgICAgICAgMjU1LFxuICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICAgICAyNTUsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5idXJuID4gMCkge1xuICAgICAgICAgICAgdmFyIHR0bCA9IDI4MDtcbiAgICAgICAgICAgIHZhciBvZmZzZXR4ID0gcG9zaXRpb24uY29vcmRzLnggLSA4ICogcG9zaXRpb24uZGlyZWN0aW9uLng7XG4gICAgICAgICAgICB2YXIgdmVsb2NpdHkgPSAyMDAgKyBSYW5kb21GbG9hdCgtMTUwLCAxNTApOyAvLyArIHBoeXNpY3NCb2R5LmJvZHkudmVsb2NpdHkueTtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IE1hdGguZmxvb3IoKHRoaXMuY2hhcmFjdGVyQ29udHJvbGxlci5idXJuICsgNTAwKSAvIDEwMDApO1xuICAgICAgICAgICAgaWYgKGNvdW50ID4gMClcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnRpY2xlRW5naW5lLkVtaXRQYXJ0aWNsZShcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0eCxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24uY29vcmRzLnkgKyA2LFxuICAgICAgICAgICAgICAgICAgICBSYW5kb21GbG9hdCgtMTAsIDEwKSxcbiAgICAgICAgICAgICAgICAgICAgdmVsb2NpdHksXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIDQwLFxuICAgICAgICAgICAgICAgICAgICAwLjksXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgNCxcbiAgICAgICAgICAgICAgICAgICAgMjU1LFxuICAgICAgICAgICAgICAgICAgICAyNTUsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMucGFydGljbGVFbmdpbmUuRW1pdFBhcnRpY2xlKFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXR4LFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi5jb29yZHMueSArIDYsXG4gICAgICAgICAgICAgICAgICAgIFJhbmRvbUZsb2F0KC01MCwgNTApLFxuICAgICAgICAgICAgICAgICAgICB2ZWxvY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgdHRsLFxuICAgICAgICAgICAgICAgICAgICAwLjksXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIDQsXG4gICAgICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICAgICAgICAgMjU1LFxuICAgICAgICAgICAgICAgICAgICAyNTUsXG4gICAgICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaW5wdXQuSnVzdFByZXNzZWQoNDkpKSB0aGlzLmN1cnJlbnRXZWFwb24gPSAwO1xuICAgICAgICBpZiAodGhpcy5pbnB1dC5KdXN0UHJlc3NlZCg1MCkpIHRoaXMuY3VycmVudFdlYXBvbiA9IDE7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Rlc3Qvc3lzdGVtcy9QbGF5ZXJTeXN0ZW0udHMiLCJpbXBvcnQgeyBCb2R5IH0gZnJvbSBcIi4uL3BoeXNpY3MvQm9keVwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IERpZ2l0YWxJbnB1dCB9IGZyb20gXCIuL0RpZ2l0YWxJbnB1dFwiO1xuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyQ29udHJvbGxlciB7XG4gICAgcHJpdmF0ZSBib2R5OiBCb2R5O1xuICAgIHByaXZhdGUgaW5wdXQ6IERpZ2l0YWxJbnB1dDtcblxuICAgIHByaXZhdGUgY29udHJvbEZvcmNlOiBWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcblxuICAgIHByaXZhdGUganVtcFVuaXQ6IFZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xuXG4gICAgcHJpdmF0ZSBCQVNFX0ZPUkNFOiBudW1iZXI7XG5cbiAgICBwcml2YXRlIFdBTEtfRk9SQ0U6IG51bWJlcjtcbiAgICBwcml2YXRlIEFJUl9DT05UUk9MX0ZPUkNFOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBKVU1QX0ZPUkNFOiBudW1iZXI7XG5cbiAgICBwcml2YXRlIE1BWF9BSVJfSE9SSVpPTlRBTF9WRUxPQ0lUWTogbnVtYmVyO1xuXG4gICAgcHJpdmF0ZSBNQVhfQlVSTjogbnVtYmVyO1xuXG4gICAgcHJpdmF0ZSBCT09TVF9GQUNUT1I6IG51bWJlcjtcblxuICAgIHByaXZhdGUganVtcGluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHVibGljIGlzV2Fsa2luZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHVibGljIG9yaWdpbmFsRnJpY3Rpb246IG51bWJlciA9IDA7XG4gICAgcHVibGljIG9yaWdpbmFsVmVsb2NpdHlDbGFtcDogVmVjdG9yMjtcblxuICAgIHB1YmxpYyBidXJuOiBudW1iZXIgPSAwO1xuXG4gICAgcHVibGljIGxlZnQ6IG51bWJlcjtcbiAgICBwdWJsaWMgcmlnaHQ6IG51bWJlcjtcbiAgICBwdWJsaWMgdXA6IGJvb2xlYW47XG4gICAgcHVibGljIGRvd246IG51bWJlcjtcbiAgICBwdWJsaWMgYm9vc3Q6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGlucHV0OiBEaWdpdGFsSW5wdXQsIGJvZHk6IEJvZHksIGJhc2VGb3JjZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEZyaWN0aW9uID0gYm9keS5tYXRlcmlhbC5mcmljdGlvbjtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFZlbG9jaXR5Q2xhbXAgPSBib2R5Lm1heFZlbG9jaXR5LmNsb25lKCk7XG4gICAgICAgIHRoaXMuc2V0QmFzZUZvcmNlKGJhc2VGb3JjZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEJhc2VGb3JjZShiYXNlRm9yY2U6IG51bWJlcikge1xuICAgICAgICB0aGlzLkJBU0VfRk9SQ0UgPSA2MDA7XG5cbiAgICAgICAgdGhpcy5XQUxLX0ZPUkNFID0gMiAqIHRoaXMuQkFTRV9GT1JDRTtcbiAgICAgICAgdGhpcy5BSVJfQ09OVFJPTF9GT1JDRSA9IDEgKiB0aGlzLkJBU0VfRk9SQ0U7XG4gICAgICAgIHRoaXMuSlVNUF9GT1JDRSA9IDMwICogdGhpcy5CQVNFX0ZPUkNFO1xuXG4gICAgICAgIHRoaXMuTUFYX0FJUl9IT1JJWk9OVEFMX1ZFTE9DSVRZID0gMC41ICogdGhpcy5CQVNFX0ZPUkNFO1xuXG4gICAgICAgIHRoaXMuTUFYX0JVUk4gPSA1ICogdGhpcy5CQVNFX0ZPUkNFO1xuXG4gICAgICAgIHRoaXMuQk9PU1RfRkFDVE9SID0gMS40O1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMuY29udHJvbEZvcmNlLnNldFRvKDAuMCwgMC4wKTtcblxuICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLmlucHV0LlByZXNzZWREdXJhdGlvbig2NSk7IC8vYVxuICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5pbnB1dC5QcmVzc2VkRHVyYXRpb24oNjgpOyAvL2RcbiAgICAgICAgdmFyIHVwID0gdGhpcy5pbnB1dC5KdXN0UHJlc3NlZCg4Nyk7IC8vd1xuICAgICAgICB2YXIgdXBEdXJhdGlvbiA9IHRoaXMuaW5wdXQuUHJlc3NlZER1cmF0aW9uKDg3KTsgLy93XG4gICAgICAgIHRoaXMuZG93biA9IHRoaXMuaW5wdXQuUHJlc3NlZER1cmF0aW9uKDgzKTsgLy9zXG4gICAgICAgIHRoaXMuYm9vc3QgPSB0aGlzLmlucHV0LlByZXNzZWREdXJhdGlvbigxNik7XG5cbiAgICAgICAgLy9KdXN0IGp1bXBlZD9cbiAgICAgICAgaWYgKCF0aGlzLmp1bXBpbmcgJiYgdGhpcy5ib2R5Lm9uR3JvdW5kICYmIHVwKSB7XG4gICAgICAgICAgICB0aGlzLmp1bXBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jb250cm9sRm9yY2UueSAtPSB0aGlzLkpVTVBfRk9SQ0UgLyA1O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCh0aGlzLmp1bXBpbmcgJiYgdGhpcy5pbnB1dC5SZWxlYXNlZCg4NykpIHx8IHRoaXMuYm9keS5jb250YWN0Tm9ybWFsLnkgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmp1bXBpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vSnVzdCBsYW5kZWQ/XG4gICAgICAgIGlmICh0aGlzLmJvZHkub25Hcm91bmQgJiYgIXRoaXMuYm9keS5vbkdyb3VuZFByZXYpIHtcbiAgICAgICAgICAgIHRoaXMuYnVybiA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiAodGhpcy5ib2R5LmluV2F0ZXIpIHtcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLmxlZnQ+MCkgICAgIHRoaXMuY29udHJvbEZvcmNlLnggLT0gV0FMS19GT1JDRTtcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLnJpZ2h0PjApICAgIHRoaXMuY29udHJvbEZvcmNlLnggKz0gV0FMS19GT1JDRTtcbiAgICAgICAgLy8gICAgIGlmICh1cCkgICAgICAgICB0aGlzLmNvbnRyb2xGb3JjZS55IC09IDQwMDtcbiAgICAgICAgLy8gICAgIGlmIChkb3duPjApICAgICAgIHRoaXMuY29udHJvbEZvcmNlLnkgKz0gV0FMS19GT1JDRTtcbiAgICAgICAgLy8gfSBlbHNlXG4gICAgICAgIGlmICh0aGlzLmJvZHkub25Hcm91bmQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxlZnQgPiAwKSB0aGlzLmNvbnRyb2xGb3JjZS54IC09IHRoaXMuV0FMS19GT1JDRTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJpZ2h0ID4gMCkgdGhpcy5jb250cm9sRm9yY2UueCArPSB0aGlzLldBTEtfRk9SQ0U7XG4gICAgICAgICAgICBpZiAodXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xGb3JjZS55IC09IHRoaXMuSlVNUF9GT1JDRTtcbiAgICAgICAgICAgICAgICAvL2J1cm4gPSBNQVhfQlVSTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmICh1cER1cmF0aW9uPjApIHRoaXMuY29udHJvbEZvcmNlLnkgLT0gNDAwMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxlZnQgPiAwKSB0aGlzLmNvbnRyb2xGb3JjZS54IC09IHRoaXMuQUlSX0NPTlRST0xfRk9SQ0U7XG4gICAgICAgICAgICBpZiAodGhpcy5yaWdodCA+IDApIHRoaXMuY29udHJvbEZvcmNlLnggKz0gdGhpcy5BSVJfQ09OVFJPTF9GT1JDRTtcbiAgICAgICAgICAgIHZhciBkID0gMTA7XG4gICAgICAgICAgICAvLyBpZiAoanVtcGluZyYmdXBEdXJhdGlvbj4xJiZ1cER1cmF0aW9uPGQpIHRoaXMuY29udHJvbEZvcmNlLnkgLT0gODAwL2Q7Ly8oZC11cER1cmF0aW9uKTtcbiAgICAgICAgICAgIC8vIGlmICh1cCkgYnVybi09MTAwMDA7XG4gICAgICAgICAgICBpZiAodXApIHRoaXMuYnVybiA9IHRoaXMuTUFYX0JVUk47XG4gICAgICAgICAgICBpZiAodXBEdXJhdGlvbiA+IDApIHRoaXMuYnVybiArPSB0aGlzLkJBU0VfRk9SQ0U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYm9vc3QgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmJ1cm4gPSBNYXRoLm1pbih0aGlzLmJ1cm4sIHRoaXMuTUFYX0JVUk4gKiB0aGlzLkJPT1NUX0ZBQ1RPUik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJ1cm4gPSBNYXRoLm1pbih0aGlzLmJ1cm4sIHRoaXMuTUFYX0JVUk4pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udHJvbEZvcmNlLnkgLT0gdGhpcy5idXJuO1xuICAgICAgICB0aGlzLmJ1cm4gKj0gMC45NTtcblxuICAgICAgICB0aGlzLmlzV2Fsa2luZyA9IHRoaXMuYm9keS5vbkdyb3VuZCAmJiAodGhpcy5sZWZ0ID4gMCB8fCB0aGlzLnJpZ2h0ID4gMCk7XG4gICAgICAgIGlmICh0aGlzLmlzV2Fsa2luZykge1xuICAgICAgICAgICAgLy8gdGhpcy5ib2R5Lm1hdGVyaWFsLmZyaWN0aW9uID0gb3IgaWdpbmFsRnJpY3Rpb24vMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRoaXMuYm9keS5tYXRlcmlhbC5mcmljdGlvbiA9IG9yaWdpbmFsRnJpY3Rpb24qMztcbiAgICAgICAgICAgIC8vIG9yaWdpbmFsVmVsb2NpdHlDbGFtcFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ib2R5LmFkZEZvcmNlKHRoaXMuY29udHJvbEZvcmNlKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvdXRpbC9DaGFyYWN0ZXJDb250cm9sbGVyLnRzIiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi8uLi9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IGxpbmVJbnRlcnNlY3Rpb24gfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9HZW9tZXRyeVwiO1xuXG5leHBvcnQgY2xhc3MgRmVlbGVyIHtcbiAgICBwdWJsaWMgYmFzZTogVmVjdG9yMjtcbiAgICBwdWJsaWMgdGlwOiBWZWN0b3IyO1xuXG4gICAgcHVibGljIGxlbmd0aDogbnVtYmVyO1xuICAgIHB1YmxpYyBhbmdsZTogbnVtYmVyO1xuXG4gICAgcHVibGljIGRpc3RUb0Nsb3Nlc3RJUDogbnVtYmVyO1xuXG4gICAgcHVibGljIGNsb3Nlc3RJUDogVmVjdG9yMjtcbiAgICBwdWJsaWMgaXA6IFZlY3RvcjI7XG5cbiAgICBwdWJsaWMgbm9ybWFsOiBWZWN0b3IyO1xuXG4gICAgY29uc3RydWN0b3IoYW5nbGU6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5hbmdsZSA9IGFuZ2xlO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcblxuICAgICAgICB0aGlzLmJhc2UgPSBuZXcgVmVjdG9yMigpO1xuICAgICAgICB0aGlzLnRpcCA9IG5ldyBWZWN0b3IyKCk7XG5cbiAgICAgICAgdGhpcy5jbG9zZXN0SVAgPSBuZXcgVmVjdG9yMigpO1xuICAgICAgICB0aGlzLmlwID0gbmV3IFZlY3RvcjIoKTtcbiAgICAgICAgdGhpcy5ub3JtYWwgPSBuZXcgVmVjdG9yMigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBSZXNldCh1bml0RGlyZWN0aW9uOiBWZWN0b3IyLCBwb3NpdGlvbjogVmVjdG9yMikge1xuICAgICAgICB0aGlzLmRpc3RUb0Nsb3Nlc3RJUCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgdGhpcy50aXAuY29weSh1bml0RGlyZWN0aW9uKTtcbiAgICAgICAgdGhpcy5iYXNlLmNvcHkocG9zaXRpb24pO1xuICAgICAgICBpZiAodGhpcy5hbmdsZSAhPSAwKSB7XG4gICAgICAgICAgICB2YXIgYSA9IE1hdGguYXRhbjIodW5pdERpcmVjdGlvbi55LCB1bml0RGlyZWN0aW9uLngpO1xuICAgICAgICAgICAgYSArPSB0aGlzLmFuZ2xlO1xuICAgICAgICAgICAgdGhpcy50aXAueCA9IE1hdGguY29zKGEpO1xuICAgICAgICAgICAgdGhpcy50aXAueSA9IE1hdGguc2luKGEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGlwLm11bHRFcXVhbHMobGVuZ3RoKTtcbiAgICAgICAgdGhpcy50aXAucGx1c0VxdWFscyh0aGlzLmJhc2UpO1xuXG4gICAgICAgIC8vZ2xhemUuZGVidWcuRGVidWdFbmdpbmUuRHJhd1BhcnRpY2xlKHRpcC54LHRpcC55LDQsMjU1LDAsMCk7XG4gICAgfVxuXG4gICAgcHVibGljIFRlc3RTZWdtZW50KGE6IFZlY3RvcjIsIGI6IFZlY3RvcjIsIG5vcm1hbDogVmVjdG9yMikge1xuICAgICAgICB2YXIgZGlzdFRvVGhpc0lQID0gbGluZUludGVyc2VjdGlvbih0aGlzLmJhc2UsIHRoaXMudGlwLCBhLCBiLCB0aGlzLmlwKTtcbiAgICAgICAgaWYgKGRpc3RUb1RoaXNJUCA+IDAgJiYgZGlzdFRvVGhpc0lQIDwgdGhpcy5kaXN0VG9DbG9zZXN0SVApIHtcbiAgICAgICAgICAgIHRoaXMuZGlzdFRvQ2xvc2VzdElQID0gZGlzdFRvVGhpc0lQO1xuICAgICAgICAgICAgdGhpcy5jbG9zZXN0SVAuY29weSh0aGlzLmlwKTtcbiAgICAgICAgICAgIHRoaXMubm9ybWFsLmNvcHkobm9ybWFsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBDYWxjdWxhdGVGb3JjZShmb3JjZTogVmVjdG9yMikge1xuICAgICAgICBpZiAodGhpcy5kaXN0VG9DbG9zZXN0SVAgIT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAgICAgICAvL2dsYXplLmRlYnVnLkRlYnVnRW5naW5lLkRyYXdQYXJ0aWNsZShjbG9zZXN0SVAueCxjbG9zZXN0SVAueSw0LDI1NSwyNTUsMjU1KTtcbiAgICAgICAgICAgIC8vIHZhciBzZiA9ICBub3JtYWwubXVsdCggdGlwLm1pbnVzKCBjbG9zZXN0SVAgKS5sZW5ndGgoKSApO1xuICAgICAgICAgICAgdmFyIHNmID0gdGhpcy50aXAuY2xvbmUoKTtcbiAgICAgICAgICAgIHNmLm1pbnVzRXF1YWxzKHRoaXMuY2xvc2VzdElQKTtcbiAgICAgICAgICAgIHRoaXMubm9ybWFsLm11bHRFcXVhbHMoc2YubGVuZ3RoKCkpO1xuICAgICAgICAgICAgZm9yY2UucGx1c0VxdWFscyh0aGlzLm5vcm1hbCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvYWkvc3RlZXJpbmcvYmVoYXZpb3JzL0ZlZWxlci50cyIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vZ2VvbS9WZWN0b3IyXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBsaW5lSW50ZXJzZWN0aW9uKEE6IFZlY3RvcjIsIEI6IFZlY3RvcjIsIEM6IFZlY3RvcjIsIEQ6IFZlY3RvcjIsIHBvaW50OiBWZWN0b3IyKTogbnVtYmVyIHtcbiAgICB2YXIgclRvcDogbnVtYmVyID0gKEEueSAtIEMueSkgKiAoRC54IC0gQy54KSAtIChBLnggLSBDLngpICogKEQueSAtIEMueSk7XG4gICAgdmFyIHNUb3A6IG51bWJlciA9IChBLnkgLSBDLnkpICogKEIueCAtIEEueCkgLSAoQS54IC0gQy54KSAqIChCLnkgLSBBLnkpO1xuICAgIHZhciByQm90OiBudW1iZXIgPSAoQi54IC0gQS54KSAqIChELnkgLSBDLnkpIC0gKEIueSAtIEEueSkgKiAoRC54IC0gQy54KTtcbiAgICB2YXIgc0JvdDogbnVtYmVyID0gKEIueCAtIEEueCkgKiAoRC55IC0gQy55KSAtIChCLnkgLSBBLnkpICogKEQueCAtIEMueCk7XG5cbiAgICBpZiAockJvdCA9PSAwIHx8IHNCb3QgPT0gMCkge1xuICAgICAgICAvL2xpbmVzIGFyZSBwYXJhbGxlbFxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgdmFyIHI6IG51bWJlciA9IHJUb3AgLyByQm90O1xuICAgIHZhciBzOiBudW1iZXIgPSBzVG9wIC8gc0JvdDtcblxuICAgIGlmIChyID4gMCAmJiByIDwgMSAmJiBzID4gMCAmJiBzIDwgMSkge1xuICAgICAgICAvL0EgKyByICogKEIgLSBBKVxuICAgICAgICBwb2ludC54ID0gQS54ICsgciAqIChCLnggLSBBLngpO1xuICAgICAgICBwb2ludC55ID0gQS55ICsgciAqIChCLnkgLSBBLnkpO1xuXG4gICAgICAgIHJldHVybiBBLmRpc3RTcXJkKEIpICogcjtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS91dGlsL0dlb21ldHJ5LnRzIiwiaW1wb3J0IHsgRW5naW5lIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2Vjcy9FbmdpbmVcIjtcbmltcG9ydCB7IE1hdGVyaWFsIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL3BoeXNpY3MvTWF0ZXJpYWxcIjtcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9Qb3NpdGlvblwiO1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL3BoeXNpY3MvY29sbGlzaW9uL0ZpbHRlclwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9lY3MvRW50aXR5XCI7XG5pbXBvcnQgeyBUZXN0RmlsdGVycyB9IGZyb20gXCIuLi8uLi9jb25maWcvRmlsdGVyc1wiO1xuaW1wb3J0IHsgQm9keSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL0JvZHlcIjtcbmltcG9ydCB7IEV4dGVudHMgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL0V4dGVudHNcIjtcbmltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2dyYXBoaWNzL2NvbXBvbmVudHMvR3JhcGhpY3NcIjtcbmltcG9ydCB7IFBoeXNpY3NCb2R5IH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL3BoeXNpY3MvY29tcG9uZW50cy9QaHlzaWNzQm9keVwiO1xuaW1wb3J0IHsgTW92ZWFibGUgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL01vdmVhYmxlXCI7XG5pbXBvcnQgeyBQaHlzaWNzQ29sbGlzaW9uIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL3BoeXNpY3MvY29tcG9uZW50cy9QaHlzaWNzQ29sbGlzaW9uXCI7XG5pbXBvcnQgeyBQYXJ0aWNsZUVtaXR0ZXIgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGFydGljbGUvY29tcG9uZW50cy9QYXJ0aWNsZUVtaXR0ZXJcIjtcbmltcG9ydCB7IENvbGxpc2lvbkNvdW50ZXIgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL0NvbGxpc2lvbkNvdW5lclwiO1xuaW1wb3J0IHsgSGVhbHRoIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9IZWFsdGhcIjtcbmltcG9ydCB7IEFnZSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvQWdlXCI7XG5pbXBvcnQgeyBBY3RpdmUgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL0FjdGl2ZVwiO1xuaW1wb3J0IHsgQmFsbGlzdGljcyB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS91dGlsL0JhbGxhc3RpY3NcIjtcbmltcG9ydCB7IERlc3Ryb3kgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL0Rlc3Ryb3lcIjtcbmltcG9ydCB7IEV4cGxvc2lvbiB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9wYXJ0aWNsZS9lbWl0dGVyL0V4cGxvc2lvblwiO1xuaW1wb3J0IHsgU2ltcGxlRlNNU3RhdGVzIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2FpL2ZzbS9TaW1wbGVGU01cIjtcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9TdGF0ZVwiO1xuaW1wb3J0IHsgQ29tYmF0VXRpbHMgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvdXRpbC9Db21iYXRVdGlsc1wiO1xuaW1wb3J0IHsgRmlyZUJhbGwgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGFydGljbGUvZW1pdHRlci9GaXJlQmFsbFwiO1xuXG5leHBvcnQgY2xhc3MgUGxhc21hQmFsbCB7XG4gICAgc3RhdGljIHN0YXRlczogU2ltcGxlRlNNU3RhdGVzID0ge1xuICAgICAgICBhbGl2ZTogZnVuY3Rpb24oZW5naW5lOiBFbmdpbmUsIGVudGl0eTogRW50aXR5KSB7fSxcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oZW5naW5lOiBFbmdpbmUsIGVudGl0eTogRW50aXR5KSB7XG4gICAgICAgICAgICBpZiAoZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShlbnRpdHksIERlc3Ryb3kpKSByZXR1cm47XG4gICAgICAgICAgICBlbmdpbmUuYWRkQ29tcG9uZW50c1RvRW50aXR5KGVudGl0eSwgW25ldyBEZXN0cm95KDEpXSk7XG4gICAgICAgICAgICBlbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGVudGl0eSwgUGFydGljbGVFbWl0dGVyKS5lbWl0dGVycy5wdXNoKG5ldyBFeHBsb3Npb24oMTAsIDUwKSk7XG4gICAgICAgICAgICBDb21iYXRVdGlscy5leHBsb2RlKGVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBQb3NpdGlvbikuY29vcmRzLCAxMDAsIDEwMDAwLCBlbnRpdHkpO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgc3RhdGljIGNyZWF0ZShlbmdpbmU6IEVuZ2luZSwgcG9zaXRpb246IFBvc2l0aW9uLCBmaWx0ZXI6IEZpbHRlciwgdGFyZ2V0UG9zaXRpb246IFZlY3RvcjIpOiBFbnRpdHkge1xuICAgICAgICB2YXIgYnVsbGV0Qm9keSA9IG5ldyBCb2R5KE1hdGVyaWFsLkxJR0hUTUVUQUwpO1xuICAgICAgICBidWxsZXRCb2R5LnNldE1hc3MoMC4zKTtcbiAgICAgICAgYnVsbGV0Qm9keS5zZXRCb3VuY2VzKDApO1xuICAgICAgICBidWxsZXRCb2R5Lmdsb2JhbEZvcmNlRmFjdG9yID0gMC4xOyAvLzAuNTtcbiAgICAgICAgYnVsbGV0Qm9keS5pc0J1bGxldCA9IHRydWU7XG4gICAgICAgIGJ1bGxldEJvZHkubWF4U2NhbGFyVmVsb2NpdHkgPSAxMDAwMDtcblxuICAgICAgICBmaWx0ZXIuY2F0ZWdvcnlCaXRzIHw9IFRlc3RGaWx0ZXJzLlBST0pFQ1RJTEVfQ0FUO1xuICAgICAgICBmaWx0ZXIubWFza0JpdHMgfD0gVGVzdEZpbHRlcnMuUFJPSkVDVElMRV9DT0xMSURBQkxFX0NBVDtcblxuICAgICAgICB2YXIgYnVsbGV0ID0gZW5naW5lLmNyZWF0ZUVudGl0eSgpO1xuICAgICAgICBlbmdpbmUuYWRkQ29tcG9uZW50c1RvRW50aXR5KGJ1bGxldCwgW1xuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBuZXcgRXh0ZW50cygyLCAyKSxcbiAgICAgICAgICAgIC8vIG5ldyBMaWZlQ3ljbGUoQlVMTEVUX0xJRkVDWUNMRSksXG4gICAgICAgICAgICBuZXcgR3JhcGhpY3MoXCJwcm9qZWN0aWxlc1wiLCBcInBsYXNtYVwiKSxcbiAgICAgICAgICAgIG5ldyBQaHlzaWNzQm9keShidWxsZXRCb2R5LCB0cnVlKSxcbiAgICAgICAgICAgIG5ldyBNb3ZlYWJsZSgpLFxuICAgICAgICAgICAgbmV3IFBoeXNpY3NDb2xsaXNpb24oZmFsc2UsIGZpbHRlciwgW10pLFxuICAgICAgICAgICAgbmV3IFBhcnRpY2xlRW1pdHRlcihbbmV3IEZpcmVCYWxsKDAsNDAwKV0pLFxuICAgICAgICAgICAgbmV3IFN0YXRlKFBsYXNtYUJhbGwuc3RhdGVzLCBudWxsLCBmYWxzZSksXG4gICAgICAgICAgICBuZXcgQ29sbGlzaW9uQ291bnRlcigxLCBcImRlc3Ryb3lcIiksXG4gICAgICAgICAgICBuZXcgSGVhbHRoKDEwLCAxMCwgMCwgXCJkZXN0cm95XCIpLFxuICAgICAgICAgICAgbmV3IEFnZSgxMDAwLCBcImRlc3Ryb3lcIiksXG4gICAgICAgICAgICBuZXcgQWN0aXZlKCksXG4gICAgICAgIF0pO1xuICAgICAgICBCYWxsaXN0aWNzLmNhbGNQcm9qZWN0aWxlVmVsb2NpdHkoYnVsbGV0Qm9keSwgdGFyZ2V0UG9zaXRpb24sIDYwMCk7XG5cbiAgICAgICAgcmV0dXJuIGJ1bGxldDtcbiAgICB9XG4gICAgc3RhdGljIG9uRGVzdHJveShlbmdpbmU6IEVuZ2luZSwgZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgICAgaWYgKGVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBEZXN0cm95KSkgcmV0dXJuO1xuICAgICAgICBlbmdpbmUuYWRkQ29tcG9uZW50c1RvRW50aXR5KGVudGl0eSwgW25ldyBEZXN0cm95KDEpXSk7XG4gICAgICAgIGVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBQYXJ0aWNsZUVtaXR0ZXIpLmVtaXR0ZXJzLnB1c2gobmV3IEV4cGxvc2lvbigxMCwgNTApKTtcbiAgICAgICAgLy8gZW50aXR5LmdldENvbXBvbmVudChnbGF6ZS5lbmdpbmUuY29tcG9uZW50cy5QYXJ0aWNsZUVtaXR0ZXJzKS5lbWl0dGVycy5wdXNoKG5ldyBnbGF6ZS5wYXJ0aWNsZS5lbWl0dGVyLkV4cGxvc2lvbigxMCw1MCkpO1xuICAgICAgICAvLyBnbGF6ZS51dGlsLkNvbWJhdFV0aWxzLmV4cGxvZGUoZW50aXR5LmdldENvbXBvbmVudChQb3NpdGlvbikuY29vcmRzLDY0LDEwMDAwLGVudGl0eSk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Rlc3QvZmFjdG9yaWVzL3Byb2plY3RpbGUvUGxhc21hQmFsbC50cyIsImltcG9ydCB7IElQYXJ0aWNsZUVtaXR0ZXIgfSBmcm9tIFwiLi9JUGFydGljbGVFbWl0dGVyXCI7XG5pbXBvcnQgeyBJUGFydGljbGVFbmdpbmUgfSBmcm9tIFwiLi4vZW5naW5lcy9JUGFydGljbGVFbmdpbmVcIjtcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi8uLi9lY3MvRW50aXR5XCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgUmFuZG9tRmxvYXQgfSBmcm9tIFwiLi4vLi4vdXRpbC9SYW5kb21cIjtcbmltcG9ydCB7IEVuZ2luZSwgR2V0QzRFIH0gZnJvbSBcIi4uLy4uL2Vjcy9FbmdpbmVcIjtcbmltcG9ydCB7IFBoeXNpY3NCb2R5IH0gZnJvbSBcIi4uLy4uL3BoeXNpY3MvY29tcG9uZW50cy9QaHlzaWNzQm9keVwiO1xuXG5leHBvcnQgY2xhc3MgRmlyZUJhbGwgaW1wbGVtZW50cyBJUGFydGljbGVFbWl0dGVyIHtcbiAgICBwdWJsaWMgcmF0ZTogbnVtYmVyO1xuICAgIHB1YmxpYyBzcGVlZDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IocmF0ZTogbnVtYmVyLCBzcGVlZDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMucmF0ZSA9IHJhdGU7XG4gICAgICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcbiAgICB9XG5cbiAgICB1cGRhdGUodGltZTogbnVtYmVyLCBjNGU6IEdldEM0RSwgcG9zaXRpb246IFZlY3RvcjIsIHBhcnRpY2xlRW5naW5lOiBJUGFydGljbGVFbmdpbmUpIHtcbiAgICAgICAgY29uc3QgdmVsb2NpdHkgPSBjNGUoUGh5c2ljc0JvZHkpLmJvZHkudmVsb2NpdHk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYW5nbGUgPSBSYW5kb21GbG9hdCgwLDIqTWF0aC5QSSk7XG4gICAgICAgICAgICB2YXIgdnggPSB2ZWxvY2l0eS54ICsgKE1hdGguY29zKGFuZ2xlKSAqIHRoaXMuc3BlZWQqUmFuZG9tRmxvYXQoMCwyKSk7XG4gICAgICAgICAgICB2YXIgdnkgPSB2ZWxvY2l0eS55ICsgKE1hdGguc2luKGFuZ2xlKSAqIHRoaXMuc3BlZWQqUmFuZG9tRmxvYXQoMCwyKSk7XG4gICAgICAgICAgICBwYXJ0aWNsZUVuZ2luZS5FbWl0UGFydGljbGUocG9zaXRpb24ueCxwb3NpdGlvbi55LHZ4LHZ5LDAsMCwxMDAsMC43LHRydWUsdHJ1ZSxudWxsLDQsMjU1LCAyMjksMjUyLDExNCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvcGFydGljbGUvZW1pdHRlci9GaXJlQmFsbC50cyIsImltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi8uLi9lY3MvU3lzdGVtXCI7XG5pbXBvcnQgeyBQaHlzaWNzQ29sbGlzaW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUGh5c2ljc0NvbGxpc2lvblwiO1xuaW1wb3J0IHsgRXh0ZW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbXBvbmVudHMvRXh0ZW50c1wiO1xuaW1wb3J0IHsgRW52aXJvbm1lbnRGb3JjZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Vudmlyb25tZW50Rm9yY2VcIjtcbmltcG9ydCB7IEFjdGl2ZSB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbXBvbmVudHMvQWN0aXZlXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IEJGUHJveHkgfSBmcm9tIFwiLi4vY29sbGlzaW9uL0JGUHJveHlcIjtcbmltcG9ydCB7IENvbnRhY3QgfSBmcm9tIFwiLi4vY29sbGlzaW9uL0NvbnRhY3RcIjtcbmltcG9ydCB7IFJhbmRvbUZsb2F0IH0gZnJvbSBcIi4uLy4uL3V0aWwvUmFuZG9tXCI7XG5cbmV4cG9ydCBjbGFzcyBFbnZpcm9ubWVudEZvcmNlU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICBwdWJsaWMgdGVtcDogVmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoW1BoeXNpY3NDb2xsaXNpb24sIEV4dGVudHMsIEVudmlyb25tZW50Rm9yY2UsIEFjdGl2ZV0pO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gdGhpcy5jYWxsYmFjay5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBvbkVudGl0eUFkZGVkKFxuICAgICAgICBlbnRpdHk6IEVudGl0eSxcbiAgICAgICAgcGh5c2ljc0NvbGxpc2lvbjogUGh5c2ljc0NvbGxpc2lvbixcbiAgICAgICAgZXh0ZW50czogRXh0ZW50cyxcbiAgICAgICAgZW52aXJvbm1lbnRGb3JjZTogRW52aXJvbm1lbnRGb3JjZSxcbiAgICAgICAgYWN0aXZlOiBBY3RpdmUsXG4gICAgKSB7XG4gICAgICAgIHBoeXNpY3NDb2xsaXNpb24ucHJveHkuY29udGFjdENhbGxiYWNrcy5wdXNoKHRoaXMuY2FsbGJhY2spO1xuICAgICAgICB0aGlzLnNldEFjdGl2ZUZvcmNlKGVudmlyb25tZW50Rm9yY2UsIDApO1xuICAgIH1cblxuICAgIHVwZGF0ZUVudGl0eShcbiAgICAgICAgZW50aXR5OiBFbnRpdHksXG4gICAgICAgIHBoeXNpY3NDb2xsaXNpb246IFBoeXNpY3NDb2xsaXNpb24sXG4gICAgICAgIGV4dGVudHM6IEV4dGVudHMsXG4gICAgICAgIGVudmlyb25tZW50Rm9yY2U6IEVudmlyb25tZW50Rm9yY2UsXG4gICAgICAgIGFjdGl2ZTogQWN0aXZlLFxuICAgICkge1xuICAgICAgICBpZiAoZW52aXJvbm1lbnRGb3JjZS50dGwgPiAwKSB7XG4gICAgICAgICAgICBlbnZpcm9ubWVudEZvcmNlLnR0bCAtPSB0aGlzLmR0O1xuICAgICAgICAgICAgaWYgKGVudmlyb25tZW50Rm9yY2UudHRsIDw9IDApIHtcbiAgICAgICAgICAgICAgICAvLyBBY3R1YXRlLnR3ZWVuKGVudmlyb25tZW50Rm9yY2UsIDEsIHsgcG93ZXI6IDAgfSkub25Db21wbGV0ZSh0aGlzLm9uRmluaXNoZWQsIFtlbnZpcm9ubWVudEZvcmNlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgb25GaW5pc2hlZChmb3JjZTogRW52aXJvbm1lbnRGb3JjZSkge1xuICAgICAgICBmb3JjZS5jdXJyZW50SW5kZXgrKztcbiAgICAgICAgaWYgKGZvcmNlLmN1cnJlbnRJbmRleCA+PSBmb3JjZS5kYXRhLmxlbmd0aCkgZm9yY2UuY3VycmVudEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVGb3JjZShmb3JjZSwgZm9yY2UuY3VycmVudEluZGV4KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0QWN0aXZlRm9yY2UoZW52Rm9yY2U6IEVudmlyb25tZW50Rm9yY2UsIGluZGV4OiBudW1iZXIpIHtcbiAgICAgICAgZW52Rm9yY2UuY3VycmVudEluZGV4ID0gaW5kZXg7XG4gICAgICAgIHZhciBpdGVtID0gZW52Rm9yY2UuZGF0YVtpbmRleF07XG4gICAgICAgIGVudkZvcmNlLmRpcmVjdGlvbi5jb3B5KGl0ZW0uZGlyZWN0aW9uKTtcbiAgICAgICAgZW52Rm9yY2UucG93ZXIgPSBpdGVtLm1heEZvcmNlO1xuICAgICAgICBlbnZGb3JjZS50dGwgPSBpdGVtLm1pbkR1cmF0aW9uID09IDAgPyAtMSA6IFJhbmRvbUZsb2F0KGl0ZW0ubWluRHVyYXRpb24gKiAxMDAwLCBpdGVtLm1heER1cmF0aW9uICogMTAwMCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNhbGxiYWNrKGE6IEJGUHJveHksIGI6IEJGUHJveHksIGNvbnRhY3Q6IENvbnRhY3QpIHtcbiAgICAgICAgdmFyIGFyZWEgPSBhLmFhYmIub3ZlcmxhcEFyZWEoYi5hYWJiKTtcbiAgICAgICAgdmFyIGZvcmNlID0gdGhpcy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGEuZW50aXR5LCBFbnZpcm9ubWVudEZvcmNlKTtcbiAgICAgICAgLy9UT0RPIFNDQUxFIEZPUkNFIEJZIEFDVFVBTCBBUkVBISEhISEhXG4gICAgICAgIHRoaXMudGVtcC5jb3B5KGZvcmNlLmRpcmVjdGlvbik7XG4gICAgICAgIC8vIHRlbXAubXVsdEVxdWFscyhmb3JjZS5wb3dlci80MCk7XG4gICAgICAgIC8vIHRlbXAubXVsdEVxdWFscyg0MCphcmVhKTtcbiAgICAgICAgdGhpcy50ZW1wLm11bHRFcXVhbHMoZm9yY2UucG93ZXIgKiBhcmVhKTtcbiAgICAgICAgLy90cmFjZShmb3JjZS5wb3dlcik7XG4gICAgICAgIGIuYm9keS5hZGRGb3JjZSh0aGlzLnRlbXApO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9waHlzaWNzL3N5c3RlbXMvRW52aXJvbm1lbnRGb3JjZVN5c3RlbS50cyIsImltcG9ydCB7IFRNWExheWVyIH0gZnJvbSBcIi4vVE1YTWFwXCI7XG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tIFwiLi4vZWNzL0VuZ2luZVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVE1YTGF5ZXJFbnRpdGllcyhlbmdpbmU6IEVuZ2luZSwgbGF5ZXI6IFRNWExheWVyLCBmYWN0b3JpZXM6ICBNYXA8c3RyaW5nLGFueT4pIHtcbiAgICBsYXllci5vYmplY3RzLmZvckVhY2gob2JqZWN0ID0+IHtcbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IGZhY3Rvcmllcy5nZXQob2JqZWN0LnR5cGUpO1xuICAgICAgICBpZiAoZmFjdG9yeSkge1xuICAgICAgICAgICAgZmFjdG9yeShlbmdpbmUsIG9iamVjdCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS90bXgvVE1YRmFjdG9yeS50cyIsImltcG9ydCB7IFRNWE9iamVjdCB9IGZyb20gXCIuLi9UTVhNYXBcIjtcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gXCIuLi8uLi9lY3MvRW5naW5lXCI7XG5pbXBvcnQgeyBUTVhPYmplY3RQb3NpdGlvbiwgVE1YT2JqZWN0RXh0ZW50cyB9IGZyb20gXCIuLi9UTVhDb21wb25lbnRVdGlsc1wiO1xuaW1wb3J0IHsgUGh5c2ljc0NvbGxpc2lvbiB9IGZyb20gXCIuLi8uLi9waHlzaWNzL2NvbXBvbmVudHMvUGh5c2ljc0NvbGxpc2lvblwiO1xuaW1wb3J0IHsgRml4ZWQgfSBmcm9tIFwiLi4vLi4vY29yZS9jb21wb25lbnRzL0ZpeGVkXCI7XG5pbXBvcnQgeyBBY3RpdmUgfSBmcm9tIFwiLi4vLi4vY29yZS9jb21wb25lbnRzL0FjdGl2ZVwiO1xuaW1wb3J0IHsgRm9yY2VEYXRhLCBFbnZpcm9ubWVudEZvcmNlIH0gZnJvbSBcIi4uLy4uL3BoeXNpY3MvY29tcG9uZW50cy9FbnZpcm9ubWVudEZvcmNlXCI7XG5pbXBvcnQgeyBXaW5kIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29tcG9uZW50cy9XaW5kXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vZWNzL0VudGl0eVwiO1xuXG5leHBvcnQgY2xhc3MgRm9yY2VGYWN0b3J5IHtcbiAgICBzdGF0aWMgRk9SQ0VfU0NBTEU6IG51bWJlciA9IDEgLyAxMDA7XG5cbiAgICBzdGF0aWMgbWFwcGluZzogc3RyaW5nID0gXCJGb3JjZVwiO1xuXG4gICAgc3RhdGljIGNyZWF0ZVRNWEVudGl0eShlbmdpbmU6RW5naW5lLCBvYmplY3Q6IFRNWE9iamVjdCk6IEVudGl0eSB7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IGVuZ2luZS5jcmVhdGVFbnRpdHkoKTtcbiAgICAgICAgdmFyIGNvbXBvbmVudHMgPSBbXTtcbiAgICAgICAgY29tcG9uZW50cy5wdXNoKFRNWE9iamVjdFBvc2l0aW9uKG9iamVjdCkpO1xuICAgICAgICBjb21wb25lbnRzLnB1c2goVE1YT2JqZWN0RXh0ZW50cyhvYmplY3QpKTtcbiAgICAgICAgY29tcG9uZW50cy5wdXNoKG5ldyBQaHlzaWNzQ29sbGlzaW9uKHRydWUsIG51bGwsIFtdKSk7XG4gICAgICAgIGNvbXBvbmVudHMucHVzaChuZXcgRml4ZWQoKSk7XG4gICAgICAgIGNvbXBvbmVudHMucHVzaChuZXcgQWN0aXZlKCkpO1xuXG4gICAgICAgIHZhciBmb3JjZURhdGFBcnJheTogQXJyYXk8Rm9yY2VEYXRhPiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgICAgIHZhciByYXcgPSBvYmplY3QucHJvcGVydGllc1tcImNvbmZpZ1wiICsgaV0gYXMgc3RyaW5nO1xuICAgICAgICAgICAgaWYgKHJhdyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uZmlnID0gcmF3LnNwbGl0KFwiLFwiKS5tYXAocGFyc2VGbG9hdCk7XG4gICAgICAgICAgICAgICAgZm9yY2VEYXRhQXJyYXkucHVzaChcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZvcmNlRGF0YShcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1sxXSAqIEZvcmNlRmFjdG9yeS5GT1JDRV9TQ0FMRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1syXSAqIEZvcmNlRmFjdG9yeS5GT1JDRV9TQ0FMRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1szXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1s0XSxcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29tcG9uZW50cy5wdXNoKG5ldyBFbnZpcm9ubWVudEZvcmNlKGZvcmNlRGF0YUFycmF5KSk7XG4gICAgICAgIGNvbXBvbmVudHMucHVzaChuZXcgV2luZCgxLzEwMDApKTtcbiAgICAgICAgZW5naW5lLmFkZENvbXBvbmVudHNUb0VudGl0eShlbnRpdHksIGNvbXBvbmVudHMpO1xuICAgICAgICByZXR1cm4gZW50aXR5O1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS90bXgvZmFjdG9yaWVzL0ZvcmNlRmFjdG9yeS50cyIsImltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi8uLi8uLi9lY3MvU3lzdGVtXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uLy4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgUGh5c2ljc0JvZHkgfSBmcm9tIFwiLi4vLi4vLi4vcGh5c2ljcy9jb21wb25lbnRzL1BoeXNpY3NCb2R5XCI7XG5pbXBvcnQgeyBTdGVlcmluZyB9IGZyb20gXCIuLi9jb21wb25lbnRzL1N0ZWVyaW5nXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vLi4vZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgQm9keSB9IGZyb20gXCIuLi8uLi8uLi9waHlzaWNzL0JvZHlcIjtcbmltcG9ydCB7IEJlaGF2aW9yIH0gZnJvbSBcIi4uL2JlaGF2aW9ycy9CZWhhdmlvclwiO1xuaW1wb3J0IHsgVGlsZU1hcENvbGxpc2lvbiB9IGZyb20gXCIuLi8uLi8uLi9waHlzaWNzL2NvbGxpc2lvbi9icm9hZHBoYXNlL1RpbGVNYXBDb2xsaXNpb25cIjtcblxuZXhwb3J0IGNsYXNzIFN0ZWVyaW5nU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICBwdWJsaWMgYmVoYXZpb3JGb3JjZTogVmVjdG9yMjtcbiAgICBwdWJsaWMgdG90YWxGb3JjZTogVmVjdG9yMjtcbiAgICBwdWJsaWMgbWFwOiBUaWxlTWFwQ29sbGlzaW9uO1xuXG4gICAgY29uc3RydWN0b3IobWFwOiBUaWxlTWFwQ29sbGlzaW9uKSB7XG4gICAgICAgIHN1cGVyKFtQaHlzaWNzQm9keSwgU3RlZXJpbmddKTtcbiAgICAgICAgdGhpcy5iZWhhdmlvckZvcmNlID0gbmV3IFZlY3RvcjIoKTtcbiAgICAgICAgdGhpcy50b3RhbEZvcmNlID0gbmV3IFZlY3RvcjIoKTtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgfVxuXG4gICAgdXBkYXRlRW50aXR5KGVudGl0eTogRW50aXR5LCBwaHlzaWNzQm9keTogUGh5c2ljc0JvZHksIHN0ZWVyaW5nOiBTdGVlcmluZykge1xuICAgICAgICBpZiAoc3RlZXJpbmcuaGFzQ2hhbmdlZCkge1xuICAgICAgICAgICAgc3RlZXJpbmcuc3RlZXJpbmdQYXJhbWV0ZXJzLm1hcCA9IHRoaXMubWFwO1xuICAgICAgICAgICAgc3RlZXJpbmcuYmVoYXZpb3JzLnNvcnQodGhpcy5iZWhhdmlvcnNDb21wYXJlKTtcbiAgICAgICAgICAgIHN0ZWVyaW5nLmhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJ1bm5pbmdTdW0oc3RlZXJpbmcsIHBoeXNpY3NCb2R5LmJvZHkpO1xuICAgICAgICBwaHlzaWNzQm9keS5ib2R5LmFkZFByb3BvcnRpb25hbEZvcmNlKHRoaXMudG90YWxGb3JjZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBydW5uaW5nU3VtKHN0ZWVyaW5nOiBTdGVlcmluZywgYWdlbnQ6IEJvZHkpIHtcbiAgICAgICAgdGhpcy50b3RhbEZvcmNlLnNldFRvKDAsIDApO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ZWVyaW5nLmJlaGF2aW9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYmVoYXZpb3IgPSBzdGVlcmluZy5iZWhhdmlvcnNbaV07XG4gICAgICAgICAgICBpZiAoYmVoYXZpb3IuYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iZWhhdmlvckZvcmNlLnNldFRvKDAsIDApO1xuICAgICAgICAgICAgICAgIGJlaGF2aW9yLmNhbGN1bGF0ZShhZ2VudCwgc3RlZXJpbmcuc3RlZXJpbmdQYXJhbWV0ZXJzLCB0aGlzLmJlaGF2aW9yRm9yY2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmVoYXZpb3JGb3JjZS5tdWx0RXF1YWxzKGJlaGF2aW9yLndlaWdodCk7XG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbEZvcmNlLnBsdXNFcXVhbHModGhpcy5iZWhhdmlvckZvcmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRvdGFsRm9yY2UuY2xhbXBTY2FsYXIoc3RlZXJpbmcuc3RlZXJpbmdQYXJhbWV0ZXJzLm1heEFjY2VsZXJhdGlvbik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBiZWhhdmlvcnNDb21wYXJlKGE6IEJlaGF2aW9yLCBiOiBCZWhhdmlvcik6IG51bWJlciB7XG4gICAgICAgIGlmIChhLnByaW9yaXR5IDwgYi5wcmlvcml0eSkgcmV0dXJuIC0xO1xuICAgICAgICBpZiAoYS5wcmlvcml0eSA9PSBiLnByaW9yaXR5KSByZXR1cm4gMDtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2FpL3N0ZWVyaW5nL3N5c3RlbXMvU3RlZXJpbmdTeXN0ZW0udHMiLCJpbXBvcnQgeyBCZWVIaXZlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQmVlSGl2ZVwiO1xuaW1wb3J0IHsgVmlld2FibGUgfSBmcm9tIFwiLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL1ZpZXdhYmxlXCI7XG5pbXBvcnQgeyBBY3RpdmUgfSBmcm9tIFwiLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL0FjdGl2ZVwiO1xuaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2dsYXplL2Vjcy9TeXN0ZW1cIjtcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi8uLi9nbGF6ZS9lY3MvRW50aXR5XCI7XG5pbXBvcnQgeyBSYW5kb21Cb29sZWFuIH0gZnJvbSBcIi4uLy4uL2dsYXplL3V0aWwvUmFuZG9tXCI7XG5pbXBvcnQgeyBCZWVGYWN0b3J5IH0gZnJvbSBcIi4uL2ZhY3Rvcmllcy9jaGFyYWN0ZXIvQmVlRmFjdG9yeVwiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL1Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gXCIuLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvU3RhdGVcIjtcbmltcG9ydCB7IEVudGl0eVN0YXRlIH0gZnJvbSBcIi4uLy4uL2dsYXplL2NvcmUvc3RhdGUvRW50aXR5U3RhdGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBCZWVIaXZlU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoW0JlZUhpdmUsIFZpZXdhYmxlLCBBY3RpdmVdKTtcbiAgICB9XG5cbiAgICBvbkVudGl0eVJlbW92ZWQoZW50aXR5OiBFbnRpdHksIGJlZWhpdmU6IEJlZUhpdmUsIHZpZXdhYmxlOiBWaWV3YWJsZSwgYWN0aXZlOiBBY3RpdmUpIHtcbiAgICAgICAgYmVlaGl2ZS5ncm91cC5tZW1iZXJzLmZvckVhY2goYmVlID0+IHtcbiAgICAgICAgICAgIC8vIHRoaXMuZW5naW5lLmRlc3Ryb3lFbnRpdHkoYmVlKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlOlN0YXRlID0gdGhpcy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGJlZSxTdGF0ZSk7XG4gICAgICAgICAgICBzdGF0ZS5zZXRTdGF0ZShFbnRpdHlTdGF0ZS5EZXN0cm95KTtcblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB1cGRhdGVFbnRpdHkoZW50aXR5OiBFbnRpdHksIGJlZWhpdmU6IEJlZUhpdmUsIHZpZXdhYmxlOiBWaWV3YWJsZSwgYWN0aXZlOiBBY3RpdmUpIHtcbiAgICAgICAgaWYgKGJlZWhpdmUuZ3JvdXAuaGFzQ2FwYWNpdHkoKSkge1xuICAgICAgICAgICAgaWYgKFJhbmRvbUJvb2xlYW4oMC4wMSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3QmVlID0gQmVlRmFjdG9yeS5jcmVhdGUoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBQb3NpdGlvbikuY2xvbmUoKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KG5ld0JlZSxTdGF0ZSlcbiAgICAgICAgICAgICAgICAvLyBuZXdCZWUucGFyZW50ID0gZW50aXR5O1xuICAgICAgICAgICAgICAgIGJlZWhpdmUuZ3JvdXAuYWRkTWVtYmVyKG5ld0JlZSwgc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Rlc3Qvc3lzdGVtcy9CZWVIaXZlU3lzdGVtLnRzIiwiaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2dsYXplL2Vjcy9TeXN0ZW1cIjtcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcIi4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9Qb3NpdGlvblwiO1xuaW1wb3J0IHsgQmlyZE5lc3QgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9CaXJkTmVzdFwiO1xuaW1wb3J0IHsgVmlld2FibGUgfSBmcm9tIFwiLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL1ZpZXdhYmxlXCI7XG5pbXBvcnQgeyBBY3RpdmUgfSBmcm9tIFwiLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL0FjdGl2ZVwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2dsYXplL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IEV4dGVudHMgfSBmcm9tIFwiLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL0V4dGVudHNcIjtcbmltcG9ydCB7IFBoeXNpY3NDb2xsaXNpb24gfSBmcm9tIFwiLi4vLi4vZ2xhemUvcGh5c2ljcy9jb21wb25lbnRzL1BoeXNpY3NDb2xsaXNpb25cIjtcbmltcG9ydCB7IEZpeGVkIH0gZnJvbSBcIi4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9GaXhlZFwiO1xuaW1wb3J0IHsgQkZQcm94eSB9IGZyb20gXCIuLi8uLi9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9CRlByb3h5XCI7XG5pbXBvcnQgeyBDb250YWN0IH0gZnJvbSBcIi4uLy4uL2dsYXplL3BoeXNpY3MvY29sbGlzaW9uL0NvbnRhY3RcIjtcbmltcG9ydCB7IEJpcmRGYWN0b3J5IH0gZnJvbSBcIi4uL2ZhY3Rvcmllcy9jaGFyYWN0ZXIvQmlyZEZhY3RvcnlcIjtcbmltcG9ydCB7IEVudGl0eUZpbHRlck9wdGlvbnMsIENvbWJhdFV0aWxzIH0gZnJvbSBcIi4uLy4uL2dsYXplL3V0aWwvQ29tYmF0VXRpbHNcIjtcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIi4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9TdGF0ZVwiO1xuXG5leHBvcnQgY2xhc3MgQmlyZE5lc3RTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihbUG9zaXRpb24sIEJpcmROZXN0LCBWaWV3YWJsZSwgQWN0aXZlXSk7XG4gICAgfVxuXG4gICAgb25FbnRpdHlBZGRlZChlbnRpdHk6IEVudGl0eSwgcG9zaXRpb246IFBvc2l0aW9uLCBiaXJkTmVzdDogQmlyZE5lc3QsIHZpZXdhYmxlOiBWaWV3YWJsZSwgYWN0aXZlOiBBY3RpdmUpIHtcbiAgICAgICAgYmlyZE5lc3QudHJpZ2dlciA9IHRoaXMuZW5naW5lLmNyZWF0ZUVudGl0eSgpO1xuICAgICAgICB0aGlzLmVuZ2luZS5hZGRDb21wb25lbnRzVG9FbnRpdHkoYmlyZE5lc3QudHJpZ2dlciwgW1xuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBuZXcgRXh0ZW50cyhiaXJkTmVzdC5yYWRpdXMgLyAyLCBiaXJkTmVzdC5yYWRpdXMgLyAyKSxcbiAgICAgICAgICAgIG5ldyBQaHlzaWNzQ29sbGlzaW9uKHRydWUsIG51bGwsIFt0aGlzLnRyaWdnZXJDYWxsYmFja10pLFxuICAgICAgICAgICAgbmV3IEZpeGVkKCksXG4gICAgICAgICAgICBuZXcgQWN0aXZlKCksXG4gICAgICAgIF0pO1xuICAgICAgICAvLyBlbnRpdHkuYWRkQ2hpbGRFbnRpdHkobmVzdC50cmlnZ2VyKTtcbiAgICB9XG5cbiAgICB1cGRhdGVFbnRpdHkoZW50aXR5OiBFbnRpdHksIHBvc2l0aW9uOiBQb3NpdGlvbiwgYmlyZE5lc3Q6IEJpcmROZXN0LCB2aWV3YWJsZTogVmlld2FibGUsIGFjdGl2ZTogQWN0aXZlKSB7XG4gICAgICAgIGlmIChiaXJkTmVzdC5pbnRlcnZhbERlbGF5LnRpY2sodGhpcy5kdCkpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLmV2YWx1YXRlVGFyZ2V0cyhlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKHRhcmdldCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlQmlyZChlbnRpdHksIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYmlyZE5lc3QudHJpZ2dlcmVkKSB7XG4gICAgICAgICAgICBiaXJkTmVzdC50cmlnZ2VyZWQgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyB0cmlnZ2VyQ2FsbGJhY2soYTogQkZQcm94eSwgYjogQkZQcm94eSwgY29udGFjdDogQ29udGFjdCkge1xuICAgICAgICAvLyBhLmVudGl0eS5wYXJlbnQuZ2V0Q29tcG9uZW50KEJpcmROZXN0KS50cmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInRyaWdnZXJcIik7XG4gICAgfVxuXG4gICAgcHVibGljIGV2YWx1YXRlVGFyZ2V0cyhlbnRpdHk6IEVudGl0eSk6IEVudGl0eSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGVudGl0eSwgUG9zaXRpb24pO1xuICAgICAgICB2YXIgZW50aXRpZXMgPSBDb21iYXRVdGlscy5TZWFyY2hTb3J0QW5kRmlsdGVyKHBvc2l0aW9uLmNvb3JkcywgMjAwLCBlbnRpdHksIEVudGl0eUZpbHRlck9wdGlvbnMuQUxMKS5lbnRpdGllcztcbiAgICAgICAgcmV0dXJuIGVudGl0aWVzLmxlbmd0aCA+IDAgPyBlbnRpdGllc1swXS5lbnRpdHkgOiAtMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVsZWFzZUJpcmQoZW50aXR5OiBFbnRpdHksIHRhcmdldDogRW50aXR5KSB7XG4gICAgICAgIHZhciBuZXN0ID0gdGhpcy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGVudGl0eSwgQmlyZE5lc3QpO1xuICAgICAgICBpZiAobmVzdC5ncm91cC5oYXNDYXBhY2l0eSgpKSB7XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShlbnRpdHksIFBvc2l0aW9uKTtcbiAgICAgICAgICAgIHZhciBiaXJkID0gQmlyZEZhY3RvcnkuY3JlYXRlKHRoaXMuZW5naW5lLCBwb3NpdGlvbi5jbG9uZSgpLCBwb3NpdGlvbiwgZW50aXR5KTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGJpcmQsU3RhdGUpXG4gICAgICAgICAgICBuZXN0Lmdyb3VwLmFkZE1lbWJlcihlbnRpdHksc3RhdGUpO1xuICAgICAgICAgICAgLy8gbmVzdC5iaXJkcy5wdXNoKGJpcmQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Rlc3Qvc3lzdGVtcy9CaXJkTmVzdFN5c3RlbS50cyIsImltcG9ydCB7IEVuZ2luZSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9lY3MvRW5naW5lXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL3BoeXNpY3MvY29sbGlzaW9uL0ZpbHRlclwiO1xuaW1wb3J0IHsgVGVzdEZpbHRlcnMgfSBmcm9tIFwiLi4vLi4vY29uZmlnL0ZpbHRlcnNcIjtcbmltcG9ydCB7IEJvZHkgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGh5c2ljcy9Cb2R5XCI7XG5pbXBvcnQgeyBNYXRlcmlhbCB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL01hdGVyaWFsXCI7XG5pbXBvcnQgeyBFeHRlbnRzIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9FeHRlbnRzXCI7XG5pbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9ncmFwaGljcy9jb21wb25lbnRzL0dyYXBoaWNzXCI7XG5pbXBvcnQgeyBHcmFwaGljc0FuaW1hdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9ncmFwaGljcy9jb21wb25lbnRzL0dyYXBoaWNzQW5pbWF0aW9uXCI7XG5pbXBvcnQgeyBQaHlzaWNzQm9keSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL2NvbXBvbmVudHMvUGh5c2ljc0JvZHlcIjtcbmltcG9ydCB7IFBoeXNpY3NDb2xsaXNpb24gfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGh5c2ljcy9jb21wb25lbnRzL1BoeXNpY3NDb2xsaXNpb25cIjtcbmltcG9ydCB7IE1vdmVhYmxlIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9Nb3ZlYWJsZVwiO1xuaW1wb3J0IHsgQWN0aXZlIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9BY3RpdmVcIjtcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL1BsYXllclwiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL1Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBTdGVlcmluZyB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9haS9zdGVlcmluZy9jb21wb25lbnRzL1N0ZWVyaW5nXCI7XG5pbXBvcnQgeyBXYW5kZXIgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvYWkvc3RlZXJpbmcvYmVoYXZpb3JzL1dhbmRlclwiO1xuaW1wb3J0IHsgU2VlayB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9haS9zdGVlcmluZy9iZWhhdmlvcnMvU2Vla1wiO1xuaW1wb3J0IHsgU3RlZXJpbmdBZ2VudFBhcmFtZXRlcnMsIEhFQVZZX1NURUVSSU5HX1BBUkFNUyB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9haS9zdGVlcmluZy9TdGVlcmluZ0FnZW50UGFyYW1ldGVyc1wiO1xuaW1wb3J0IHsgQWdlIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9BZ2VcIjtcbmltcG9ydCB7IEhlYWx0aCB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvSGVhbHRoXCI7XG5pbXBvcnQgeyBEZXN0cm95IH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9EZXN0cm95XCI7XG5pbXBvcnQgeyBQYXJ0aWNsZUVtaXR0ZXIgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGFydGljbGUvY29tcG9uZW50cy9QYXJ0aWNsZUVtaXR0ZXJcIjtcbmltcG9ydCB7IEV4cGxvc2lvbiB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9wYXJ0aWNsZS9lbWl0dGVyL0V4cGxvc2lvblwiO1xuaW1wb3J0IHsgQmlyZCB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0JpcmRcIjtcbmltcG9ydCB7IEFycml2YWwgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvYWkvc3RlZXJpbmcvYmVoYXZpb3JzL0Fycml2YWxcIjtcbmltcG9ydCB7IFdhbGxBdm9pZGFuY2UgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvYWkvc3RlZXJpbmcvYmVoYXZpb3JzL1dhbGxBdm9pZGFuY2VcIjtcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9TdGF0ZVwiO1xuaW1wb3J0IHsgU2ltcGxlRlNNU3RhdGVzIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2FpL2ZzbS9TaW1wbGVGU01cIjtcbmltcG9ydCB7IFRpbGVNYXBDb2xsaXNpb24gfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGh5c2ljcy9jb2xsaXNpb24vYnJvYWRwaGFzZS9UaWxlTWFwQ29sbGlzaW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBCaXJkRmFjdG9yeSB7XG5cbiAgICBzdGF0aWMgc3RhdGVzOiBTaW1wbGVGU01TdGF0ZXMgPSB7XG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKGVuZ2luZTogRW5naW5lLCBlbnRpdHk6IEVudGl0eSkge1xuICAgICAgICAgICAgaWYgKGVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBEZXN0cm95KSkgcmV0dXJuO1xuICAgICAgICAgICAgZW5naW5lLmFkZENvbXBvbmVudHNUb0VudGl0eShlbnRpdHksIFtuZXcgRGVzdHJveSgxKV0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHN0YXRpYyBjcmVhdGUoZW5naW5lOiBFbmdpbmUsIHBvc2l0aW9uOiBQb3NpdGlvbiwgZm9sbG93OiBQb3NpdGlvbiwgbmVzdDogRW50aXR5KTogRW50aXR5IHtcbiAgICAgICAgdmFyIGJpcmRCb2R5ID0gbmV3IEJvZHkobmV3IE1hdGVyaWFsKCkpO1xuICAgICAgICBiaXJkQm9keS5zZXRNYXNzKDEpO1xuICAgICAgICBiaXJkQm9keS5zZXRCb3VuY2VzKDApO1xuICAgICAgICBiaXJkQm9keS5nbG9iYWxGb3JjZUZhY3RvciA9IDAuMDtcbiAgICAgICAgYmlyZEJvZHkubWF4U2NhbGFyVmVsb2NpdHkgPSAyMDA7XG5cbiAgICAgICAgdmFyIGJlZSA9IGVuZ2luZS5jcmVhdGVFbnRpdHkoKTtcbiAgICAgICAgZW5naW5lLmFkZENvbXBvbmVudHNUb0VudGl0eShiZWUsIFtcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgbmV3IEJpcmQobmVzdCksXG4gICAgICAgICAgICBuZXcgRXh0ZW50cyg0ICogMSwgNCAqIDEpLFxuICAgICAgICAgICAgbmV3IEdyYXBoaWNzKFwiYmlyZFwiKSxcbiAgICAgICAgICAgIG5ldyBQaHlzaWNzQm9keShiaXJkQm9keSwgZmFsc2UpLFxuICAgICAgICAgICAgbmV3IE1vdmVhYmxlKCksXG4gICAgICAgICAgICBuZXcgUGh5c2ljc0NvbGxpc2lvbihmYWxzZSwgbnVsbCwgW10pLFxuICAgICAgICAgICAgbmV3IEdyYXBoaWNzQW5pbWF0aW9uKFwiYmlyZFwiLCBcImZseVwiKSxcbiAgICAgICAgICAgIC8vIG5ldyBMaWdodCg2NCwxLDEsMSwyNTUsMjU1LDApLFxuICAgICAgICAgICAgbmV3IFN0ZWVyaW5nKFtcbiAgICAgICAgICAgICAgICBuZXcgV2FuZGVyKDU1LCA4MCwgMC4zKSwgLy9va1xuICAgICAgICAgICAgICAgIG5ldyBBcnJpdmFsKGZvbGxvdy5jb29yZHMsIDI1NiksXG4gICAgICAgICAgICAgICAgLy8sbmV3IFNlZWsoZm9sbG93LmNvb3JkcywzMilcbiAgICAgICAgICAgICAgICAvLyBuZXcgQXJyaXZhbChmb2xsb3cuY29vcmRzLDEyOCwzMilcbiAgICAgICAgICAgICAgICBuZXcgV2FsbEF2b2lkYW5jZSg2MCksXG4gICAgICAgICAgICAgICAgLy8gLG5ldyBTZXBlcmF0aW9uKG5lc3QuZ2V0Q29tcG9uZW50KEJpcmROZXN0KS5ncm91cC5tZW1iZXJzLDIwKVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBuZXcgU3RhdGUoQmlyZEZhY3Rvcnkuc3RhdGVzLCBudWxsLCBmYWxzZSksXG4gICAgICAgICAgICBuZXcgQWdlKDE1MDAwLCBcImRlc3Ryb3lcIiksXG4gICAgICAgICAgICBuZXcgSGVhbHRoKDEwLCAxMCwgMCwgXCJkZXN0cm95XCIpLFxuICAgICAgICAgICAgbmV3IEFjdGl2ZSgpLFxuICAgICAgICBdKTtcblxuICAgICAgICByZXR1cm4gYmVlO1xuICAgIH1cbiAgICBzdGF0aWMgb25EZXN0cm95KGVuZ2luZTogRW5naW5lLCBlbnRpdHk6IEVudGl0eSkge1xuICAgICAgICBpZiAoZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShlbnRpdHksIERlc3Ryb3kpKSByZXR1cm47XG4gICAgICAgIGVuZ2luZS5hZGRDb21wb25lbnRzVG9FbnRpdHkoZW50aXR5LCBbbmV3IERlc3Ryb3koMSldKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdGVzdC9mYWN0b3JpZXMvY2hhcmFjdGVyL0JpcmRGYWN0b3J5LnRzIiwiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IEJpcmQgfSBmcm9tIFwiLi4vLi4vLi4vdGVzdC9jb21wb25lbnRzL0JpcmRcIjtcblxuZXhwb3J0IHR5cGUgTFdGU01TdGF0ZTxUPiA9ICh0OiBULCBmc206IExpZ2h0U3RhY2tTdGF0ZU1hY2hpbmU8VD4sIGR0OiBudW1iZXIpID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIExXRlNNRSA9IExpZ2h0U3RhY2tTdGF0ZU1hY2hpbmU8RW50aXR5PjtcblxuZXhwb3J0IGNsYXNzIExpZ2h0U3RhY2tTdGF0ZU1hY2hpbmU8VD4ge1xuICAgIHB1YmxpYyBzdGFjazogQXJyYXk8TFdGU01TdGF0ZTxUPj47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zdGFjayA9IG5ldyBBcnJheTxMV0ZTTVN0YXRlPFQ+PigpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUodGFyZ2V0OiBULCBkZWx0YTogbnVtYmVyKSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmdldEN1cnJlbnRTdGF0ZSgpO1xuXG4gICAgICAgIGlmIChjdXJyZW50U3RhdGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgY3VycmVudFN0YXRlKHRhcmdldCwgdGhpcywgZGVsdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHBvcFN0YXRlKCk6IExXRlNNU3RhdGU8VD4ge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YWNrLnBvcCgpO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgcHVibGljIHBvcEFsbFN0YXRlcygpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuc3RhY2subGVuZ3RoID4gMCkgdGhpcy5wb3BTdGF0ZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBwdXNoU3RhdGUoc3RhdGU6IExXRlNNU3RhdGU8VD4pIHtcbiAgICAgICAgdGhpcy5zdGFjay5wdXNoKHN0YXRlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0U3RhdGUoc3RhdGU6IExXRlNNU3RhdGU8VD4pIHtcbiAgICAgICAgdGhpcy5wb3BTdGF0ZSgpO1xuICAgICAgICB0aGlzLnB1c2hTdGF0ZShzdGF0ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlc2V0U3RhdGUoc3RhdGU6IExXRlNNU3RhdGU8VD4pIHtcbiAgICAgICAgdGhpcy5wb3BBbGxTdGF0ZXMoKTtcbiAgICAgICAgdGhpcy5wdXNoU3RhdGUoc3RhdGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDdXJyZW50U3RhdGUoKTogTFdGU01TdGF0ZTxUPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YWNrLmxlbmd0aCA+IDAgPyB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9haS9mc20vU3RhY2tGU00udHMiLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZ2xhemUvZWNzL1N5c3RlbVwiO1xuaW1wb3J0IHsgSUJyb2FkcGhhc2UgfSBmcm9tIFwiLi4vLi4vZ2xhemUvcGh5c2ljcy9jb2xsaXNpb24vYnJvYWRwaGFzZS9JQnJvYWRwaGFzZVwiO1xuaW1wb3J0IHsgQmlyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0JpcmRcIjtcbmltcG9ydCB7IFBoeXNpY3NDb2xsaXNpb24gfSBmcm9tIFwiLi4vLi4vZ2xhemUvcGh5c2ljcy9jb21wb25lbnRzL1BoeXNpY3NDb2xsaXNpb25cIjtcbmltcG9ydCB7IEhlYWx0aCB9IGZyb20gXCIuLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvSGVhbHRoXCI7XG5pbXBvcnQgeyBTdGVlcmluZyB9IGZyb20gXCIuLi8uLi9nbGF6ZS9haS9zdGVlcmluZy9jb21wb25lbnRzL1N0ZWVyaW5nXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vZ2xhemUvZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgQnJvYWRwaGFzZUFyZWFRdWVyeSB9IGZyb20gXCIuLi8uLi9nbGF6ZS91dGlsL0Jyb2FkcGhhc2VBcmVhUXVlcnlcIjtcbmltcG9ydCB7IExXRlNNRSB9IGZyb20gXCIuLi8uLi9nbGF6ZS9haS9mc20vU3RhY2tGU01cIjtcbmltcG9ydCB7IENvbWJhdFV0aWxzLCBFbnRpdHlGaWx0ZXJPcHRpb25zIH0gZnJvbSBcIi4uLy4uL2dsYXplL3V0aWwvQ29tYmF0VXRpbHNcIjtcbmltcG9ydCB7IEFycml2YWwgfSBmcm9tIFwiLi4vLi4vZ2xhemUvYWkvc3RlZXJpbmcvYmVoYXZpb3JzL0Fycml2YWxcIjtcbmltcG9ydCB7IFdhbmRlciB9IGZyb20gXCIuLi8uLi9nbGF6ZS9haS9zdGVlcmluZy9iZWhhdmlvcnMvV2FuZGVyXCI7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvUG9zaXRpb25cIjtcblxuZXhwb3J0IGNsYXNzIEJpcmRTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIGJmQXJlYVF1ZXJ5OiBCcm9hZHBoYXNlQXJlYVF1ZXJ5O1xuXG4gICAgY29uc3RydWN0b3IoYmZBcmVhUXVlcnk6IEJyb2FkcGhhc2VBcmVhUXVlcnkpIHtcbiAgICAgICAgc3VwZXIoW0JpcmQsIFBoeXNpY3NDb2xsaXNpb24sIEhlYWx0aCwgU3RlZXJpbmddKTtcbiAgICAgICAgdGhpcy5iZkFyZWFRdWVyeSA9IGJmQXJlYVF1ZXJ5O1xuICAgICAgICB0aGlzLmJhc2VTdGF0ZSA9IHRoaXMuYmFzZVN0YXRlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2Vla1N0YXRlID0gdGhpcy5zZWVrU3RhdGUuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBvbkVudGl0eUFkZGVkKGVudGl0eTogRW50aXR5LCBiaXJkOiBCaXJkLCBwaHlzaWNzQ29sbGlzaW9uOiBQaHlzaWNzQ29sbGlzaW9uLCBoZWFsdGg6IEhlYWx0aCwgc3RlZXJpbmc6IFN0ZWVyaW5nKSB7XG4gICAgICAgIGJpcmQuYWkucHVzaFN0YXRlKHRoaXMuYmFzZVN0YXRlKTtcbiAgICB9XG5cbiAgICB1cGRhdGVFbnRpdHkoZW50aXR5OiBFbnRpdHksIGJpcmQ6IEJpcmQsIHBoeXNpY3NDb2xsaXNpb246IFBoeXNpY3NDb2xsaXNpb24sIGhlYWx0aDogSGVhbHRoLCBzdGVlcmluZzogU3RlZXJpbmcpIHtcbiAgICAgICAgYmlyZC5haS51cGRhdGUoZW50aXR5LHRoaXMuZHQpO1xuICAgIH1cblxuICAgIGJhc2VTdGF0ZShlbnRpdHk6IEVudGl0eSwgZnNtOiBMV0ZTTUUsIGRlbHRhOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgYmlyZCA9IHRoaXMuZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShlbnRpdHksIEJpcmQpO1xuICAgICAgICBpZiAoYmlyZC5kZWxheS50aWNrKGRlbHRhKSkge1xuICAgICAgICAgICAgZnNtLnB1c2hTdGF0ZSh0aGlzLnNlZWtTdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWVrU3RhdGUoZW50aXR5OiBFbnRpdHksIGZzbTogTFdGU01FLCBkZWx0YTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGVudGl0eSwgUG9zaXRpb24pO1xuXG4gICAgICAgIC8vRmluZCBlbmVtaWVzIHdpdGhpbiAzMDAgdW5pdHNcbiAgICAgICAgdmFyIGVudGl0aWVzID0gQ29tYmF0VXRpbHMuU2VhcmNoU29ydEFuZEZpbHRlcihwb3NpdGlvbi5jb29yZHMsIDMwMCwgZW50aXR5LCBFbnRpdHlGaWx0ZXJPcHRpb25zLkFMTCkuZW50aXRpZXM7XG4gICAgICAgIC8vRm91bmQgc29tZXRoaW5nXG4gICAgICAgIGlmIChlbnRpdGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgYmlyZCA9IHRoaXMuZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShlbnRpdHksIEJpcmQpO1xuICAgICAgICAgICAgYmlyZC50YXJnZXQgPSBlbnRpdGllc1swXS5lbnRpdHk7XG5cbiAgICAgICAgICAgIHZhciBzdGVlcmluZyA9IHRoaXMuZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShlbnRpdHksIFN0ZWVyaW5nKTtcbiAgICAgICAgICAgIHZhciBhcnJpdmFsOiBBcnJpdmFsID0gc3RlZXJpbmcuZ2V0QmVoYXZpb3VyKEFycml2YWwpO1xuICAgICAgICAgICAgYXJyaXZhbC50YXJnZXQgPSB0aGlzLmVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoYmlyZC50YXJnZXQsIFBvc2l0aW9uKS5jb29yZHM7XG4gICAgICAgICAgICBhcnJpdmFsLmFycml2YWxab25lID0gMTtcblxuICAgICAgICAgICAgdmFyIHdhbmRlcjogV2FuZGVyID0gc3RlZXJpbmcuZ2V0QmVoYXZpb3VyKFdhbmRlcik7XG4gICAgICAgICAgICB3YW5kZXIuYWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGZzbS5wb3BTdGF0ZSgpO1xuICAgICAgICAgICAgZnNtLnB1c2hTdGF0ZSh0aGlzLmNoYXNlU3RhdGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZzbS5wb3BTdGF0ZSgpO1xuICAgIH1cblxuICAgIGNoYXNlU3RhdGUoZW50aXR5OiBFbnRpdHksIGZzbTogTFdGU01FLCBkZWx0YTogbnVtYmVyKSB7fVxuXG4gICAgLy8gICAgIHZhciBiaXJkID0gZW50aXR5LmdldENvbXBvbmVudChCaXJkKTtcbiAgICAvLyAgICAgLy9OZWVkIHRvIGNoZWNrP1xuICAgIC8vICAgICBpZiAoYmlyZC5jaGFzZUNoZWNrLnRpY2soZGVsdGEpKVxuICAgIC8vICAgICAgICAgcmV0dXJuO1xuICAgIC8vICAgICAvL1llcywgb2sgY2hlY2sgaWYgd2UgY2FuIHN0aWxsIHNlZSB0aGUgdGFyZ2V0XG4gICAgLy8gICAgIGlmIChnbGF6ZS51dGlsLkNvbWJhdFV0aWxzLmNhblNlZShlbnRpdHkuZ2V0Q29tcG9uZW50KFBvc2l0aW9uKS5jb29yZHMsYmlyZC50YXJnZXQuZ2V0Q29tcG9uZW50KFBvc2l0aW9uKS5jb29yZHMsMzAwKSlcbiAgICAvLyAgICAgICAgIHJldHVybjtcblxuICAgIC8vICAgICB2YXIgYmlyZCA9IGVudGl0eS5nZXRDb21wb25lbnQoQmlyZCk7XG4gICAgLy8gICAgIGJpcmQudGFyZ2V0ID0gbnVsbDtcbiAgICAvLyAgICAgdmFyIHN0ZWVyaW5nID0gZW50aXR5LmdldENvbXBvbmVudChTdGVlcmluZyk7XG5cbiAgICAvLyAgICAgdmFyIHdhbmRlcjpXYW5kZXIgPSBjYXN0IHN0ZWVyaW5nLmdldEJlaGF2aW91cihXYW5kZXIpO1xuICAgIC8vICAgICB3YW5kZXIuYWN0aXZlID0gdHJ1ZTtcbiAgICAvLyAgICAgdmFyIGFycml2YWw6QXJyaXZhbCA9IGNhc3Qgc3RlZXJpbmcuZ2V0QmVoYXZpb3VyKEFycml2YWwpO1xuICAgIC8vICAgICBhcnJpdmFsLnRhcmdldCA9IGJpcmQubmVzdC5nZXRDb21wb25lbnQoUG9zaXRpb24pLmNvb3JkcztcbiAgICAvLyAgICAgYXJyaXZhbC5hcnJpdmFsWm9uZSA9IDEyODtcblxuICAgIC8vICAgICBmc20ucG9wU3RhdGUoKTtcblxuICAgIC8vIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy90ZXN0L3N5c3RlbXMvQmlyZFN5c3RlbS50cyIsImltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi8uLi9lY3MvU3lzdGVtXCI7XG5pbXBvcnQgeyBJUGFydGljbGVFbmdpbmUgfSBmcm9tIFwiLi4vLi4vcGFydGljbGUvZW5naW5lcy9JUGFydGljbGVFbmdpbmVcIjtcbmltcG9ydCB7IFBoeXNpY3NDb2xsaXNpb24gfSBmcm9tIFwiLi4vLi4vcGh5c2ljcy9jb21wb25lbnRzL1BoeXNpY3NDb2xsaXNpb25cIjtcbmltcG9ydCB7IEV4dGVudHMgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9FeHRlbnRzXCI7XG5pbXBvcnQgeyBXYXRlciB9IGZyb20gXCIuLi9jb21wb25lbnRzL1dhdGVyXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSBcIi4uLy4uL3NpZ25hbHMvU2lnbmFsXCI7XG5pbXBvcnQgeyBCRlByb3h5IH0gZnJvbSBcIi4uLy4uL3BoeXNpY3MvY29sbGlzaW9uL0JGUHJveHlcIjtcbmltcG9ydCB7IENvbnRhY3QgfSBmcm9tIFwiLi4vLi4vcGh5c2ljcy9jb2xsaXNpb24vQ29udGFjdFwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IFJhbmRvbUZsb2F0LCBSYW5kb21Cb29sZWFuIH0gZnJvbSBcIi4uLy4uL3V0aWwvUmFuZG9tXCI7XG5pbXBvcnQgeyBWaWV3YWJsZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1ZpZXdhYmxlXCI7XG5cbmV4cG9ydCBjbGFzcyBXYXRlclN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gICAgcHVibGljIHBhcnRpY2xlRW5naW5lOiBJUGFydGljbGVFbmdpbmU7XG4gICAgcHVibGljIGN5Y2xlOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJ0aWNsZUVuZ2luZTogSVBhcnRpY2xlRW5naW5lKSB7XG4gICAgICAgIHN1cGVyKFtQaHlzaWNzQ29sbGlzaW9uLCBFeHRlbnRzLCBXYXRlcl0pO1xuICAgICAgICB0aGlzLnBhcnRpY2xlRW5naW5lID0gcGFydGljbGVFbmdpbmU7XG4gICAgICAgIHRoaXMuY3ljbGUgPSAwO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gdGhpcy5jYWxsYmFjay5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIG9uRW50aXR5QWRkZWQoZW50aXR5OiBFbnRpdHksIHBoeXNpY3NDb2xsaXNpb246IFBoeXNpY3NDb2xsaXNpb24sIGV4dGVudHM6IEV4dGVudHMsIHdhdGVyOiBXYXRlcikge1xuICAgICAgICAvLyB2YXIgY2IyID0gbmV3IFNpZ25hbCgpO1xuICAgICAgICAvLyBjYjIuYWRkKHRoaXMuY2FsbGJhY2spO1xuICAgICAgICB0aGlzLmVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBQaHlzaWNzQ29sbGlzaW9uKS5wcm94eS5jb250YWN0Q2FsbGJhY2tzLnB1c2godGhpcy5jYWxsYmFjayk7XG4gICAgfVxuXG4gICAgdXBkYXRlQWxsRW50aXRpZXMoKSB7XG4gICAgICAgIHRoaXMuY3ljbGUgPSAoTWF0aC5QSSAqIDIgLyAxMDAwICogdGhpcy50aW1lc3RhbXApICUgMTAwMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2FsbGJhY2soYTogQkZQcm94eSwgYjogQkZQcm94eSwgY29udGFjdDogQ29udGFjdCkge1xuICAgICAgICB2YXIgYXJlYSA9IGEuYWFiYi5vdmVybGFwQXJlYShiLmFhYmIpO1xuICAgICAgICBiLmJvZHkuZGFtcGluZyA9IDAuOTtcbiAgICAgICAgLy8gYi5ib2R5LmFkZEZvcmNlKG5ldyBWZWN0b3IyKDAsIC1hcmVhICogNSkpO1xuICAgICAgICBiLmJvZHkuYWRkRm9yY2UobmV3IFZlY3RvcjIoMCwgLWFyZWEgKiAoNC41ICsgTWF0aC5zaW4odGhpcy5jeWNsZSkgKiAwLjUpKSk7XG5cbiAgICAgICAgLy8gdHJhY2UoLWFyZWEqMC4wNSxiLmJvZHkubWFzcyk7XG4gICAgICAgIGlmICghYi5ib2R5LmluV2F0ZXJQcmV2KSB7XG4gICAgICAgICAgICB0aGlzLnBhcnRpY2xlRW5naW5lLkVtaXRQYXJ0aWNsZShcbiAgICAgICAgICAgICAgICBSYW5kb21GbG9hdChiLmFhYmIubCwgYi5hYWJiLnIpLFxuICAgICAgICAgICAgICAgIGEuYWFiYi50LFxuICAgICAgICAgICAgICAgIFJhbmRvbUZsb2F0KC0yMCwgMjApLFxuICAgICAgICAgICAgICAgIFJhbmRvbUZsb2F0KC01LCAtMTUpLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICA1MDAsXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICA0LFxuICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICAgICAyNTUsXG4gICAgICAgICAgICAgICAgMjU1LFxuICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLnBhcnRpY2xlRW5naW5lLkVtaXRQYXJ0aWNsZShcbiAgICAgICAgICAgICAgICBSYW5kb21GbG9hdChiLmFhYmIubCwgYi5hYWJiLnIpLFxuICAgICAgICAgICAgICAgIGEuYWFiYi50LFxuICAgICAgICAgICAgICAgIFJhbmRvbUZsb2F0KC0yMCwgMjApLFxuICAgICAgICAgICAgICAgIFJhbmRvbUZsb2F0KC01LCAtMTUpLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICA1MDAsXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICA0LFxuICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICAgICAyNTUsXG4gICAgICAgICAgICAgICAgMjU1LFxuICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLnBhcnRpY2xlRW5naW5lLkVtaXRQYXJ0aWNsZShcbiAgICAgICAgICAgICAgICBSYW5kb21GbG9hdChiLmFhYmIubCwgYi5hYWJiLnIpLFxuICAgICAgICAgICAgICAgIGEuYWFiYi50LFxuICAgICAgICAgICAgICAgIFJhbmRvbUZsb2F0KC0yMCwgMjApLFxuICAgICAgICAgICAgICAgIFJhbmRvbUZsb2F0KC01LCAtMTUpLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICA1MDAsXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICA0LFxuICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICAgICAyNTUsXG4gICAgICAgICAgICAgICAgMjU1LFxuICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoYi5hYWJiLnQgPCBhLmFhYmIudCkge1xuICAgICAgICAgICAgaWYgKFJhbmRvbUJvb2xlYW4oMC4xKSAmJiB0aGlzLmVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoYS5lbnRpdHksIFZpZXdhYmxlKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0aWNsZUVuZ2luZS5FbWl0UGFydGljbGUoXG4gICAgICAgICAgICAgICAgICAgIFJhbmRvbUZsb2F0KGIuYWFiYi5sLCBiLmFhYmIuciksXG4gICAgICAgICAgICAgICAgICAgIGEuYWFiYi50LFxuICAgICAgICAgICAgICAgICAgICBSYW5kb21GbG9hdCgtMjAsIDIwKSxcbiAgICAgICAgICAgICAgICAgICAgUmFuZG9tRmxvYXQoLTUsIC0xNSksXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgIDUwMCxcbiAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgNCxcbiAgICAgICAgICAgICAgICAgICAgMjU1LFxuICAgICAgICAgICAgICAgICAgICAyNTUsXG4gICAgICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICAgICAgICAgMjU1LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYi5ib2R5LmluV2F0ZXIgPSB0cnVlO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9jb3JlL3N5c3RlbXMvV2F0ZXJTeXN0ZW0udHMiLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZWNzL1N5c3RlbVwiO1xuaW1wb3J0IHsgSVBhcnRpY2xlRW5naW5lIH0gZnJvbSBcIi4uLy4uL3BhcnRpY2xlL2VuZ2luZXMvSVBhcnRpY2xlRW5naW5lXCI7XG5pbXBvcnQgeyBFeHRlbnRzIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRXh0ZW50c1wiO1xuaW1wb3J0IHsgRW52aXJvbm1lbnRGb3JjZSB9IGZyb20gXCIuLi8uLi9waHlzaWNzL2NvbXBvbmVudHMvRW52aXJvbm1lbnRGb3JjZVwiO1xuaW1wb3J0IHsgV2luZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL1dpbmRcIjtcbmltcG9ydCB7IFZpZXdhYmxlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVmlld2FibGVcIjtcbmltcG9ydCB7IFBoeXNpY3NDb2xsaXNpb24gfSBmcm9tIFwiLi4vLi4vcGh5c2ljcy9jb21wb25lbnRzL1BoeXNpY3NDb2xsaXNpb25cIjtcbmltcG9ydCB7IEFjdGl2ZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FjdGl2ZVwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IFJhbmRvbUZsb2F0LCBSYW5kb21JbnRlZ2VyIH0gZnJvbSBcIi4uLy4uL3V0aWwvUmFuZG9tXCI7XG5cbmV4cG9ydCBjbGFzcyBXaW5kU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICBwdWJsaWMgcGFydGljbGVFbmdpbmU6IElQYXJ0aWNsZUVuZ2luZTtcbiAgICBwdWJsaWMgdGlsZVNpemU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHBhcnRpY2xlRW5naW5lOiBJUGFydGljbGVFbmdpbmUsIHRpbGVTaXplOiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoW0V4dGVudHMsIEVudmlyb25tZW50Rm9yY2UsIFdpbmQsIFZpZXdhYmxlLCBQaHlzaWNzQ29sbGlzaW9uLCBBY3RpdmVdKTtcbiAgICAgICAgdGhpcy5wYXJ0aWNsZUVuZ2luZSA9IHBhcnRpY2xlRW5naW5lO1xuICAgICAgICB0aGlzLnRpbGVTaXplID0gdGlsZVNpemU7XG4gICAgfVxuXG4gICAgb25FbnRpdHlBZGRlZChcbiAgICAgICAgZW50aXR5OiBFbnRpdHksXG4gICAgICAgIGV4dGVudHM6IEV4dGVudHMsXG4gICAgICAgIGVudmlyb25tZW50Rm9yY2U6IEVudmlyb25tZW50Rm9yY2UsXG4gICAgICAgIHdpbmQ6IFdpbmQsXG4gICAgICAgIHZpZXdhYmxlOiBWaWV3YWJsZSxcbiAgICAgICAgcGh5c2ljc0NvbGxpc2lvbjogUGh5c2ljc0NvbGxpc2lvbixcbiAgICAgICAgYWN0aXZlOiBBY3RpdmUsXG4gICAgKSB7XG4gICAgICAgIC8vICBwdWJsaWMgIGVudGl0eUFkZGVkKGVudGl0eTpFbnRpdHkpIHtcbiAgICAgICAgdmFyIHVuaXRzID0gZXh0ZW50cy5oYWxmV2lkdGhzLnggKiBleHRlbnRzLmhhbGZXaWR0aHMueSAqIDQgLyAodGhpcy50aWxlU2l6ZSAqIHRoaXMudGlsZVNpemUpO1xuICAgICAgICB3aW5kLmluY1BlckZyYW1lID0gd2luZC5wYXJ0aWNsZVBlclVuaXRQZXJGcmFtZSAqIHVuaXRzO1xuICAgIH1cblxuICAgIHVwZGF0ZUVudGl0eShcbiAgICAgICAgZW50aXR5OiBFbnRpdHksXG4gICAgICAgIGV4dGVudHM6IEV4dGVudHMsXG4gICAgICAgIGVudmlyb25tZW50Rm9yY2U6IEVudmlyb25tZW50Rm9yY2UsXG4gICAgICAgIHdpbmQ6IFdpbmQsXG4gICAgICAgIHZpZXdhYmxlOiBWaWV3YWJsZSxcbiAgICAgICAgcGh5c2ljc0NvbGxpc2lvbjogUGh5c2ljc0NvbGxpc2lvbixcbiAgICAgICAgYWN0aXZlOiBBY3RpdmUsXG4gICAgKSB7XG4gICAgICAgIHdpbmQucGFydGljbGVDb3VudCArPSB3aW5kLmluY1BlckZyYW1lO1xuICAgICAgICB3aGlsZSAod2luZC5wYXJ0aWNsZUNvdW50ID4gMSkge1xuICAgICAgICAgICAgdGhpcy5wYXJ0aWNsZUVuZ2luZS5FbWl0UGFydGljbGUoXG4gICAgICAgICAgICAgICAgUmFuZG9tRmxvYXQocGh5c2ljc0NvbGxpc2lvbi5wcm94eS5hYWJiLmwsIHBoeXNpY3NDb2xsaXNpb24ucHJveHkuYWFiYi5yKSxcbiAgICAgICAgICAgICAgICBSYW5kb21GbG9hdChwaHlzaWNzQ29sbGlzaW9uLnByb3h5LmFhYmIudCwgcGh5c2ljc0NvbGxpc2lvbi5wcm94eS5hYWJiLmIpLFxuICAgICAgICAgICAgICAgIGVudmlyb25tZW50Rm9yY2UuZGlyZWN0aW9uLnggKiBlbnZpcm9ubWVudEZvcmNlLnBvd2VyICogNTAsXG4gICAgICAgICAgICAgICAgZW52aXJvbm1lbnRGb3JjZS5kaXJlY3Rpb24ueSAqIGVudmlyb25tZW50Rm9yY2UucG93ZXIgKiA1MCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgUmFuZG9tSW50ZWdlcigyMDAsIDQwMCksXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICA0LFxuICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICAgICAyNTUsXG4gICAgICAgICAgICAgICAgMjU1LFxuICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vcGFydGljbGVFbmdpbmUuRW1pdFBhcnRpY2xlKFJhbmRvbUZsb2F0KHByb3h5LmFhYmIubCxwcm94eS5hYWJiLnIpLFJhbmRvbUZsb2F0KHByb3h5LmFhYmIudCxwcm94eS5hYWJiLmIpLFJhbmRvbUZsb2F0KC0yMCwyMCksUmFuZG9tRmxvYXQoLTIwLDIwKSwwLDEsMTAwMCwxLHRydWUsdHJ1ZSxudWxsLDQsMjU1LDI1NSwyNTUsMjU1KTtcbiAgICAgICAgICAgIHdpbmQucGFydGljbGVDb3VudC0tO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2NvcmUvc3lzdGVtcy9XaW5kU3lzdGVtLnRzIiwiaW1wb3J0IHsgVE1YT2JqZWN0IH0gZnJvbSBcIi4uL1RNWE1hcFwiO1xuaW1wb3J0IHsgVE1YT2JqZWN0UG9zaXRpb24sIFRNWE9iamVjdEV4dGVudHMsIFRNWE9iamVjdEdldENTVlBhcmFtcyB9IGZyb20gXCIuLi9UTVhDb21wb25lbnRVdGlsc1wiO1xuaW1wb3J0IHsgUGh5c2ljc0NvbGxpc2lvbiB9IGZyb20gXCIuLi8uLi9waHlzaWNzL2NvbXBvbmVudHMvUGh5c2ljc0NvbGxpc2lvblwiO1xuaW1wb3J0IHsgRml4ZWQgfSBmcm9tIFwiLi4vLi4vY29yZS9jb21wb25lbnRzL0ZpeGVkXCI7XG5pbXBvcnQgeyBBY3RpdmUgfSBmcm9tIFwiLi4vLi4vY29yZS9jb21wb25lbnRzL0FjdGl2ZVwiO1xuaW1wb3J0IHsgV2F0ZXIgfSBmcm9tIFwiLi4vLi4vY29yZS9jb21wb25lbnRzL1dhdGVyXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgRW5naW5lIH0gZnJvbSBcIi4uLy4uL2Vjcy9FbmdpbmVcIjtcblxuXG5cbmV4cG9ydCBjbGFzcyBXYXRlckZhY3Rvcnkge1xuXG4gICAgc3RhdGljIG1hcHBpbmc6IHN0cmluZyA9IFwiV2F0ZXJcIjtcblxuICAgIHN0YXRpYyBjcmVhdGVUTVhFbnRpdHkoZW5naW5lOkVuZ2luZSwgb2JqZWN0OiBUTVhPYmplY3QpOiBFbnRpdHkge1xuICAgICAgICBjb25zdCBlbnRpdHkgPSBlbmdpbmUuY3JlYXRlRW50aXR5KCk7XG4gICAgICAgIHZhciBjb21wb25lbnRzID0gW107XG4gICAgICAgIGNvbXBvbmVudHMucHVzaChUTVhPYmplY3RQb3NpdGlvbihvYmplY3QpKTtcbiAgICAgICAgY29tcG9uZW50cy5wdXNoKFRNWE9iamVjdEV4dGVudHMob2JqZWN0KSk7XG4gICAgICAgIGNvbXBvbmVudHMucHVzaChuZXcgUGh5c2ljc0NvbGxpc2lvbih0cnVlLCBudWxsLCBbXSkpO1xuICAgICAgICBjb21wb25lbnRzLnB1c2gobmV3IEZpeGVkKCkpO1xuICAgICAgICBjb21wb25lbnRzLnB1c2gobmV3IEFjdGl2ZSgpKTtcbiAgICAgICAgY29tcG9uZW50cy5wdXNoKG5ldyBXYXRlcigpKTtcbiAgICAgICAgLy8gdmFyIGZvcmNlRGF0YUFycmF5OiBBcnJheTxGb3JjZURhdGE+ID0gW107XG4gICAgICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICAvLyAgICAgdmFyIHJhdyA9IG9iamVjdC5wcm9wZXJ0aWVzW1wiY29uZmlnXCIgKyBpXSBhcyBzdHJpbmc7XG4gICAgICAgIC8vICAgICBpZiAocmF3ICE9IG51bGwpIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBjb25maWcgPSByYXcuc3BsaXQoXCIsXCIpLm1hcChwYXJzZUZsb2F0KTtcbiAgICAgICAgLy8gICAgICAgICBmb3JjZURhdGFBcnJheS5wdXNoKFxuICAgICAgICAvLyAgICAgICAgICAgICBuZXcgRm9yY2VEYXRhKFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgY29uZmlnWzBdLFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgY29uZmlnWzFdICogRm9yY2VGYWN0b3J5LkZPUkNFX1NDQUxFLFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgY29uZmlnWzJdICogRm9yY2VGYWN0b3J5LkZPUkNFX1NDQUxFLFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgY29uZmlnWzNdLFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgY29uZmlnWzRdLFxuICAgICAgICAvLyAgICAgICAgICAgICApLFxuICAgICAgICAvLyAgICAgICAgICk7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBjb21wb25lbnRzLnB1c2gobmV3IEVudmlyb25tZW50Rm9yY2UoZm9yY2VEYXRhQXJyYXkpKTtcbiAgICAgICAgLy8gY29tcG9uZW50cy5wdXNoKG5ldyBXaW5kKDEvMTAwMCkpO1xuICAgICAgICAvLyBjb25zdCBmb3JjZSA9IGVuZ2luZS5jcmVhdGVFbnRpdHkoKTtcbiAgICAgICAgLy8gZW5naW5lLmFkZENvbXBvbmVudHNUb0VudGl0eShmb3JjZSxjb21wb25lbnRzKVxuICAgICAgICBlbmdpbmUuYWRkQ29tcG9uZW50c1RvRW50aXR5KGVudGl0eSwgY29tcG9uZW50cyk7XG4gICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3RteC9mYWN0b3JpZXMvV2F0ZXJGYWN0b3J5LnRzIiwiaW1wb3J0IHsgRW5naW5lIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2Vjcy9FbmdpbmVcIjtcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9lY3MvRW50aXR5XCI7XG5pbXBvcnQgeyBFeHRlbnRzIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9FeHRlbnRzXCI7XG5pbXBvcnQgeyBUaWxlR3JhcGhpY3MgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvZ3JhcGhpY3MvY29tcG9uZW50cy9UaWxlR3JhcGhpY3NcIjtcbmltcG9ydCB7IFBoeXNpY3NDb2xsaXNpb24gfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGh5c2ljcy9jb21wb25lbnRzL1BoeXNpY3NDb2xsaXNpb25cIjtcbmltcG9ydCB7IEZpeGVkIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9GaXhlZFwiO1xuaW1wb3J0IHsgRG9vciB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0Rvb3JcIjtcbmltcG9ydCB7IEFjdGl2ZSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvQWN0aXZlXCI7XG5pbXBvcnQgeyBUTVhPYmplY3QgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvdG14L1RNWE1hcFwiO1xuaW1wb3J0IHsgVE1YT2JqZWN0UG9zaXRpb24sIFRNWE9iamVjdEV4dGVudHMgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvdG14L1RNWENvbXBvbmVudFV0aWxzXCI7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvUG9zaXRpb25cIjtcbmltcG9ydCB7IEZpbHRlciB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9GaWx0ZXJcIjtcbmltcG9ydCB7IFRlc3RGaWx0ZXJzIH0gZnJvbSBcIi4uLy4uL2NvbmZpZy9GaWx0ZXJzXCI7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvU3RhdGVcIjtcbmltcG9ydCB7IFNpbXBsZUZTTVN0YXRlcyB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9haS9mc20vU2ltcGxlRlNNXCI7XG5pbXBvcnQgeyBTdGF0ZVVwZGF0ZXIgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL1N0YXRlVXBkYXRlclwiO1xuXG5leHBvcnQgY2xhc3MgRG9vckZhY3Rvcnkge1xuICAgIHN0YXRpYyBtYXBwaW5nOiBzdHJpbmcgPSBcImRvb3JcIjtcblxuICAgIHN0YXRpYyBzdGF0ZXM6IFNpbXBsZUZTTVN0YXRlcyA9IHtcbiAgICAgICAgb3BlbjogZnVuY3Rpb24oZW5naW5lOiBFbmdpbmUsIGVudGl0eTogRW50aXR5KSB7XG4gICAgICAgICAgICB2YXIgZG9vciA9IGVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBEb29yKTtcbiAgICAgICAgICAgIHZhciB0aWxlRGlzcGxheSA9IGVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBUaWxlR3JhcGhpY3MpO1xuICAgICAgICAgICAgdGlsZURpc3BsYXkuc2V0VGlsZUZyYW1lSWQoIGRvb3IudHlwZSArIFwiT3BlblwiKTtcbiAgICAgICAgICAgIHZhciBwYyA9IGVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBQaHlzaWNzQ29sbGlzaW9uKTtcbiAgICAgICAgICAgIHBjLnByb3h5LnJlc3BvbnNlQmlhcy54ID0gMDtcbiAgICAgICAgICAgIHBjLnByb3h5LmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGNsb3NlOiBmdW5jdGlvbihlbmdpbmU6IEVuZ2luZSwgZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgICAgICAgIHZhciBkb29yID0gZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShlbnRpdHksIERvb3IpO1xuICAgICAgICAgICAgdmFyIHRpbGVEaXNwbGF5ID0gZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShlbnRpdHksIFRpbGVHcmFwaGljcyk7XG4gICAgICAgICAgICB0aWxlRGlzcGxheS5zZXRUaWxlRnJhbWVJZChkb29yLnR5cGUgKyBcIkNsb3NlZFwiKTtcbiAgICAgICAgICAgIHZhciBwYyA9IGVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBQaHlzaWNzQ29sbGlzaW9uKTtcbiAgICAgICAgICAgIHBjLnByb3h5LnJlc3BvbnNlQmlhcy54ID0gMTtcbiAgICAgICAgICAgIHBjLnByb3h5LmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgc3RhdGljIGNyZWF0ZShlbmdpbmU6IEVuZ2luZSwgcG9zaXRpb246IFBvc2l0aW9uLCBleHRlbnRzOiBFeHRlbnRzLCBvcGVuOiBzdHJpbmcsIGNsb3NlZDogc3RyaW5nKTogRW50aXR5IHtcbiAgICAgICAgdmFyIGRvb3IgPSBlbmdpbmUuY3JlYXRlRW50aXR5KCk7XG4gICAgICAgIHZhciBmaWx0ZXIgPSBuZXcgRmlsdGVyKCk7XG4gICAgICAgIGZpbHRlci5ncm91cEluZGV4ID0gVGVzdEZpbHRlcnMuU09MSURfT0JKRUNUX0dST1VQO1xuICAgICAgICBlbmdpbmUuYWRkQ29tcG9uZW50c1RvRW50aXR5KGRvb3IsIFtcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgZXh0ZW50cyxcbiAgICAgICAgICAgIG5ldyBUaWxlR3JhcGhpY3MoY2xvc2VkKSxcbiAgICAgICAgICAgIG5ldyBQaHlzaWNzQ29sbGlzaW9uKGZhbHNlLCBudWxsLCBbXSksXG4gICAgICAgICAgICBuZXcgRml4ZWQoKSxcbiAgICAgICAgICAgIG5ldyBEb29yKFwiZG9vclwiLCBmYWxzZSwgXCJcIiksXG4gICAgICAgICAgICAvLyBuZXcgU3RhdGUoWydjbG9zZWQnLCdvcGVuJ10sMCxbXCJkb29yQVwiXSksXG4gICAgICAgICAgICBuZXcgU3RhdGUoRG9vckZhY3Rvcnkuc3RhdGVzLCBcIm9wZW5cIiwgdHJ1ZSksIC8vIFtcIm9wZW5cIiwgXCJjbG9zZVwiXSxbXCJkb29yQVwiXSksXG4gICAgICAgICAgICBuZXcgU3RhdGVVcGRhdGVyKFwiZG9vckFcIixbXCJvcGVuXCIsIFwiY2xvc2VcIl0pLFxuICAgICAgICAgICAgbmV3IEFjdGl2ZSgpLFxuICAgICAgICBdKTtcblxuICAgICAgICByZXR1cm4gZG9vcjtcbiAgICB9XG4gICAgc3RhdGljIG9uRGVzdHJveShlbmdpbmU6IEVuZ2luZSwgZW50aXR5OiBFbnRpdHkpIHt9XG4gICAgc3RhdGljIGNyZWF0ZVRNWEVudGl0eShlbmdpbmU6IEVuZ2luZSwgb2JqZWN0OiBUTVhPYmplY3QpOiBFbnRpdHkge1xuICAgICAgICBjb25zdCBleHRlbnRzID0gVE1YT2JqZWN0RXh0ZW50cyhvYmplY3QpO1xuICAgICAgICBleHRlbnRzLmhhbGZXaWR0aHMueCAvPSAyO1xuICAgICAgICByZXR1cm4gRG9vckZhY3RvcnkuY3JlYXRlKGVuZ2luZSwgVE1YT2JqZWN0UG9zaXRpb24ob2JqZWN0KSwgZXh0ZW50cywgXCJkb29yT3BlblwiLCBcImRvb3JDbG9zZWRcIik7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Rlc3QvZmFjdG9yaWVzL2l0ZW0vRG9vckZhY3RvcnkudHMiLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZWNzL1N5c3RlbVwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvU3RhdGVcIjtcbmltcG9ydCB7IE1lc3NhZ2VCdXMgfSBmcm9tIFwiLi4vLi4vdXRpbC9NZXNzYWdlQnVzXCI7XG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tIFwiLi4vLi4vZWNzL0VuZ2luZVwiO1xuXG5leHBvcnQgY2xhc3MgU3RhdGVTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIHB1YmxpYyB1cGRhdGVzOiBBcnJheTxFbnRpdHk+O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFtTdGF0ZV0pO1xuICAgICAgICB0aGlzLnVwZGF0ZXMgPSBuZXcgQXJyYXkoKTtcbiAgICB9XG5cbiAgICBvbkVudGl0eUFkZGVkKGVudGl0eTogRW50aXR5LCBzdGF0ZTogU3RhdGUpIHtcbiAgICAgICAgc3RhdGUub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcywgZW50aXR5KTtcbiAgICB9XG5cbiAgICBvbkVudGl0eVJlbW92ZWQoZW50aXR5OiBFbnRpdHksIHN0YXRlOiBTdGF0ZSkge31cblxuICAgIHVwZGF0ZUFsbEVudGl0aWVzKCkge1xuICAgICAgICB3aGlsZSAodGhpcy51cGRhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBlbnRpdHkgPSB0aGlzLnVwZGF0ZXMucG9wKCk7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLmVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBTdGF0ZSk7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IG51bGwgfHwgc3RhdGUuY3VycmVudFN0YXRlID09PSBudWxsKSByZXR1cm47XG4gICAgICAgICAgICAvLyBpZiAoc3RhdGUuc3RhdGVzW3N0YXRlLmN1cnJlbnRTdGF0ZV0pIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5zdGF0ZXNbc3RhdGUuY3VycmVudFN0YXRlXSh0aGlzLmVuZ2luZSwgZW50aXR5KTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5tZXNzYWdlcy5kaXNwYXRjaChlbnRpdHksIHN0YXRlLmN1cnJlbnRTdGF0ZSk7XG4gICAgICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgIGRlYnVnZ2VyO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG9uQ2hhbmdlKGVudGl0eTogRW50aXR5KSB7XG4gICAgICAgIHRoaXMudXBkYXRlcy5wdXNoKGVudGl0eSk7XG4gICAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvY29yZS9zeXN0ZW1zL1N0YXRlU3lzdGVtLnRzIiwiaW1wb3J0IHsgU2lnbmFsIH0gZnJvbSBcIi4uL3NpZ25hbHMvU2lnbmFsXCI7XG5cbmV4cG9ydCBjbGFzcyBNZXNzYWdlQnVzIHtcblxuICAgIHByaXZhdGUgYnVzOk1hcDxzdHJpbmcsIFNpZ25hbD47XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5idXMgPSBuZXcgTWFwKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlZ2lzdGVyQ2hhbm5lbHMoY2hhbm5lbHM6QXJyYXk8c3RyaW5nPiwgbGlzdGVuZXI6YW55KSB7XG4gICAgICAgIGNoYW5uZWxzLmZvckVhY2gobmFtZT0+e1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJ1cy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1cy5zZXQobmFtZSxuZXcgU2lnbmFsKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5idXMuZ2V0KG5hbWUpLmFkZChsaXN0ZW5lcik7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHVibGljIHVucmVnaXN0ZXJDaGFubmVscyhjaGFubmVsczpBcnJheTxzdHJpbmc+LCBsaXN0ZW5lcjphbnkpIHtcbiAgICAgICAgY2hhbm5lbHMuZm9yRWFjaChuYW1lPT57XG4gICAgICAgICAgICBpZiAodGhpcy5idXMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5idXMuZ2V0KG5hbWUpLnJlbW92ZShsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHVibGljIHRyaWdnZXIoY2hhbm5lbDpzdHJpbmcsIGRhdGE6YW55KSB7XG4gICAgICAgIGlmICh0aGlzLmJ1cy5oYXMoY2hhbm5lbCkpIHtcbiAgICAgICAgICAgIHRoaXMuYnVzLmdldChjaGFubmVsKS5kaXNwYXRjaChkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS91dGlsL01lc3NhZ2VCdXMudHMiLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZWNzL1N5c3RlbVwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvU3RhdGVcIjtcbmltcG9ydCB7IE1lc3NhZ2VCdXMgfSBmcm9tIFwiLi4vLi4vdXRpbC9NZXNzYWdlQnVzXCI7XG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tIFwiLi4vLi4vZWNzL0VuZ2luZVwiO1xuaW1wb3J0IHsgU3RhdGVVcGRhdGVyIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvU3RhdGVVcGRhdGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBTdGF0ZVVwZGF0ZVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gICAgcHVibGljIGJ1czogTWVzc2FnZUJ1cztcblxuICAgIGNvbnN0cnVjdG9yKGJ1czogTWVzc2FnZUJ1cykge1xuICAgICAgICBzdXBlcihbU3RhdGUsIFN0YXRlVXBkYXRlcl0pO1xuICAgICAgICB0aGlzLmJ1cyA9IGJ1cztcbiAgICB9XG5cbiAgICBvbkVudGl0eUFkZGVkKGVudGl0eTogRW50aXR5LCBzdGF0ZTogU3RhdGUsIHN0YXRlVXBkYXRlcjogU3RhdGVVcGRhdGVyKSB7XG4gICAgICAgIHN0YXRlVXBkYXRlci5vbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzLCBlbnRpdHkpO1xuICAgICAgICB0aGlzLmJ1cy5yZWdpc3RlckNoYW5uZWxzKFtzdGF0ZVVwZGF0ZXIuY2hhbm5lbF0sIHN0YXRlVXBkYXRlci5vbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgb25FbnRpdHlSZW1vdmVkKGVudGl0eTogRW50aXR5LCBzdGF0ZTogU3RhdGUsIHN0YXRlVXBkYXRlcjogU3RhdGVVcGRhdGVyKSB7XG4gICAgICAgIHRoaXMuYnVzLnVucmVnaXN0ZXJDaGFubmVscyhbc3RhdGVVcGRhdGVyLmNoYW5uZWxdLCBzdGF0ZVVwZGF0ZXIub25DaGFuZ2UpO1xuICAgIH1cblxuICAgIHVwZGF0ZUFsbEVudGl0aWVzKCkge31cblxuICAgIHB1YmxpYyBvbkNoYW5nZShlbnRpdHk6IEVudGl0eSkge1xuICAgICAgICB2YXIgc3RhdGU6IFN0YXRlID0gdGhpcy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGVudGl0eSwgU3RhdGUpO1xuICAgICAgICB2YXIgc3RhdGVVcGRhdGVyID0gdGhpcy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGVudGl0eSwgU3RhdGVVcGRhdGVyKTtcblxuICAgICAgICBsZXQgY3VycmVudEluZGV4ID0gc3RhdGVVcGRhdGVyLnNlcXVlbmNlLmluZGV4T2Yoc3RhdGUuY3VycmVudFN0YXRlKTtcbiAgICAgICAgY29uc3QgbmV4dFN0YXRlID0gKytjdXJyZW50SW5kZXggJSBzdGF0ZVVwZGF0ZXIuc2VxdWVuY2UubGVuZ3RoO1xuICAgICAgICBzdGF0ZS5zZXRTdGF0ZShzdGF0ZVVwZGF0ZXIuc2VxdWVuY2VbbmV4dFN0YXRlXSk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2NvcmUvc3lzdGVtcy9TdGF0ZVVwZGF0ZVN5c3RlbS50cyIsImltcG9ydCB7IEVuZ2luZSB9IGZyb20gXCIuLi9lY3MvRW5naW5lXCI7XG5pbXBvcnQgeyBlbmdpbmVUb0hUTUwgfSBmcm9tIFwiLi9IVE1MVXRpbHNcIjtcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi8uLi90ZXN0L2NvbXBvbmVudHMvUGxheWVyXCI7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi9jb3JlL2NvbXBvbmVudHMvUG9zaXRpb25cIjtcbmltcG9ydCB7IENoaWNrZW5GYWN0b3J5IH0gZnJvbSBcIi4uLy4uL3Rlc3QvZmFjdG9yaWVzL2NoYXJhY3Rlci9DaGlja2VuRmFjdG9yeVwiO1xuaW1wb3J0IHsgUGh5c2ljc0JvZHkgfSBmcm9tIFwiLi4vcGh5c2ljcy9jb21wb25lbnRzL1BoeXNpY3NCb2R5XCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgUmFuZG9tSW50ZWdlciB9IGZyb20gXCIuLi91dGlsL1JhbmRvbVwiO1xuaW1wb3J0IHsgR2xhemVFbmdpbmUgfSBmcm9tIFwiLi4vR2xhemVFbmdpbmVcIjtcblxuZXhwb3J0IGNvbnN0IGxpc3RlbkRlYnVnQnV0dG9ucyA9IChlbmdpbmU6IEVuZ2luZSkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVidWdEdW1wXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldE5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlYnVnUmVzdWx0XCIpO1xuICAgICAgICBjb25zdCBodG1sRHVtcCA9IGVuZ2luZVRvSFRNTChlbmdpbmUsIDAsIDEwMCk7XG4gICAgICAgIHRhcmdldE5vZGUuaW5uZXJIVE1MID0gaHRtbER1bXA7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWJ1Z0NoaWNrZW5zXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBsYXllciA9IGVuZ2luZS5xdWVyeShbUGxheWVyXSlbMF07XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShwbGF5ZXIsIFBvc2l0aW9uKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWNrZW4gPSBDaGlja2VuRmFjdG9yeS5jcmVhdGUoZW5naW5lLCBwb3NpdGlvbi5jbG9uZSgpKTtcbiAgICAgICAgICAgIGNvbnN0IHBoeXNpY3MgPSBlbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGNoaWNrZW4sIFBoeXNpY3NCb2R5KTtcblxuICAgICAgICAgICAgcGh5c2ljcy5ib2R5LmFkZEZvcmNlKG5ldyBWZWN0b3IyKFJhbmRvbUludGVnZXIoLTEwMDAwMCwgMTAwMDAwKSwgUmFuZG9tSW50ZWdlcigtMTAwMDAwLCAtNTAwMCkpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVidWdEcmF3XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQ6YW55KSA9PiB7XG4gICAgICAgIEdsYXplRW5naW5lLnBhcmFtcy5kZWJ1ZyA9IGV2ZW50LnRhcmdldC5jaGVja2VkO1xuICAgIH0pO1xuXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3Rvb2xzL0hUTUxEZXZUb29scy50cyIsImltcG9ydCB7IEVuZ2luZSB9IGZyb20gXCIuLi9lY3MvRW5naW5lXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vZWNzL0VudGl0eVwiO1xuXG5leHBvcnQgY29uc3QgZW5naW5lVG9IVE1MID0gKGVuZ2luZTogRW5naW5lLCBzdGFydDogbnVtYmVyLCBjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3Qga2V5cyA9IFsuLi5lbmdpbmUuY29tcG9uZW50cy5rZXlzKCldLnNvcnQoKTtcbiAgICByZXR1cm4gW1xuICAgICAgICBgPHRhYmxlIGNsYXNzPVwidGFibGUgdGFibGUtaGVhZGVyLXJvdGF0ZWRcIj5gLFxuICAgICAgICBoZWFkZXIoa2V5cyksXG4gICAgICAgIGA8dGJvZHk+YCxcbiAgICAgICAgZ2V0RW50aXR5UmFuZ2Uoc3RhcnQsIGNvdW50LCBrZXlzLCBlbmdpbmUuY29tcG9uZW50cyksXG4gICAgICAgIGA8L3Rib2R5PmAsXG4gICAgXS5qb2luKFwiXCIpO1xufTtcblxuY29uc3QgaGVhZGVyID0gKGtleXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgYDx0aGVhZD5gLFxuICAgICAgICBgPHRyPmAsXG4gICAgICAgIGA8dGg+PC90aD5gLFxuICAgICAgICBrZXlzLm1hcChrZXkgPT4gYDx0aCBjbGFzcz1cInJvdGF0ZVwiPjxkaXY+PHNwYW4+JHtrZXl9PC9zcGFuPjwvZGl2PjwvdGg+YCkuam9pbihcIlwiKSxcbiAgICAgICAgYDwvdHI+YCxcbiAgICAgICAgYDwvdGhlYWQ+YCxcbiAgICBdLmpvaW4oXCJcIik7XG59O1xuXG5jb25zdCBnZXRFbnRpdHlSYW5nZSA9IChzdGFydDogbnVtYmVyLCBjb3VudDogbnVtYmVyLCBrZXlzOiBzdHJpbmdbXSwgY29tcG9uZW50czogTWFwPHN0cmluZywgYW55W10+KSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZm9yIChsZXQgZW50aXR5ID0gc3RhcnQ7IGVudGl0eSA8IHN0YXJ0ICsgY291bnQ7IGVudGl0eSsrKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGVudGl0eVJvdyhlbnRpdHksIGtleXMsIGNvbXBvbmVudHMpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xufTtcblxuY29uc3QgZW50aXR5Um93ID0gKGVudGl0eTogRW50aXR5LCBrZXlzOiBzdHJpbmdbXSwgY29tcG9uZW50czogTWFwPHN0cmluZywgYW55W10+KSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgYDx0cj5gLFxuICAgICAgICBgPHRoIGNsYXNzPVwicm93LWhlYWRlclwiPiR7ZW50aXR5fTwvdGg+YCxcbiAgICAgICAga2V5cy5tYXAoa2V5ID0+IChjb21wb25lbnRzLmdldChrZXkpW2VudGl0eV0gPT09IG51bGwgPyBcIjx0ZD48L3RkPlwiIDogXCI8dGQ+WDwvdGQ+XCIpKS5qb2luKFwiXCIpLFxuICAgICAgICBgPC90cj5gLFxuICAgIF0uam9pbihcIlwiKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvdG9vbHMvSFRNTFV0aWxzLnRzIiwiaW1wb3J0IHsgU2ltcGxlRlNNU3RhdGVzIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2FpL2ZzbS9TaW1wbGVGU01cIjtcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9lY3MvRW50aXR5XCI7XG5pbXBvcnQgeyBFbmdpbmUgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvZWNzL0VuZ2luZVwiO1xuaW1wb3J0IHsgRGVzdHJveSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvRGVzdHJveVwiO1xuaW1wb3J0IHsgTWF0ZXJpYWwgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGh5c2ljcy9NYXRlcmlhbFwiO1xuaW1wb3J0IHsgQm9keSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL0JvZHlcIjtcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9Qb3NpdGlvblwiO1xuaW1wb3J0IHsgRXh0ZW50cyB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvRXh0ZW50c1wiO1xuaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvZ3JhcGhpY3MvY29tcG9uZW50cy9HcmFwaGljc1wiO1xuaW1wb3J0IHsgR3JhcGhpY3NBbmltYXRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvZ3JhcGhpY3MvY29tcG9uZW50cy9HcmFwaGljc0FuaW1hdGlvblwiO1xuaW1wb3J0IHsgUGh5c2ljc0NvbGxpc2lvbiB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL2NvbXBvbmVudHMvUGh5c2ljc0NvbGxpc2lvblwiO1xuaW1wb3J0IHsgUGh5c2ljc0JvZHkgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGh5c2ljcy9jb21wb25lbnRzL1BoeXNpY3NCb2R5XCI7XG5pbXBvcnQgeyBNb3ZlYWJsZSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvTW92ZWFibGVcIjtcbmltcG9ydCB7IEFjdGl2ZSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvQWN0aXZlXCI7XG5pbXBvcnQgeyBMaWdodCB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9ncmFwaGljcy9jb21wb25lbnRzL0xpZ2h0XCI7XG5pbXBvcnQgeyBWaWV3YWJsZSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvVmlld2FibGVcIjtcbmltcG9ydCB7IEZpbHRlciB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9GaWx0ZXJcIjtcbmltcG9ydCB7IENoaWNrZW4gfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9DaGlja2VuXCI7XG5cbmV4cG9ydCBjbGFzcyBDaGlja2VuRmFjdG9yeSB7XG4gICAgc3RhdGljIHN0YXRlczogU2ltcGxlRlNNU3RhdGVzID0ge1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbihlbmdpbmU6IEVuZ2luZSwgZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgICAgICAgIGlmIChlbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGVudGl0eSwgRGVzdHJveSkpIHJldHVybjtcbiAgICAgICAgICAgIGVuZ2luZS5hZGRDb21wb25lbnRzVG9FbnRpdHkoZW50aXR5LCBbbmV3IERlc3Ryb3koMSldKTtcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgc3RhdGljIGNyZWF0ZShlbmdpbmU6IEVuZ2luZSwgcG9zaXRpb246IFBvc2l0aW9uKTogRW50aXR5IHtcbiAgICAgICAgY29uc3QgY2hpY2tlbiA9IGVuZ2luZS5jcmVhdGVFbnRpdHkoKTtcblxuICAgICAgICB2YXIgY2hpY2tlbkJvZHkgPSBuZXcgQm9keShNYXRlcmlhbC5SVUJCRVIpO1xuICAgICAgICBjaGlja2VuQm9keS5zZXRNYXNzKDAuMSk7XG4gICAgICAgIGNoaWNrZW5Cb2R5LnNldEJvdW5jZXMoNyk7XG4gICAgICAgIGNoaWNrZW5Cb2R5Lm1heFNjYWxhclZlbG9jaXR5ID0gMTAwMDtcblxuICAgICAgICBlbmdpbmUuYWRkQ29tcG9uZW50c1RvRW50aXR5KGNoaWNrZW4sIFtcbiAgICAgICAgICAgIG5ldyBDaGlja2VuKCksXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIG5ldyBFeHRlbnRzKDEyLCAxMiksXG4gICAgICAgICAgICBuZXcgR3JhcGhpY3MoXCJjaGlja2VuXCIpLFxuICAgICAgICAgICAgbmV3IEdyYXBoaWNzQW5pbWF0aW9uKFwiY2hpY2tlblwiLCBcIndhbGtcIiksXG4gICAgICAgICAgICBuZXcgUGh5c2ljc0NvbGxpc2lvbihmYWxzZSwgbmV3IEZpbHRlcigpLCBbXSksXG4gICAgICAgICAgICBuZXcgUGh5c2ljc0JvZHkoY2hpY2tlbkJvZHksIHRydWUpLFxuICAgICAgICAgICAgbmV3IE1vdmVhYmxlKCksXG4gICAgICAgICAgICBuZXcgQWN0aXZlKCksXG4gICAgICAgICAgICBuZXcgTGlnaHQoNjQsIDEsIDEsIDEsIDI1NSwgMjU1LCAyNTUpLFxuICAgICAgICAgICAgbmV3IFZpZXdhYmxlKCksXG4gICAgICAgICAgICAvLyBuZXcgQ29udHJvbGxhYmxlKDE1MCksXG4gICAgICAgICAgICAvLyBuZXcgUGFydGljbGVFbWl0dGVyKFtuZXcgRXhwbG9zaW9uKDQsMTAwKV0pXG4gICAgICAgIF0pO1xuICAgICAgICByZXR1cm4gY2hpY2tlbjtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdGVzdC9mYWN0b3JpZXMvY2hhcmFjdGVyL0NoaWNrZW5GYWN0b3J5LnRzIiwiaW1wb3J0IHsgSUJyb2FkcGhhc2UsIFF1ZXJ5Q2FsbGJhY2sgfSBmcm9tIFwiLi9JQnJvYWRwaGFzZVwiO1xuaW1wb3J0IHsgQkZQcm94eSB9IGZyb20gXCIuLi9CRlByb3h5XCI7XG5pbXBvcnQgeyBDb2xsaWRlLCBSYXlBQUJCIH0gZnJvbSBcIi4uL0ludGVyc2VjdFwiO1xuaW1wb3J0IHsgVGlsZU1hcENvbGxpc2lvbiB9IGZyb20gXCIuL1RpbGVNYXBDb2xsaXNpb25cIjtcbmltcG9ydCB7IEFBQkIgfSBmcm9tIFwiLi4vLi4vLi4vZ2VvbS9BQUJCXCI7XG5pbXBvcnQgeyBSYXkgfSBmcm9tIFwiLi4vUmF5XCI7XG5pbXBvcnQgeyBEeW5hbWljVHJlZSB9IGZyb20gXCIuL0R5bmFtaWNUcmVlXCI7XG5pbXBvcnQgeyBBQUJCMiB9IGZyb20gXCIuLi8uLi8uLi9nZW9tL0FBQkIyXCI7XG5cbmV4cG9ydCBjbGFzcyBEeW5hbWljVHJlZUJyb2FkcGhhc2UgaW1wbGVtZW50cyBJQnJvYWRwaGFzZSB7XG4gICAgcHVibGljIHN0YXRpY1Byb3hpZXM6IEFycmF5PEJGUHJveHk+O1xuICAgIHB1YmxpYyBkeW5hbWljUHJveGllczogQXJyYXk8QkZQcm94eT47XG4gICAgcHVibGljIHNsZWVwaW5nUHJveGllczogQXJyYXk8QkZQcm94eT47XG5cbiAgICBwdWJsaWMgbWFwOiBUaWxlTWFwQ29sbGlzaW9uO1xuXG4gICAgcHVibGljIHRyZWU6IER5bmFtaWNUcmVlO1xuXG4gICAgY29uc3RydWN0b3IobWFwOiBUaWxlTWFwQ29sbGlzaW9uKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLnN0YXRpY1Byb3hpZXMgPSBuZXcgQXJyYXk8QkZQcm94eT4oKTtcbiAgICAgICAgdGhpcy5keW5hbWljUHJveGllcyA9IG5ldyBBcnJheTxCRlByb3h5PigpO1xuICAgICAgICB0aGlzLnNsZWVwaW5nUHJveGllcyA9IG5ldyBBcnJheTxCRlByb3h5PigpO1xuXG4gICAgICAgIHRoaXMudHJlZSA9IG5ldyBEeW5hbWljVHJlZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRQcm94eShwcm94eTogQkZQcm94eSkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gcHJveHkuaXNTdGF0aWMgPyB0aGlzLnN0YXRpY1Byb3hpZXMgOiB0aGlzLmR5bmFtaWNQcm94aWVzO1xuICAgICAgICB0YXJnZXQucHVzaChwcm94eSk7XG4gICAgICAgIHRoaXMudHJlZS50cmFja0JvZHkocHJveHkpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVQcm94eShwcm94eTogQkZQcm94eSkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gcHJveHkuaXNTdGF0aWMgPyB0aGlzLnN0YXRpY1Byb3hpZXMgOiB0aGlzLmR5bmFtaWNQcm94aWVzO1xuICAgICAgICB0YXJnZXQuc3BsaWNlKHRhcmdldC5pbmRleE9mKHByb3h5KSwgMSk7XG4gICAgICAgIHRoaXMudHJlZS51bnRyYWNrQm9keShwcm94eSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNvbGxpZGUoKSB7XG4gICAgICAgIC8vTG9vcCBiYWNrIG92ZXIgdGhlIHByb3hpZXNcbiAgICAgICAgdmFyIGkgPSB0aGlzLmR5bmFtaWNQcm94aWVzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKC0taSA+PSAwKSB7XG4gICAgICAgICAgICB2YXIgZHluYW1pY1Byb3h5ID0gdGhpcy5keW5hbWljUHJveGllc1tpXTtcblxuICAgICAgICAgICAgLy9IYXMgYm9keSAodGhlcmVmb3JlIGlzIGluIGNvbnRyb2wpXG4gICAgICAgICAgICBpZiAoZHluYW1pY1Byb3h5LmJvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICghZHluYW1pY1Byb3h5LmlzU2Vuc29yKVxuICAgICAgICAgICAgICAgICAgICAvL0ZpcnN0IHRlc3QgYWdhaW5zdCBtYXBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAudGVzdENvbGxpc2lvbihkeW5hbWljUHJveHkpO1xuICAgICAgICAgICAgICAgIC8vaWYgaXQgY2FuIHNsZWVwLCBzbGVlcCBpdFxuICAgICAgICAgICAgICAgIGlmIChkeW5hbWljUHJveHkuYm9keS5jYW5TbGVlcCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNsZWVwKGR5bmFtaWNQcm94eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnRyZWUudXBkYXRlQm9keShkeW5hbWljUHJveHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGsgPSB0aGlzLmR5bmFtaWNQcm94aWVzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKC0tayA+PSAwKSB7XG4gICAgICAgICAgICB2YXIgZHluYW1pY1Byb3h5ID0gdGhpcy5keW5hbWljUHJveGllc1trXTtcbiAgICAgICAgICAgIHRoaXMudHJlZS5xdWVyeShkeW5hbWljUHJveHkpO1xuICAgICAgICAgICAgLy8gdGhpcy50cmVlLnF1ZXJ5KGR5bmFtaWNQcm94eSwgKG90aGVyOiBCRlByb3h5KSA9PiB7XG4gICAgICAgICAgICAvLyAgICAgQ29sbGlkZShkeW5hbWljUHJveHksIG90aGVyKTtcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBRdWVyeUFyZWEoYWFiYjogQUFCQiwgcmVzdWx0OiBRdWVyeUNhbGxiYWNrLCBjaGVja0R5bmFtaWM6IGJvb2xlYW4gPSB0cnVlLCBjaGVja1N0YXRpYzogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgYXJlYSA9IG5ldyBBQUJCMigpO1xuICAgICAgICBhcmVhLmNvcHlBQUJCKGFhYmIpO1xuICAgICAgICB0aGlzLnRyZWUucXVlcnlBcmVhKGFyZWEscmVzdWx0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgQ2FzdFJheShyYXk6IFJheSwgcmVzdWx0OiBRdWVyeUNhbGxiYWNrLCBjaGVja0R5bmFtaWM6IGJvb2xlYW4gPSB0cnVlLCBjaGVja1N0YXRpYzogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5tYXAuY2FzdFJheShyYXkpO1xuXG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgLy8gdGhpcy50cmVlLnJheUNhc3RRdWVyeShyYXksIDEwMDAsIChvdGhlcjogQkZQcm94eSkgPT4ge1xuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCJ6YXBcIik7XG4gICAgICAgIC8vICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIH0pO1xuXG4gICAgICAgIC8vIGlmIChjaGVja0R5bmFtaWMpIHtcbiAgICAgICAgLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zbGVlcGluZ1Byb3hpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBwcm94eSA9IHRoaXMuc2xlZXBpbmdQcm94aWVzW2ldO1xuICAgICAgICAvLyAgICAgICAgIGlmICghcHJveHkuaXNTZW5zb3IpIFJheUFBQkIocmF5LCBwcm94eSk7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3hpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBwcm94eSA9IHRoaXMuZHluYW1pY1Byb3hpZXNbaV07XG4gICAgICAgIC8vICAgICAgICAgaWYgKCFwcm94eS5pc1NlbnNvcikgUmF5QUFCQihyYXksIHByb3h5KTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIGlmIChjaGVja1N0YXRpYykge1xuICAgICAgICAvLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3hpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBwcm94eSA9IHRoaXMuc3RhdGljUHJveGllc1tpXTtcbiAgICAgICAgLy8gICAgICAgICBpZiAoIXByb3h5LmlzU2Vuc29yKSBSYXlBQUJCKHJheSwgcHJveHkpO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9XG4gICAgfVxuXG4gICAgcHVibGljIHdha2UocHJveHk6IEJGUHJveHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgICAvLyBUT0RPIGZpeCBzbGVlcGluZ1xuICAgICAgICAvLyB0aGlzLnNsZWVwaW5nUHJveGllcy5zcGxpY2UodGhpcy5zbGVlcGluZ1Byb3hpZXMuaW5kZXhPZihwcm94eSksIDEpO1xuICAgICAgICAvLyBwcm94eS5ib2R5LmlzU2xlZXBpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gdGhpcy5keW5hbWljUHJveGllcy5wdXNoKHByb3h5KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2xlZXAocHJveHk6IEJGUHJveHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgICAvLyBUT0RPIGZpeCBzbGVlcGluZ1xuICAgICAgICAvLyB0aGlzLmR5bmFtaWNQcm94aWVzLnNwbGljZSh0aGlzLmR5bmFtaWNQcm94aWVzLmluZGV4T2YocHJveHkpLCAxKTtcbiAgICAgICAgLy8gcHJveHkuYm9keS5pc1NsZWVwaW5nID0gdHJ1ZTtcbiAgICAgICAgLy8gdGhpcy5zbGVlcGluZ1Byb3hpZXMucHVzaChwcm94eSk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3BoeXNpY3MvY29sbGlzaW9uL2Jyb2FkcGhhc2UvRHluYW1pY1RyZWVCcm9hZHBoYXNlLnRzIiwiaW1wb3J0IHsgQUFCQjIgfSBmcm9tIFwiLi4vLi4vLi4vZ2VvbS9BQUJCMlwiO1xuaW1wb3J0IHsgQkZQcm94eSB9IGZyb20gXCIuLi9CRlByb3h5XCI7XG5pbXBvcnQgeyBSYXkgfSBmcm9tIFwiLi4vUmF5XCI7XG5pbXBvcnQgeyBSYXlBQUJCLCBDb2xsaWRlIH0gZnJvbSBcIi4uL0ludGVyc2VjdFwiO1xuaW1wb3J0IHsgRGVidWdSZW5kZXJlciB9IGZyb20gXCIuLi8uLi8uLi9ncmFwaGljcy9yZW5kZXIvZGVidWcvRGVidWdSZW5kZXJlclwiO1xuaW1wb3J0IHsgUG9vbCB9IGZyb20gXCIuLi8uLi8uLi91dGlsL1Bvb2xcIjtcblxuY29uc3QgYm91bmRzUGFkZGluZzogbnVtYmVyID0gNTtcbmNvbnN0IGR5bmFtaWNUcmVlVmVsb2NpdHlNdWx0aXBseWVyOiBudW1iZXIgPSAzO1xuXG5leHBvcnQgY2xhc3MgVHJlZU5vZGUge1xuICAgIHB1YmxpYyBwYXJlbnQ6IFRyZWVOb2RlO1xuICAgIHB1YmxpYyBsZWZ0OiBUcmVlTm9kZTtcbiAgICBwdWJsaWMgcmlnaHQ6IFRyZWVOb2RlO1xuICAgIHB1YmxpYyBib3VuZHM6IEFBQkIyO1xuICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcjtcbiAgICBwdWJsaWMgYm9keTogQkZQcm94eTtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmVudD86IFRyZWVOb2RlKSB7XG4gICAgICAgIHRoaXMucmVzZXQocGFyZW50KTtcbiAgICB9XG5cbiAgICByZXNldChwYXJlbnQ/OiBUcmVlTm9kZSkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudCB8fCBudWxsO1xuICAgICAgICB0aGlzLmJvZHkgPSBudWxsO1xuICAgICAgICB0aGlzLmJvdW5kcyA9IG5ldyBBQUJCMigpO1xuICAgICAgICB0aGlzLmxlZnQgPSBudWxsO1xuICAgICAgICB0aGlzLnJpZ2h0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0xlYWYoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhdGhpcy5sZWZ0ICYmICF0aGlzLnJpZ2h0O1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIER5bmFtaWNUcmVlIHtcblxuICAgIHB1YmxpYyByb290OiBUcmVlTm9kZTtcbiAgICBwdWJsaWMgbm9kZXM6IE1hcDxudW1iZXIsIFRyZWVOb2RlPjtcbiAgICBwdWJsaWMgdGVtcEJvdW5kczogQUFCQjI7XG4gICAgcHVibGljIG5vZGVQb29sOlBvb2w8VHJlZU5vZGU+O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyB3b3JsZEJvdW5kczogQUFCQjIgPSBuZXcgQUFCQjIoLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFKSxcbiAgICApIHtcbiAgICAgICAgdGhpcy5yb290ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ub2RlcyA9IG5ldyBNYXAoKTsgLy97fTtcbiAgICAgICAgdGhpcy50ZW1wQm91bmRzID0gbmV3IEFBQkIyKCk7XG4gICAgICAgIHRoaXMubm9kZVBvb2wgPSBuZXcgUG9vbCgoKT0+bmV3IFRyZWVOb2RlKCkpO1xuICAgICAgICB0aGlzLm5vZGVQb29sLmFkZENhcGFjaXR5KDEwMDApO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5zZXJ0Tm9kZShsZWFmOiBUcmVlTm9kZSk6IHZvaWQge1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gbm9kZXMgaW4gdGhlIHRyZWUsIG1ha2UgdGhpcyB0aGUgcm9vdCBsZWFmXG4gICAgICAgIGlmICh0aGlzLnJvb3QgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IGxlYWY7XG4gICAgICAgICAgICB0aGlzLnJvb3QucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlYXJjaCB0aGUgdHJlZSBmb3IgYSBub2RlIHRoYXQgaXMgbm90IGEgbGVhZiBhbmQgZmluZCB0aGUgYmVzdCBwbGFjZSB0byBpbnNlcnRcbiAgICAgICAgdmFyIGxlYWZBQUJCID0gbGVhZi5ib3VuZHM7XG4gICAgICAgIHZhciBjdXJyZW50Um9vdCA9IHRoaXMucm9vdDtcbiAgICAgICAgd2hpbGUgKCFjdXJyZW50Um9vdC5pc0xlYWYoKSkge1xuICAgICAgICAgICAgY29uc3QgbGVmdCA9IGN1cnJlbnRSb290LmxlZnQ7XG4gICAgICAgICAgICBjb25zdCByaWdodCA9IGN1cnJlbnRSb290LnJpZ2h0O1xuXG4gICAgICAgICAgICBjb25zdCBhcmVhID0gY3VycmVudFJvb3QuYm91bmRzLnBlcmltZXRlcigpO1xuICAgICAgICAgICAgLy8gdmFyIGNvbWJpbmVkQUFCQiA9IGN1cnJlbnRSb290LmJvdW5kcy5jb21iaW5lKGxlYWZBQUJCKTtcbiAgICAgICAgICAgIC8vIHZhciBjb21iaW5lZEFyZWEgPSBjb21iaW5lZEFBQkIucGVyaW1ldGVyKCk7XG4gICAgICAgICAgICBjb25zdCBjb21iaW5lZEFyZWEgPSB0aGlzLnRlbXBCb3VuZHMuY29tYmluZTIoY3VycmVudFJvb3QuYm91bmRzLCBsZWFmQUFCQikucGVyaW1ldGVyKCk7XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBjb3N0IGhldXJpc3RpYyBmb3IgY3JlYXRpbmcgYSBuZXcgcGFyZW50IGFuZCBsZWFmXG4gICAgICAgICAgICBjb25zdCBjb3N0ID0gMiAqIGNvbWJpbmVkQXJlYTtcblxuICAgICAgICAgICAgLy8gTWluaW11bSBjb3N0IG9mIHB1c2hpbmcgdGhlIGxlYWYgZG93biB0aGUgdHJlZVxuICAgICAgICAgICAgY29uc3QgaW5oZXJpdGFuY2VDb3N0ID0gMiAqIChjb21iaW5lZEFyZWEgLSBhcmVhKTtcblxuICAgICAgICAgICAgLy8gQ29zdCBvZiBkZXNjZW5kaW5nXG4gICAgICAgICAgICB2YXIgbGVmdENvc3QgPSAwO1xuICAgICAgICAgICAgY29uc3QgbGVmdENvbWJpbmVkUGVyaW1ldGVyID0gdGhpcy50ZW1wQm91bmRzLmNvbWJpbmUyKGxlYWZBQUJCLCBsZWZ0LmJvdW5kcykucGVyaW1ldGVyKCk7IC8vIGxlYWZBQUJCLmNvbWJpbmUobGVmdC5ib3VuZHMpO1xuICAgICAgICAgICAgdmFyIG5ld0FyZWEgPSAwO1xuICAgICAgICAgICAgdmFyIG9sZEFyZWEgPSAwO1xuICAgICAgICAgICAgaWYgKGxlZnQuaXNMZWFmKCkpIHtcbiAgICAgICAgICAgICAgICBsZWZ0Q29zdCA9IGxlZnRDb21iaW5lZFBlcmltZXRlciArIGluaGVyaXRhbmNlQ29zdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2xkQXJlYSA9IGxlZnQuYm91bmRzLnBlcmltZXRlcigpO1xuICAgICAgICAgICAgICAgIG5ld0FyZWEgPSBsZWZ0Q29tYmluZWRQZXJpbWV0ZXI7XG4gICAgICAgICAgICAgICAgbGVmdENvc3QgPSBuZXdBcmVhIC0gb2xkQXJlYSArIGluaGVyaXRhbmNlQ29zdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJpZ2h0Q29zdCA9IDA7XG4gICAgICAgICAgICBjb25zdCByaWdodENvbWJpbmVkUGVyaW1ldGVyID0gdGhpcy50ZW1wQm91bmRzLmNvbWJpbmUyKGxlYWZBQUJCLCByaWdodC5ib3VuZHMpLnBlcmltZXRlcigpOyAvLyBsZWFmQUFCQi5jb21iaW5lKHJpZ2h0LmJvdW5kcyk7XG4gICAgICAgICAgICBpZiAocmlnaHQuaXNMZWFmKCkpIHtcbiAgICAgICAgICAgICAgICByaWdodENvc3QgPSByaWdodENvbWJpbmVkUGVyaW1ldGVyICsgaW5oZXJpdGFuY2VDb3N0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvbGRBcmVhID0gcmlnaHQuYm91bmRzLnBlcmltZXRlcigpO1xuICAgICAgICAgICAgICAgIG5ld0FyZWEgPSByaWdodENvbWJpbmVkUGVyaW1ldGVyO1xuICAgICAgICAgICAgICAgIHJpZ2h0Q29zdCA9IG5ld0FyZWEgLSBvbGRBcmVhICsgaW5oZXJpdGFuY2VDb3N0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjb3N0IGlzIGFjY2VwdGFibGVcbiAgICAgICAgICAgIGlmIChjb3N0IDwgbGVmdENvc3QgJiYgY29zdCA8IHJpZ2h0Q29zdCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBEZXNjZW5kIHRvIHRoZSBkZXB0aHNcbiAgICAgICAgICAgIGlmIChsZWZ0Q29zdCA8IHJpZ2h0Q29zdCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRSb290ID0gbGVmdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFJvb3QgPSByaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgbmV3IHBhcmVudCBub2RlIGFuZCBpbnNlcnQgaW50byB0aGUgdHJlZVxuICAgICAgICB2YXIgb2xkUGFyZW50ID0gY3VycmVudFJvb3QucGFyZW50O1xuICAgICAgICAvLyB2YXIgbmV3UGFyZW50ID0gbmV3IFRyZWVOb2RlKG9sZFBhcmVudCk7XG4gICAgICAgIHZhciBuZXdQYXJlbnQgPSB0aGlzLm5vZGVQb29sLnJlc2VydmUoKTtcbiAgICAgICAgbmV3UGFyZW50LnJlc2V0KG9sZFBhcmVudCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubm9kZVBvb2wuYXNzaWduZWQpO1xuICAgICAgICAvLyBuZXdQYXJlbnQuYm91bmRzID0gbGVhZkFBQkIuY29tYmluZShjdXJyZW50Um9vdC5ib3VuZHMpO1xuICAgICAgICBuZXdQYXJlbnQuYm91bmRzLmNvbWJpbmUyKGxlYWZBQUJCLCBjdXJyZW50Um9vdC5ib3VuZHMpO1xuICAgICAgICBuZXdQYXJlbnQuaGVpZ2h0ID0gY3VycmVudFJvb3QuaGVpZ2h0ICsgMTtcblxuICAgICAgICBpZiAob2xkUGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBUaGUgc2libGluZyBub2RlIHdhcyBub3QgdGhlIHJvb3RcbiAgICAgICAgICAgIGlmIChvbGRQYXJlbnQubGVmdCA9PT0gY3VycmVudFJvb3QpIHtcbiAgICAgICAgICAgICAgICBvbGRQYXJlbnQubGVmdCA9IG5ld1BhcmVudDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2xkUGFyZW50LnJpZ2h0ID0gbmV3UGFyZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXdQYXJlbnQubGVmdCA9IGN1cnJlbnRSb290O1xuICAgICAgICAgICAgbmV3UGFyZW50LnJpZ2h0ID0gbGVhZjtcblxuICAgICAgICAgICAgY3VycmVudFJvb3QucGFyZW50ID0gbmV3UGFyZW50O1xuICAgICAgICAgICAgbGVhZi5wYXJlbnQgPSBuZXdQYXJlbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGUgc2libGluZyBub2RlIHdhcyB0aGUgcm9vdFxuICAgICAgICAgICAgbmV3UGFyZW50LmxlZnQgPSBjdXJyZW50Um9vdDtcbiAgICAgICAgICAgIG5ld1BhcmVudC5yaWdodCA9IGxlYWY7XG5cbiAgICAgICAgICAgIGN1cnJlbnRSb290LnBhcmVudCA9IG5ld1BhcmVudDtcbiAgICAgICAgICAgIGxlYWYucGFyZW50ID0gbmV3UGFyZW50O1xuICAgICAgICAgICAgdGhpcy5yb290ID0gbmV3UGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2FsayB1cCB0aGUgdHJlZSBmaXhpbmcgaGVpZ2h0cyBhbmQgQUFCQnNcbiAgICAgICAgdmFyIGN1cnJlbnROb2RlID0gbGVhZi5wYXJlbnQ7XG4gICAgICAgIHdoaWxlIChjdXJyZW50Tm9kZSkge1xuICAgICAgICAgICAgY3VycmVudE5vZGUgPSB0aGlzLmJhbGFuY2VOb2RlKGN1cnJlbnROb2RlKTtcblxuICAgICAgICAgICAgaWYgKCFjdXJyZW50Tm9kZS5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGFyZW50IG9mIGN1cnJlbnQgbGVhZiBjYW5ub3QgaGF2ZSBhIG51bGwgbGVmdCBjaGlsZFwiICsgY3VycmVudE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjdXJyZW50Tm9kZS5yaWdodCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhcmVudCBvZiBjdXJyZW50IGxlYWYgY2Fubm90IGhhdmUgYSBudWxsIHJpZ2h0IGNoaWxkXCIgKyBjdXJyZW50Tm9kZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1cnJlbnROb2RlLmhlaWdodCA9IDEgKyBNYXRoLm1heChjdXJyZW50Tm9kZS5sZWZ0LmhlaWdodCwgY3VycmVudE5vZGUucmlnaHQuaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIGN1cnJlbnROb2RlLmJvdW5kcyA9IGN1cnJlbnROb2RlLmxlZnQuYm91bmRzLmNvbWJpbmUoY3VycmVudE5vZGUucmlnaHQuYm91bmRzKTtcbiAgICAgICAgICAgIGN1cnJlbnROb2RlLmJvdW5kcy5jb21iaW5lMihjdXJyZW50Tm9kZS5sZWZ0LmJvdW5kcywgY3VycmVudE5vZGUucmlnaHQuYm91bmRzKTtcblxuICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZU5vZGUobGVhZjogVHJlZU5vZGUpIHtcbiAgICAgICAgaWYgKGxlYWYgPT09IHRoaXMucm9vdCkge1xuICAgICAgICAgICAgdGhpcy5yb290ID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGxlYWYucGFyZW50O1xuICAgICAgICBjb25zdCBncmFuZFBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgIHZhciBzaWJsaW5nOiBUcmVlTm9kZTtcbiAgICAgICAgaWYgKHBhcmVudC5sZWZ0ID09PSBsZWFmKSB7XG4gICAgICAgICAgICBzaWJsaW5nID0gcGFyZW50LnJpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2libGluZyA9IHBhcmVudC5sZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdyYW5kUGFyZW50KSB7XG4gICAgICAgICAgICBpZiAoZ3JhbmRQYXJlbnQubGVmdCA9PT0gcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgZ3JhbmRQYXJlbnQubGVmdCA9IHNpYmxpbmc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdyYW5kUGFyZW50LnJpZ2h0ID0gc2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNpYmxpbmcucGFyZW50ID0gZ3JhbmRQYXJlbnQ7XG4gICAgICAgICAgICAvLyBERUxFVEUgUEFSRU5UISFcbiAgICAgICAgICAgIHRoaXMubm9kZVBvb2wuZnJlZShwYXJlbnQpO1xuXG4gICAgICAgICAgICB2YXIgY3VycmVudE5vZGUgPSBncmFuZFBhcmVudDtcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlID0gdGhpcy5iYWxhbmNlTm9kZShjdXJyZW50Tm9kZSk7XG4gICAgICAgICAgICAgICAgLy8gY3VycmVudE5vZGUuYm91bmRzID0gY3VycmVudE5vZGUubGVmdC5ib3VuZHMuY29tYmluZShjdXJyZW50Tm9kZS5yaWdodC5ib3VuZHMpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLmJvdW5kcy5jb21iaW5lMihjdXJyZW50Tm9kZS5sZWZ0LmJvdW5kcywgY3VycmVudE5vZGUucmlnaHQuYm91bmRzKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5oZWlnaHQgPSAxICsgTWF0aC5tYXgoY3VycmVudE5vZGUubGVmdC5oZWlnaHQsIGN1cnJlbnROb2RlLnJpZ2h0LmhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHNpYmxpbmc7XG4gICAgICAgICAgICBzaWJsaW5nLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAvL0RFTEVURSBQQVJFTlQ7XG4gICAgICAgICAgICB0aGlzLm5vZGVQb29sLmZyZWUocGFyZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYWNrcyBhIGJvZHkgaW4gdGhlIGR5bmFtaWMgdHJlZVxuICAgICAqL1xuICAgIHB1YmxpYyB0cmFja0JvZHkoYm9keTogQkZQcm94eSkge1xuICAgICAgICAvLyB2YXIgbm9kZSA9IG5ldyBUcmVlTm9kZSgpO1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZVBvb2wucmVzZXJ2ZSgpO1xuICAgICAgICBub2RlLnJlc2V0KCk7XG4gICAgICAgIG5vZGUuYm9keSA9IGJvZHk7XG4gICAgICAgIG5vZGUuYm91bmRzLmNvcHlBQUJCKGJvZHkuYWFiYik7XG4gICAgICAgIG5vZGUuYm91bmRzLmV4cGFuZCgyKTtcbiAgICAgICAgdGhpcy5ub2Rlcy5zZXQoYm9keS5pZCwgbm9kZSk7XG4gICAgICAgIHRoaXMuaW5zZXJ0Tm9kZShub2RlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBkeW5hbWljIHRyZWUgZ2l2ZW4gdGhlIGN1cnJlbnQgYm91bmRzIG9mIGVhY2ggYm9keSBiZWluZyB0cmFja2VkXG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZUJvZHkoYm9keTogQkZQcm94eSkge1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZXMuZ2V0KGJvZHkuaWQpO1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2YXIgYiA9IGJvZHkuYWFiYi50b0FBQkIyKCk7XG4gICAgICAgIC8vIGJvZHkuYWFiYi5jb3B5VG9BQUJCMih0aGlzLnRlbXBCb3VuZHMpO1xuICAgICAgICB0aGlzLnRlbXBCb3VuZHMuY29weUFBQkIoYm9keS5hYWJiKTtcblxuICAgICAgICB2YXIgbXVsdGR4ID0gYm9keS5ib2R5LmRlbHRhLng7XG4gICAgICAgIHZhciBtdWx0ZHkgPSBib2R5LmJvZHkuZGVsdGEueTtcblxuICAgICAgICBpZiAobXVsdGR4IDwgMCkge1xuICAgICAgICAgICAgdGhpcy50ZW1wQm91bmRzLmwgKz0gbXVsdGR4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50ZW1wQm91bmRzLnIgKz0gbXVsdGR4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG11bHRkeSA8IDApIHtcbiAgICAgICAgICAgIHRoaXMudGVtcEJvdW5kcy50ICs9IG11bHRkeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGVtcEJvdW5kcy5iICs9IG11bHRkeTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNxdGhpcy50ZW1wQm91bmRzLnRyYW5zZm9ybShib2R5LmJvZHkucG9zaXRpb24pO1xuICAgICAgICAvLyBpZiB0aGUgYm9keSBpcyBvdXRzaWRlIHRoZSB3b3JsZCBubyBsb25nZXIgdXBkYXRlIGl0XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiYVwiKTtcblxuICAgICAgICAvLyBpZiAoIXRoaXMud29ybGRCb3VuZHMuY29udGFpbnModGhpcy50ZW1wQm91bmRzKSkge1xuICAgICAgICAvLyAgICAgLy8gICAgTG9nZ2VyLmdldEluc3RhbmNlKCkud2FybignQWN0b3Igd2l0aCBpZCAnICsgYm9keS5hY3Rvci5pZCArXG4gICAgICAgIC8vICAgICAvLyAgICAgICAnIGlzIG91dHNpZGUgdGhlIHdvcmxkIGJvdW5kcyBhbmQgd2lsbCBubyBsb25nZXIgYmUgdHJhY2tlZCBmb3IgcGh5c2ljcycpO1xuICAgICAgICAvLyAgICAgdGhpcy51bnRyYWNrQm9keShib2R5KTtcbiAgICAgICAgLy8gICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImJcIik7XG5cbiAgICAgICAgLy8gRml4bWUgdGhpcyBpcyB3cm9uZ1xuICAgICAgICBpZiAobm9kZS5ib3VuZHMuY29udGFpbnModGhpcy50ZW1wQm91bmRzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW1vdmVOb2RlKG5vZGUpO1xuICAgICAgICB0aGlzLnRlbXBCb3VuZHMubCAtPSBib3VuZHNQYWRkaW5nO1xuICAgICAgICB0aGlzLnRlbXBCb3VuZHMudCAtPSBib3VuZHNQYWRkaW5nO1xuICAgICAgICB0aGlzLnRlbXBCb3VuZHMuciArPSBib3VuZHNQYWRkaW5nO1xuICAgICAgICB0aGlzLnRlbXBCb3VuZHMuYiArPSBib3VuZHNQYWRkaW5nO1xuXG4gICAgICAgIG11bHRkeCA9IGJvZHkuYm9keS5kZWx0YS54ICogZHluYW1pY1RyZWVWZWxvY2l0eU11bHRpcGx5ZXI7XG4gICAgICAgIG11bHRkeSA9IGJvZHkuYm9keS5kZWx0YS55ICogZHluYW1pY1RyZWVWZWxvY2l0eU11bHRpcGx5ZXI7XG4gICAgICAgIC8vIFRPRE8gRml4IHRoaXMgaGFja1xuICAgICAgICAvLyB2YXIgbXVsdGR4ID0gKGJvZHkuYm9keSA/IGJvZHkuYm9keS5kZWx0YS54IDogNSkgKiBkeW5hbWljVHJlZVZlbG9jaXR5TXVsdGlwbHllcjtcbiAgICAgICAgLy8gdmFyIG11bHRkeSA9IChib2R5LmJvZHkgPyBib2R5LmJvZHkuZGVsdGEueSA6IDUpICogZHluYW1pY1RyZWVWZWxvY2l0eU11bHRpcGx5ZXI7XG5cbiAgICAgICAgaWYgKG11bHRkeCA8IDApIHtcbiAgICAgICAgICAgIHRoaXMudGVtcEJvdW5kcy5sICs9IG11bHRkeDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGVtcEJvdW5kcy5yICs9IG11bHRkeDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtdWx0ZHkgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLnRlbXBCb3VuZHMudCArPSBtdWx0ZHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRlbXBCb3VuZHMuYiArPSBtdWx0ZHk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBub2RlLmJvdW5kcyA9IGI7XG4gICAgICAgIG5vZGUuYm91bmRzLmNvcHkodGhpcy50ZW1wQm91bmRzKTtcbiAgICAgICAgdGhpcy5pbnNlcnROb2RlKG5vZGUpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInJlYmFsYW5jZVwiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVW50cmFja3MgYSBib2R5IGZyb20gdGhlIGR5bmFtaWMgdHJlZVxuICAgICAqL1xuICAgIHB1YmxpYyB1bnRyYWNrQm9keShib2R5OiBCRlByb3h5KSB7XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5ub2Rlcy5nZXQoYm9keS5pZCk7XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlTm9kZShub2RlKTtcbiAgICAgICAgLy8gREVMRVRFIE5PREVcbiAgICAgICAgdGhpcy5ub2RlUG9vbC5mcmVlKG5vZGUpO1xuICAgICAgICAvLyB0aGlzLm5vZGVzW2JvZHkuaWRdID0gbnVsbDtcbiAgICAgICAgLy8gZGVsZXRlIHRoaXMubm9kZXNbYm9keS5pZF07XG4gICAgICAgIHRoaXMubm9kZXMuZGVsZXRlKGJvZHkuaWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJhbGFuY2VzIHRoZSB0cmVlIGFib3V0IGEgbm9kZVxuICAgICAqL1xuICAgIHByaXZhdGUgYmFsYW5jZU5vZGUobm9kZTogVHJlZU5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUuaXNMZWFmKCkgfHwgbm9kZS5oZWlnaHQgPCAyKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsZWZ0ID0gbm9kZS5sZWZ0O1xuICAgICAgICB2YXIgcmlnaHQgPSBub2RlLnJpZ2h0O1xuXG4gICAgICAgIHZhciBhID0gbm9kZTtcbiAgICAgICAgdmFyIGIgPSBsZWZ0O1xuICAgICAgICB2YXIgYyA9IHJpZ2h0O1xuICAgICAgICB2YXIgZCA9IGxlZnQubGVmdDtcbiAgICAgICAgdmFyIGUgPSBsZWZ0LnJpZ2h0O1xuICAgICAgICB2YXIgZiA9IHJpZ2h0LmxlZnQ7XG4gICAgICAgIHZhciBnID0gcmlnaHQucmlnaHQ7XG5cbiAgICAgICAgdmFyIGJhbGFuY2UgPSBjLmhlaWdodCAtIGIuaGVpZ2h0O1xuICAgICAgICAvLyBSb3RhdGUgYyBub2RlIHVwXG4gICAgICAgIGlmIChiYWxhbmNlID4gMSkge1xuICAgICAgICAgICAgLy8gU3dhcCB0aGUgcmlnaHQgbm9kZSB3aXRoIGl0J3MgcGFyZW50XG4gICAgICAgICAgICBjLmxlZnQgPSBhO1xuICAgICAgICAgICAgYy5wYXJlbnQgPSBhLnBhcmVudDtcbiAgICAgICAgICAgIGEucGFyZW50ID0gYztcblxuICAgICAgICAgICAgLy8gVGhlIG9yaWdpbmFsIG5vZGUncyBvbGQgcGFyZW50IHNob3VsZCBwb2ludCB0byB0aGUgcmlnaHQgbm9kZVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtZWdhIGNvbmZ1c2luZ1xuICAgICAgICAgICAgaWYgKGMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGMucGFyZW50LmxlZnQgPT09IGEpIHtcbiAgICAgICAgICAgICAgICAgICAgYy5wYXJlbnQubGVmdCA9IGM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYy5wYXJlbnQucmlnaHQgPSBjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb290ID0gYztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUm90YXRlXG4gICAgICAgICAgICBpZiAoZi5oZWlnaHQgPiBnLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGMucmlnaHQgPSBmO1xuICAgICAgICAgICAgICAgIGEucmlnaHQgPSBnO1xuICAgICAgICAgICAgICAgIGcucGFyZW50ID0gYTtcblxuICAgICAgICAgICAgICAgIC8vIGEuYm91bmRzID0gYi5ib3VuZHMuY29tYmluZShnLmJvdW5kcyk7XG4gICAgICAgICAgICAgICAgYS5ib3VuZHMuY29tYmluZTIoYi5ib3VuZHMsIGcuYm91bmRzKTtcbiAgICAgICAgICAgICAgICAvLyBjLmJvdW5kcyA9IGEuYm91bmRzLmNvbWJpbmUoZi5ib3VuZHMpO1xuICAgICAgICAgICAgICAgIGMuYm91bmRzLmNvbWJpbmUyKGEuYm91bmRzLCBmLmJvdW5kcyk7XG5cbiAgICAgICAgICAgICAgICBhLmhlaWdodCA9IDEgKyBNYXRoLm1heChiLmhlaWdodCwgZy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGMuaGVpZ2h0ID0gMSArIE1hdGgubWF4KGEuaGVpZ2h0LCBmLmhlaWdodCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGMucmlnaHQgPSBnO1xuICAgICAgICAgICAgICAgIGEucmlnaHQgPSBmO1xuICAgICAgICAgICAgICAgIGYucGFyZW50ID0gYTtcblxuICAgICAgICAgICAgICAgIC8vIGEuYm91bmRzID0gYi5ib3VuZHMuY29tYmluZShmLmJvdW5kcyk7XG4gICAgICAgICAgICAgICAgYS5ib3VuZHMuY29tYmluZTIoYi5ib3VuZHMsIGYuYm91bmRzKTtcblxuICAgICAgICAgICAgICAgIC8vIGMuYm91bmRzID0gYS5ib3VuZHMuY29tYmluZShnLmJvdW5kcyk7XG4gICAgICAgICAgICAgICAgYy5ib3VuZHMuY29tYmluZTIoYS5ib3VuZHMsIGcuYm91bmRzKTtcblxuICAgICAgICAgICAgICAgIGEuaGVpZ2h0ID0gMSArIE1hdGgubWF4KGIuaGVpZ2h0LCBmLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgYy5oZWlnaHQgPSAxICsgTWF0aC5tYXgoYS5oZWlnaHQsIGcuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUm90YXRlIGxlZnQgbm9kZSB1cFxuICAgICAgICBpZiAoYmFsYW5jZSA8IC0xKSB7XG4gICAgICAgICAgICAvLyBzd2FwXG4gICAgICAgICAgICBiLmxlZnQgPSBhO1xuICAgICAgICAgICAgYi5wYXJlbnQgPSBhLnBhcmVudDtcbiAgICAgICAgICAgIGEucGFyZW50ID0gYjtcblxuICAgICAgICAgICAgLy8gbm9kZSdzIG9sZCBwYXJlbnQgc2hvdWxkIHBvaW50IHRvIGJcbiAgICAgICAgICAgIGlmIChiLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChiLnBhcmVudC5sZWZ0ID09PSBhKSB7XG4gICAgICAgICAgICAgICAgICAgIGIucGFyZW50LmxlZnQgPSBiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiLnBhcmVudC5yaWdodCAhPT0gYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJFcnJvciByb3RhdGluZyBEeW5hbWljIFRyZWVcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBiLnBhcmVudC5yaWdodCA9IGI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QgPSBiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByb3RhdGVcbiAgICAgICAgICAgIGlmIChkLmhlaWdodCA+IGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgYi5yaWdodCA9IGQ7XG4gICAgICAgICAgICAgICAgYS5sZWZ0ID0gZTtcbiAgICAgICAgICAgICAgICBlLnBhcmVudCA9IGE7XG5cbiAgICAgICAgICAgICAgICAvLyBhLmJvdW5kcyA9IGMuYm91bmRzLmNvbWJpbmUoZS5ib3VuZHMpO1xuICAgICAgICAgICAgICAgIGEuYm91bmRzLmNvbWJpbmUyKGMuYm91bmRzLCBlLmJvdW5kcyk7XG4gICAgICAgICAgICAgICAgLy9iLmJvdW5kcyA9IGEuYm91bmRzLmNvbWJpbmUoZC5ib3VuZHMpO1xuICAgICAgICAgICAgICAgIGIuYm91bmRzLmNvbWJpbmUyKGEuYm91bmRzLCBkLmJvdW5kcyk7XG5cbiAgICAgICAgICAgICAgICBhLmhlaWdodCA9IDEgKyBNYXRoLm1heChjLmhlaWdodCwgZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGIuaGVpZ2h0ID0gMSArIE1hdGgubWF4KGEuaGVpZ2h0LCBkLmhlaWdodCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGIucmlnaHQgPSBlO1xuICAgICAgICAgICAgICAgIGEubGVmdCA9IGQ7XG4gICAgICAgICAgICAgICAgZC5wYXJlbnQgPSBhO1xuXG4gICAgICAgICAgICAgICAgLy8gYS5ib3VuZHMgPSBjLmJvdW5kcy5jb21iaW5lKGQuYm91bmRzKTtcbiAgICAgICAgICAgICAgICBhLmJvdW5kcy5jb21iaW5lMihjLmJvdW5kcywgZC5ib3VuZHMpO1xuXG4gICAgICAgICAgICAgICAgLy8gYi5ib3VuZHMgPSBhLmJvdW5kcy5jb21iaW5lKGUuYm91bmRzKTtcbiAgICAgICAgICAgICAgICBiLmJvdW5kcy5jb21iaW5lMihhLmJvdW5kcywgZS5ib3VuZHMpO1xuXG4gICAgICAgICAgICAgICAgYS5oZWlnaHQgPSAxICsgTWF0aC5tYXgoYy5oZWlnaHQsIGQuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBiLmhlaWdodCA9IDEgKyBNYXRoLm1heChhLmhlaWdodCwgZS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpbnRlcm5hbCBoZWlnaHQgb2YgdGhlIHRyZWUsIHNob3J0ZXIgdHJlZXMgYXJlIGJldHRlci4gUGVyZm9ybWFuY2UgZHJvcHMgYXMgdGhlIHRyZWUgZ3Jvd3NcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0SGVpZ2h0KCk6IG51bWJlciB7XG4gICAgICAgIGlmICh0aGlzLnJvb3QgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3QuaGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFF1ZXJpZXMgdGhlIER5bmFtaWMgQXhpcyBBbGlnbmVkIFRyZWUgZm9yIGJvZGllcyB0aGF0IGNvdWxkIGJlIGNvbGxpZGluZyB3aXRoIHRoZSBwcm92aWRlZCBib2R5LlxuICAgICAqXG4gICAgICogSW4gdGhlIHF1ZXJ5IGNhbGxiYWNrLCBpdCB3aWxsIGJlIHBhc3NlZCBhIHBvdGVudGlhbCBjb2xsaWRlci4gUmV0dXJuaW5nIHRydWUgZnJvbSB0aGlzIGNhbGxiYWNrIGluZGljYXRlc1xuICAgICAqIHRoYXQgeW91IGFyZSBjb21wbGV0ZSB3aXRoIHlvdXIgcXVlcnkgYW5kIHlvdSBkbyBub3Qgd2FudCB0byBjb250aW51ZS4gUmV0dXJuaW5nIGZhbHNlIHdpbGwgY29udGludWUgc2VhcmNoaW5nXG4gICAgICogdGhlIHRyZWUgdW50aWwgYWxsIHBvc3NpYmxlIGNvbGxpZGVycyBoYXZlIGJlZW4gcmV0dXJuZWQuXG4gICAgICovXG4gICAgcHVibGljIHF1ZXJ5KGJvZHk6IEJGUHJveHkpIHsgLy8gLCBjYWxsYmFjazogKG90aGVyOiBCRlByb3h5KSA9PiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHZhciBiID0gdGhpcy5ub2Rlcy5nZXQoYm9keS5pZCk7XG4gICAgICAgIHZhciBib3VuZHMgPSBiLmJvdW5kcztcbiAgICAgICAgLy92YXIgYm91bmRzID0gYm9keS5hYWJiLnRvQUFCQjIoKTtcbiAgICAgICAgRHluYW1pY1RyZWUucXVlcnlIZWxwZXIoYm9keSwgYm91bmRzLCB0aGlzLnJvb3QpO1xuICAgIH1cbiAgICAvLyB2YXIgaGVscGVyID0gKGN1cnJlbnROb2RlOiBUcmVlTm9kZSk6IGJvb2xlYW4gPT4ge1xuICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyhjdXJyZW50Tm9kZSAmJiBjdXJyZW50Tm9kZS5ib2R5ID8gY3VycmVudE5vZGUuYm9keS51c2VyRGF0YTEgOiBcIj9cIiwgY3VycmVudE5vZGUuYm91bmRzLCBib2R5LnVzZXJEYXRhMSwgYm91bmRzKTtcbiAgICAvLyAgICAgaWYgKGN1cnJlbnROb2RlICYmIGN1cnJlbnROb2RlLmJvdW5kcy5pbnRlcnNlY3QoYm91bmRzKSkge1xuICAgIC8vICAgICAgICAgaWYgKGN1cnJlbnROb2RlLmlzTGVhZigpICYmIGN1cnJlbnROb2RlLmJvZHkgIT09IGJvZHkpIHtcbiAgICAvLyAgICAgICAgICAgICBpZiAoY2FsbGJhY2suY2FsbChib2R5LCBjdXJyZW50Tm9kZS5ib2R5KSkge1xuICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAvLyAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgICAgIHJldHVybiBoZWxwZXIoY3VycmVudE5vZGUubGVmdCkgfHwgaGVscGVyKGN1cnJlbnROb2RlLnJpZ2h0KTtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfVxuICAgIC8vICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gfTtcbiAgICAvLyBoZWxwZXIodGhpcy5yb290KTtcblxuICAgIHN0YXRpYyBxdWVyeUhlbHBlcihib2R5OiBCRlByb3h5LCBib3VuZHM6IEFBQkIyLCBjdXJyZW50Tm9kZTogVHJlZU5vZGUpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGN1cnJlbnROb2RlICYmIGN1cnJlbnROb2RlLmJvdW5kcy5pbnRlcnNlY3QoYm91bmRzKSkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlLmlzTGVhZigpICYmIGN1cnJlbnROb2RlLmJvZHkgIT09IGJvZHkpIHtcbiAgICAgICAgICAgICAgICBDb2xsaWRlKGJvZHksIGN1cnJlbnROb2RlLmJvZHkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgRHluYW1pY1RyZWUucXVlcnlIZWxwZXIoYm9keSwgYm91bmRzLCBjdXJyZW50Tm9kZS5sZWZ0KSB8fFxuICAgICAgICAgICAgICAgICAgICBEeW5hbWljVHJlZS5xdWVyeUhlbHBlcihib2R5LCBib3VuZHMsIGN1cnJlbnROb2RlLnJpZ2h0KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vICAvKipcbiAgICAvLyAgICogUXVlcmllcyB0aGUgRHluYW1pYyBBeGlzIEFsaWduZWQgVHJlZSBmb3IgYm9kaWVzIHRoYXQgY291bGQgYmUgaW50ZXJzZWN0aW5nLiBCeSBkZWZhdWx0IHRoZSByYXljYXN0IHF1ZXJ5IHVzZXMgYW4gaW5maW5pdGVseVxuICAgIC8vICAgKiBsb25nIHJheSB0byB0ZXN0IHRoZSB0cmVlIHNwZWNpZmllZCBieSBgbWF4YC5cbiAgICAvLyAgICpcbiAgICAvLyAgICogSW4gdGhlIHF1ZXJ5IGNhbGxiYWNrLCBpdCB3aWxsIGJlIHBhc3NlZCBhIHBvdGVudGlhbCBib2R5IHRoYXQgaW50ZXJzZWN0cyB3aXRoIHRoZSByYWNhc3QuIFJldHVybmluZyB0cnVlIGZyb20gdGhpc1xuICAgIC8vICAgKiBjYWxsYmFjayBpbmRpY2F0ZXMgdGhhdCB5b3VyIGFyZSBjb21wbGV0ZSB3aXRoIHlvdXIgcXVlcnkgYW5kIGRvIG5vdCB3YW50IHRvIGNvbnRpbnVlLiBSZXR1cm4gZmFsc2Ugd2lsbCBjb250aW51ZSBzZWFyY2hpbmdcbiAgICAvLyAgICogdGhlIHRyZWUgdW50aWwgYWxsIHBvc3NpYmxlIGJvZGllcyB0aGF0IHdvdWxkIGludGVyc2VjdCB3aXRoIHRoZSByYXkgaGF2ZSBiZWVuIHJldHVybmVkLlxuICAgIC8vICAgKi9cbiAgICBwdWJsaWMgcmF5Q2FzdFF1ZXJ5KHJheTogUmF5LCBtYXg6IG51bWJlciA9IEluZmluaXR5LCBjYWxsYmFjazogKG90aGVyOiBCRlByb3h5KSA9PiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHZhciBoZWxwZXIgPSAoY3VycmVudE5vZGU6IFRyZWVOb2RlKTogYm9vbGVhbiA9PiB7XG4gICAgICAgICAgICBpZiAoY3VycmVudE5vZGUgJiYgUmF5QUFCQihyYXksIGN1cnJlbnROb2RlLmJvZHkpKSB7XG4gICAgICAgICAgICAgICAgLy9pZiAoY3VycmVudE5vZGUgJiYgY3VycmVudE5vZGUuYm91bmRzLnJheUNhc3QocmF5LCBtYXgpKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudE5vZGUuaXNMZWFmKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrLmNhbGwocmF5LCBjdXJyZW50Tm9kZS5ib2R5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmF5IGhpdCBhIGxlYWYhIHJldHVybiB0aGUgYm9keVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyByYXkgaGl0IGJ1dCBub3QgYXQgYSBsZWFmLCByZWN1cnNlIGRlZXBlclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGVscGVyKGN1cnJlbnROb2RlLmxlZnQpIHx8IGhlbHBlcihjdXJyZW50Tm9kZS5yaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyByYXkgbWlzc2VkXG4gICAgICAgIH07XG4gICAgICAgIGhlbHBlcih0aGlzLnJvb3QpO1xuICAgIH1cblxuICAgIHB1YmxpYyBxdWVyeUFyZWEoYXJlYTogQUFCQjIsIGNhbGxiYWNrOiAob3RoZXI6IEJGUHJveHkpID0+IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgdmFyIGhlbHBlciA9IChjdXJyZW50Tm9kZTogVHJlZU5vZGUpOiBib29sZWFuID0+IHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Tm9kZSAmJiBjdXJyZW50Tm9kZS5ib3VuZHMuaW50ZXJzZWN0KGFyZWEpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlLmlzTGVhZigpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGN1cnJlbnROb2RlLmJvZHkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhlbHBlcihjdXJyZW50Tm9kZS5sZWZ0KSB8fCBoZWxwZXIoY3VycmVudE5vZGUucmlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgaGVscGVyKHRoaXMucm9vdCk7XG4gICAgfVxuXG4gICAgLy8gIHB1YmxpYyBnZXROb2RlcygpOiBUcmVlTm9kZVtdIHtcbiAgICAvLyAgICAgdmFyIGhlbHBlciA9IChjdXJyZW50Tm9kZTogVHJlZU5vZGUpOiBUcmVlTm9kZVtdID0+IHtcbiAgICAvLyAgICAgICAgaWYgKGN1cnJlbnROb2RlKSB7XG4gICAgLy8gICAgICAgICAgIHJldHVybiBbY3VycmVudE5vZGVdLmNvbmNhdChoZWxwZXIoY3VycmVudE5vZGUubGVmdCksIGhlbHBlcihjdXJyZW50Tm9kZS5yaWdodCkpO1xuICAgIC8vICAgICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgICByZXR1cm4gW107XG4gICAgLy8gICAgICAgIH1cbiAgICAvLyAgICAgfTtcbiAgICAvLyAgICAgcmV0dXJuIGhlbHBlcih0aGlzLnJvb3QpO1xuICAgIC8vICB9XG5cbiAgICBwdWJsaWMgZGVidWdEcmF3KHJlbmRlcjogRGVidWdSZW5kZXJlcikge1xuICAgICAgICAvLyBkcmF3IGFsbCB0aGUgbm9kZXMgaW4gdGhlIER5bmFtaWMgVHJlZVxuICAgICAgICB2YXIgaGVscGVyID0gKGN1cnJlbnROb2RlOiBUcmVlTm9kZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlLmlzTGVhZigpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICBjdHgubGluZVdpZHRoID0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gIGN0eC5zdHJva2VTdHlsZSA9ICdncmVlbic7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlci5EcmF3QUFCQjIoY3VycmVudE5vZGUuYm91bmRzLCBcImdyZWVuXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICBjdHgubGluZVdpZHRoID0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gIGN0eC5zdHJva2VTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlci5EcmF3QUFCQjIoY3VycmVudE5vZGUuYm91bmRzLCBcIndoaXRlXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Tm9kZS5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGhlbHBlcihjdXJyZW50Tm9kZS5sZWZ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlLnJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIGhlbHBlcihjdXJyZW50Tm9kZS5yaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGhlbHBlcih0aGlzLnJvb3QpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9icm9hZHBoYXNlL0R5bmFtaWNUcmVlLnRzIiwiaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2dsYXplL2Vjcy9TeXN0ZW1cIjtcbmltcG9ydCB7IEJyb2FkcGhhc2VBcmVhUXVlcnkgfSBmcm9tIFwiLi4vLi4vZ2xhemUvdXRpbC9Ccm9hZHBoYXNlQXJlYVF1ZXJ5XCI7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvUG9zaXRpb25cIjtcbmltcG9ydCB7IFBoeXNpY3NCb2R5IH0gZnJvbSBcIi4uLy4uL2dsYXplL3BoeXNpY3MvY29tcG9uZW50cy9QaHlzaWNzQm9keVwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2dsYXplL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IENoaWNrZW4gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DaGlja2VuXCI7XG5pbXBvcnQgeyBSYW5kb21Cb29sZWFuLCBSYW5kb21TaWduIH0gZnJvbSBcIi4uLy4uL2dsYXplL3V0aWwvUmFuZG9tXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uL2dsYXplL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgSVBhcnRpY2xlRW5naW5lIH0gZnJvbSBcIi4uLy4uL2dsYXplL3BhcnRpY2xlL2VuZ2luZXMvSVBhcnRpY2xlRW5naW5lXCI7XG5cbmV4cG9ydCBjbGFzcyBDaGlja2VuU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICBwdWJsaWMgcGFydGljbGVFbmdpbmU6IElQYXJ0aWNsZUVuZ2luZTtcbiAgICBwdWJsaWMgc2NhcmVkT2ZQb3NpdGlvbjogUG9zaXRpb247XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJ0aWNsZUVuZ2luZTogSVBhcnRpY2xlRW5naW5lKSB7XG4gICAgICAgIHN1cGVyKFtQb3NpdGlvbiwgQ2hpY2tlbiwgUGh5c2ljc0JvZHldKTtcbiAgICAgICAgdGhpcy5wYXJ0aWNsZUVuZ2luZSA9IHBhcnRpY2xlRW5naW5lO1xuICAgIH1cblxuICAgIHVwZGF0ZUVudGl0eShlbnRpdHk6IEVudGl0eSwgcG9zaXRpb246IFBvc2l0aW9uLCBjaGlja2VuOiBDaGlja2VuLCBwaHlzaWNzQm9keTogUGh5c2ljc0JvZHkpIHtcbiAgICAgICAgdmFyIGRpc3Q6IG51bWJlciA9IDEwMDAgKiAxMDAwO1xuICAgICAgICB2YXIgYm9keSA9IHBoeXNpY3NCb2R5LmJvZHk7XG5cbiAgICAgICAgdmFyIGRpciA9IDA7XG4gICAgICAgIGlmICh0aGlzLnNjYXJlZE9mUG9zaXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgZGlzdCA9IGJvZHkucG9zaXRpb24uZGlzdFNxcmQodGhpcy5zY2FyZWRPZlBvc2l0aW9uLmNvb3Jkcyk7XG4gICAgICAgICAgICBkaXIgPSBib2R5LnBvc2l0aW9uLnggLSB0aGlzLnNjYXJlZE9mUG9zaXRpb24uY29vcmRzLnggPCAwID8gLTEgOiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXN0IDwgNjQgKiA2NCkge1xuICAgICAgICAgICAgaWYgKFJhbmRvbUJvb2xlYW4oMC4xKSkge1xuICAgICAgICAgICAgICAgIGJvZHkuYWRkRm9yY2UobmV3IFZlY3RvcjIoZGlyICogNTAwMCwgLTgwMDApKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnRpY2xlRW5naW5lLkVtaXRQYXJ0aWNsZShcbiAgICAgICAgICAgICAgICAgICAgYm9keS5wb3NpdGlvbi54LFxuICAgICAgICAgICAgICAgICAgICBib2R5LnBvc2l0aW9uLnksXG4gICAgICAgICAgICAgICAgICAgIGRpciAqIC0xMCxcbiAgICAgICAgICAgICAgICAgICAgLTEwMCxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgNSxcbiAgICAgICAgICAgICAgICAgICAgODAwLFxuICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgNCxcbiAgICAgICAgICAgICAgICAgICAgMjU1LFxuICAgICAgICAgICAgICAgICAgICAyNTUsXG4gICAgICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICAgICAgICAgMjU1LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoUmFuZG9tQm9vbGVhbigwLjAwNSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlyID0gUmFuZG9tU2lnbigwLjUpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uLmRpcmVjdGlvbi54ID0gLWRpcjtcbiAgICAgICAgICAgICAgICBib2R5LmFkZEZvcmNlKG5ldyBWZWN0b3IyKGRpciAqIDUwMDAsIC04MDAwKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0aWNsZUVuZ2luZS5FbWl0UGFydGljbGUoXG4gICAgICAgICAgICAgICAgICAgIGJvZHkucG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICAgICAgYm9keS5wb3NpdGlvbi55LFxuICAgICAgICAgICAgICAgICAgICBkaXIgKiAtMjAsXG4gICAgICAgICAgICAgICAgICAgIC0xMDAsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIDUsXG4gICAgICAgICAgICAgICAgICAgIDgwMCxcbiAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIDQsXG4gICAgICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICAgICAgICAgMjU1LFxuICAgICAgICAgICAgICAgICAgICAyNTUsXG4gICAgICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNjYXJlZE9mKGVudGl0eTpFbnRpdHkpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LFBvc2l0aW9uKTtcbiAgICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnNjYXJlZE9mUG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Rlc3Qvc3lzdGVtcy9DaGlja2VuU3lzdGVtLnRzIiwiaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2Vjcy9TeXN0ZW1cIjtcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29tcG9uZW50cy9Qb3NpdGlvblwiO1xuaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9HcmFwaGljc1wiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IFN0YWdlIH0gZnJvbSBcIi4uL2Rpc3BsYXlsaXN0L1N0YWdlXCI7XG5pbXBvcnQgeyBDYW1lcmEgfSBmcm9tIFwiLi4vZGlzcGxheWxpc3QvQ2FtZXJhXCI7XG5pbXBvcnQgeyBSZW5kZXJlckVuZ2luZSB9IGZyb20gXCIuLi9yZW5kZXIvUmVuZGVyRW5naW5lXCI7XG5pbXBvcnQgeyBBQUJCMiB9IGZyb20gXCIuLi8uLi9nZW9tL0FBQkIyXCI7XG5pbXBvcnQgeyBUZXh0dXJlTWFuYWdlciB9IGZyb20gXCIuLi90ZXh0dXJlL1RleHR1cmVNYW5hZ2VyXCI7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0Q29udGFpbmVyIH0gZnJvbSBcIi4uL2Rpc3BsYXlsaXN0L0Rpc3BsYXlPYmplY3RDb250YWluZXJcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vLi4vZ2VvbS9WZWN0b3IyXCI7XG5pbXBvcnQgeyBGcmFtZUxpc3RNYW5hZ2VyIH0gZnJvbSBcIi4uL2ZyYW1lL0ZyYW1lTGlzdE1hbmFnZXJcIjtcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gXCIuLi9kaXNwbGF5bGlzdC9TcHJpdGVcIjtcbmltcG9ydCB7IERlYnVnR3JhcGhpY3MgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9EZWJ1Z0dyYXBoaWNzXCI7XG5pbXBvcnQgeyBFeHRlbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29tcG9uZW50cy9FeHRlbnRzXCI7XG5pbXBvcnQgeyBEZWJ1Z1JlbmRlcmVyIH0gZnJvbSBcIi4uL3JlbmRlci9kZWJ1Zy9EZWJ1Z1JlbmRlcmVyXCI7XG5pbXBvcnQgeyBHbGF6ZUVuZ2luZSB9IGZyb20gXCIuLi8uLi9HbGF6ZUVuZ2luZVwiO1xuXG5leHBvcnQgY2xhc3MgRGVidWdSZW5kZXJTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIHB1YmxpYyBkZWJ1Z1JlbmRlcjogRGVidWdSZW5kZXJlcjtcbiAgICBwdWJsaWMgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBwdWJsaWMgY2FtZXJhOiBDYW1lcmE7XG5cbiAgICBjb25zdHJ1Y3RvcihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBjYW1lcmE6IENhbWVyYSkge1xuICAgICAgICBzdXBlcihbUG9zaXRpb24sIEV4dGVudHMsIERlYnVnR3JhcGhpY3NdKTtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gY2FtZXJhO1xuICAgICAgICB0aGlzLmRlYnVnUmVuZGVyID0gbmV3IERlYnVnUmVuZGVyZXIoY2FudmFzLCBjYW1lcmEsIDEyODAsIDc2OCk7XG4gICAgfVxuXG4gICAgcHVibGljIHByZVVwZGF0ZSgpOmJvb2xlYW4ge1xuICAgICAgICBpZiAoIUdsYXplRW5naW5lLnBhcmFtcy5kZWJ1Zykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVidWdSZW5kZXIuQ2xlYXIoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVFbnRpdHkoZW50aXR5OiBFbnRpdHksIHBvc2l0aW9uOiBQb3NpdGlvbiwgZXh0ZW50czogRXh0ZW50cywgZ3JhcGhpY3M6IERlYnVnR3JhcGhpY3MpIHtcbiAgICAgICAgdGhpcy5kZWJ1Z1JlbmRlci5EcmF3Q3Jvc3MocG9zaXRpb24uY29vcmRzLngsIHBvc2l0aW9uLmNvb3Jkcy55LCAxNSk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2dyYXBoaWNzL3N5c3RlbXMvRGVidWdSZW5kZXJlclN5c3RlbS50cyIsImltcG9ydCB7IENhbWVyYSB9IGZyb20gXCIuLi8uLi9kaXNwbGF5bGlzdC9DYW1lcmFcIjtcbmltcG9ydCB7IEFBQkIgfSBmcm9tIFwiLi4vLi4vLi4vZ2VvbS9BQUJCXCI7XG5pbXBvcnQgeyBBQUJCMiB9IGZyb20gXCIuLi8uLi8uLi9nZW9tL0FBQkIyXCI7XG5cbmV4cG9ydCBjbGFzcyBEZWJ1Z1JlbmRlcmVyIHtcbiAgICBwdWJsaWMgdmlldzogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgcHVibGljIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICAgIHB1YmxpYyBjYW1lcmE6IENhbWVyYTtcbiAgICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih2aWV3OiBIVE1MQ2FudmFzRWxlbWVudCwgY2FtZXJhOiBDYW1lcmEsIHdpZHRoOiBudW1iZXIgPSA4MDAsIGhlaWdodDogbnVtYmVyID0gNjAwKSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gY2FtZXJhO1xuICAgICAgICB0aGlzLmN0eCA9IHZpZXcuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICB0aGlzLlJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgUmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMudmlldy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLnZpZXcuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH1cblxuICAgIHB1YmxpYyBDbGVhcigpIHtcbiAgICAgICAgdGhpcy5jdHguc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IFwicmdiYSgwLDI1NSwwLDEpXCI7XG4gICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZSh0aGlzLmNhbWVyYS5wb3NpdGlvbi54LCB0aGlzLmNhbWVyYS5wb3NpdGlvbi55KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgRHJhd1JlY3QoeDogbnVtYmVyLCB5OiBudW1iZXIsIHc6IG51bWJlciwgaDogbnVtYmVyLCBjb2xvdXI6c3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVJlY3QoeCwgeSwgdywgaCk7XG4gICAgfVxuXG4gICAgLy8gcHVibGljIERyYXdBQUJCKGFhYmI6IEFBQkIpIHtcbiAgICAvLyAgICAgdGhpcy5jdHguc3Ryb2tlUmVjdChhYWJiLmwsIGFhYmIudCwgYWFiYi53aWR0aCwgYWFiYi5oZWlnaHQpO1xuICAgIC8vIH1cblxuICAgIHB1YmxpYyBEcmF3QUFCQihhYWJiOiBBQUJCLCBjb2xvdXI6c3RyaW5nID0gXCJ3aGl0ZVwiKSB7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gY29sb3VyO1xuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKGFhYmIubCwgYWFiYi50KTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKGFhYmIuciwgYWFiYi50KTtcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKGFhYmIuciwgYWFiYi5iKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKGFhYmIubCwgYWFiYi5iKTtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIERyYXdBQUJCMihhYWJiOiBBQUJCMiwgY29sb3VyOnN0cmluZyA9IFwid2hpdGVcIikge1xuICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IGNvbG91cjtcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIHRoaXMuY3R4Lm1vdmVUbyhhYWJiLmwsIGFhYmIudCk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyhhYWJiLnIsIGFhYmIudCk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyhhYWJiLnIsIGFhYmIuYik7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyhhYWJiLmwsIGFhYmIuYik7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyhhYWJiLmwsIGFhYmIudCk7XG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBEcmF3Q3Jvc3MoeDogbnVtYmVyLCB5OiBudW1iZXIsIGw6IG51bWJlcikge1xuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKHggLSBsLCB5KTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHggKyBsLCB5KTtcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKHgsIHkgLSBsKTtcbiAgICAgICAgdGhpcy5jdHgubGluZVRvKHgsIHkgKyBsKTtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2dyYXBoaWNzL3JlbmRlci9kZWJ1Zy9EZWJ1Z1JlbmRlcmVyLnRzIiwiaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2dsYXplL2Vjcy9TeXN0ZW1cIjtcbmltcG9ydCB7IEd1blR1cnJldCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0d1blR1cnJldFwiO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwiLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL1Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vZ2xhemUvZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgQ29tYmF0VXRpbHMsIEVudGl0eUZpbHRlck9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vZ2xhemUvdXRpbC9Db21iYXRVdGlsc1wiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi8uLi9nbGF6ZS9nZW9tL1ZlY3RvcjJcIjtcbmltcG9ydCB7IEZpbHRlciB9IGZyb20gXCIuLi8uLi9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9GaWx0ZXJcIjtcbmltcG9ydCB7IFRlc3RGaWx0ZXJzIH0gZnJvbSBcIi4uL2NvbmZpZy9GaWx0ZXJzXCI7XG5pbXBvcnQgeyBTdGFuZGFyZEJ1bGxldCB9IGZyb20gXCIuLi9mYWN0b3JpZXMvcHJvamVjdGlsZS9TdGFuZGFyZEJ1bGxldFwiO1xuXG5leHBvcnQgY2xhc3MgR3VuVHVycmV0U3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoW0d1blR1cnJldCwgUG9zaXRpb25dKTtcbiAgICB9XG5cbiAgICB1cGRhdGVFbnRpdHkoZW50aXR5OiBFbnRpdHksIHR1cnJldDogR3VuVHVycmV0LCBwb3NpdGlvbjogUG9zaXRpb24pIHtcbiAgICAgICAgaWYgKHR1cnJldC5pbnRlcnZhbERlbGF5LnRpY2sodGhpcy5kdCkpIHtcbiAgICAgICAgICAgIHZhciBlbnRpdGllcyA9IENvbWJhdFV0aWxzLlNlYXJjaFNvcnRBbmRGaWx0ZXIocG9zaXRpb24uY29vcmRzLCA0MDAsIGVudGl0eSwgRW50aXR5RmlsdGVyT3B0aW9ucy5FTkVNWSlcbiAgICAgICAgICAgICAgICAuZW50aXRpZXM7XG4gICAgICAgICAgICBpZiAoZW50aXRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyZUJ1bGxldEF0RW50aXR5KHBvc2l0aW9uLCBlbnRpdGllc1swXS5lbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmlyZUJ1bGxldEF0RW50aXR5KHBvc2l0aW9uOiBQb3NpdGlvbiwgdGFyZ2V0OiBFbnRpdHkpIHtcbiAgICAgICAgdGhpcy5maXJlQnVsbGV0KHBvc2l0aW9uLmNvb3Jkcy5jbG9uZSgpLCB0aGlzLmVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkodGFyZ2V0LCBQb3NpdGlvbikuY29vcmRzLmNsb25lKCkpO1xuICAgIH1cblxuICAgIGZpcmVCdWxsZXQocG9zOiBWZWN0b3IyLCB0YXJnZXQ6IFZlY3RvcjIpIHtcbiAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTtcbiAgICAgICAgZmlsdGVyLmdyb3VwSW5kZXggPSBUZXN0RmlsdGVycy5UVVJSRVRfR1JPVVA7XG4gICAgICAgIHZhciBidWxsZXQgPSBTdGFuZGFyZEJ1bGxldC5jcmVhdGUodGhpcy5lbmdpbmUsIG5ldyBQb3NpdGlvbihwb3MueCwgcG9zLnkpLCBmaWx0ZXIsIHRhcmdldCk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Rlc3Qvc3lzdGVtcy9HdW5UdXJyZXRTeXN0ZW0udHMiLCJleHBvcnQgY29uc3QgdGhyb3R0bGUgPSBmdW5jdGlvbihmbjphbnksIG1zOm51bWJlcikge1xuICAgIGxldCBsYXN0Q2FsbGVkID0gMDtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGlmIChub3ctbGFzdENhbGxlZD5tcykge1xuICAgICAgICAgICAgbGFzdENhbGxlZCA9IG5vdztcbiAgICAgICAgICAgIGZuKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3V0aWwvRm5VdGlscy50cyIsImltcG9ydCB7IERpc3BsYXlPYmplY3RDb250YWluZXIgfSBmcm9tIFwiLi9EaXNwbGF5T2JqZWN0Q29udGFpbmVyXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uLy4uL2dlb20vVmVjdG9yMlwiO1xuaW1wb3J0IHsgQUFCQjIgfSBmcm9tIFwiLi4vLi4vZ2VvbS9BQUJCMlwiO1xuXG5leHBvcnQgY2xhc3MgQ2FtZXJhIGV4dGVuZHMgRGlzcGxheU9iamVjdENvbnRhaW5lciB7XG4gICAgcHVibGljIHJlYWxQb3NpdGlvbjogVmVjdG9yMjtcbiAgICBwdWJsaWMgdmlld3BvcnRTaXplOiBWZWN0b3IyO1xuICAgIHB1YmxpYyBoYWxmVmlld3BvcnRTaXplOiBWZWN0b3IyO1xuICAgIHB1YmxpYyB2aWV3UG9ydEFBQkI6IEFBQkIyO1xuICAgIHB1YmxpYyB3b3JsZEV4dGVudHNBQUJCOiBBQUJCMjtcbiAgICBwcml2YXRlIGNhbWVyYUV4dGVudHNBQUJCOiBBQUJCMjtcbiAgICBwdWJsaWMgc2hha2U6IFZlY3RvcjI7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pZCA9IFwiQ2FtZXJhXCI7XG4gICAgICAgIHRoaXMucmVhbFBvc2l0aW9uID0gbmV3IFZlY3RvcjIoKTtcbiAgICAgICAgdGhpcy52aWV3cG9ydFNpemUgPSBuZXcgVmVjdG9yMigpO1xuICAgICAgICB0aGlzLmhhbGZWaWV3cG9ydFNpemUgPSBuZXcgVmVjdG9yMigpO1xuICAgICAgICB0aGlzLnNoYWtlID0gbmV3IFZlY3RvcjIoKTtcbiAgICAgICAgdGhpcy52aWV3UG9ydEFBQkIgPSBuZXcgQUFCQjIoKTtcbiAgICAgICAgdGhpcy53b3JsZEV4dGVudHNBQUJCID0gbmV3IEFBQkIyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZih2OiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgIC8vIHJldHVybiBTdGQubnVtYmVyKHYpO1xuICAgIH1cblxuICAgIHB1YmxpYyBGb2N1cyh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICAvL05lZWQgdG8gbW92ZSB0aGUgY2FtZXJhIGNvbnRhaW5lciB0aGUgb3Bvc2l0ZSB3YXkgdG8gdGhlIGFjdHVhbCBjb29yZHNcbiAgICAgICAgdGhpcy5yZWFsUG9zaXRpb24ueCA9IHg7XG4gICAgICAgIHRoaXMucmVhbFBvc2l0aW9uLnkgPSB5O1xuICAgICAgICAvLyByZWFsUG9zaXRpb24ucGx1c0VxdWFscyhzaGFrZSk7XG4gICAgICAgIC8vQ2xhbXAgcG9zaXRpb24gaW5zaWRlIHNocnVuayBjYW1lcmEgZXh0ZW50c1xuICAgICAgICB0aGlzLmNhbWVyYUV4dGVudHNBQUJCLmZpdFBvaW50KHRoaXMucmVhbFBvc2l0aW9uKTtcblxuICAgICAgICB2YXIgcG9zaXRpb254ID0gLXRoaXMucmVhbFBvc2l0aW9uLnggKyB0aGlzLmhhbGZWaWV3cG9ydFNpemUueDtcbiAgICAgICAgdmFyIHBvc2l0aW9ueSA9IC10aGlzLnJlYWxQb3NpdGlvbi55ICsgdGhpcy5oYWxmVmlld3BvcnRTaXplLnk7XG5cbiAgICAgICAgLy8gcG9zaXRpb24ueCA9IHBvc2l0aW9ueDtcbiAgICAgICAgaWYgKE1hdGguYWJzKHBvc2l0aW9ueCAtIHRoaXMucG9zaXRpb24ueCkgPiAyKVxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0gdGhpcy5wb3NpdGlvbi54ICsgKHBvc2l0aW9ueCAtIHRoaXMucG9zaXRpb24ueCkgKiAwLjE7XG4gICAgICAgIGlmIChNYXRoLmFicyhwb3NpdGlvbnkgLSB0aGlzLnBvc2l0aW9uLnkpID4gMilcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHRoaXMucG9zaXRpb24ueSArIChwb3NpdGlvbnkgLSB0aGlzLnBvc2l0aW9uLnkpICogMC4xO1xuICAgICAgICAvLyBwb3NpdGlvbi55ID0gcG9zaXRpb255O1xuXG4gICAgICAgIHRoaXMucG9zaXRpb24ucGx1c0VxdWFscyh0aGlzLnNoYWtlKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0gdGhpcy5yZih0aGlzLnBvc2l0aW9uLngpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB0aGlzLnJmKHRoaXMucG9zaXRpb24ueSk7XG4gICAgICAgIHRoaXMuc2hha2Uuc2V0VG8oMCwgMCk7XG4gICAgfVxuXG4gICAgcHVibGljIFJlc2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLnZpZXdwb3J0U2l6ZS54ID0gd2lkdGg7XG4gICAgICAgIHRoaXMudmlld3BvcnRTaXplLnkgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuaGFsZlZpZXdwb3J0U2l6ZS54ID0gd2lkdGggLyAyO1xuICAgICAgICB0aGlzLmhhbGZWaWV3cG9ydFNpemUueSA9IGhlaWdodCAvIDI7XG4gICAgICAgIHRoaXMudmlld1BvcnRBQUJCLmwgPSB0aGlzLnZpZXdQb3J0QUFCQi50ID0gMDtcbiAgICAgICAgdGhpcy52aWV3UG9ydEFBQkIuciA9IHRoaXMudmlld3BvcnRTaXplLng7XG4gICAgICAgIHRoaXMudmlld1BvcnRBQUJCLmIgPSB0aGlzLnZpZXdwb3J0U2l6ZS55O1xuICAgICAgICAvL0Nsb25lIHRoZSB3b3JsZCBzaXplLCB0aGVuIHNocmluayBpdCBhcm91bmQgdGhlIGNlbnRlciBieSB2aWV3cG9ydCBzaXplXG4gICAgICAgIHRoaXMuY2FtZXJhRXh0ZW50c0FBQkIgPSB0aGlzLndvcmxkRXh0ZW50c0FBQkIuY2xvbmUoKTtcbiAgICAgICAgdGhpcy5jYW1lcmFFeHRlbnRzQUFCQi5leHBhbmQyKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9ncmFwaGljcy9kaXNwbGF5bGlzdC9DYW1lcmEudHMiLCJpbXBvcnQgeyBQaHlzaWNzQ29sbGlzaW9uIH0gZnJvbSBcIi4uLy4uL3BoeXNpY3MvY29tcG9uZW50cy9QaHlzaWNzQ29sbGlzaW9uXCI7XG5pbXBvcnQgeyBFeHRlbnRzIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRXh0ZW50c1wiO1xuaW1wb3J0IHsgSG9sZGVyIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvSG9sZGVyXCI7XG5pbXBvcnQgeyBBY3RpdmUgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BY3RpdmVcIjtcbmltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi8uLi9lY3MvU3lzdGVtXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgQkZQcm94eSB9IGZyb20gXCIuLi8uLi9waHlzaWNzL2NvbGxpc2lvbi9CRlByb3h5XCI7XG5pbXBvcnQgeyBDb250YWN0IH0gZnJvbSBcIi4uLy4uL3BoeXNpY3MvY29sbGlzaW9uL0NvbnRhY3RcIjtcbmltcG9ydCB7IEhlbGQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9IZWxkXCI7XG5cbmV4cG9ydCBjbGFzcyBIb2xkZXJTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIGhvbGRlckZpbHRlckNhdGVnb3J5OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihob2xkZXJGaWx0ZXJDYXRlZ29yeTogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKFtQaHlzaWNzQ29sbGlzaW9uLCBFeHRlbnRzLCBIb2xkZXIsIEFjdGl2ZV0pO1xuICAgICAgICB0aGlzLmhvbGRlckZpbHRlckNhdGVnb3J5ID0gaG9sZGVyRmlsdGVyQ2F0ZWdvcnk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSB0aGlzLmNhbGxiYWNrLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgb25FbnRpdHlBZGRlZChcbiAgICAgICAgZW50aXR5OiBFbnRpdHksXG4gICAgICAgIHBoeXNpY3NDb2xsaXNpb246IFBoeXNpY3NDb2xsaXNpb24sXG4gICAgICAgIGV4dGVudHM6IEV4dGVudHMsXG4gICAgICAgIGhvbGRlcjogSG9sZGVyLFxuICAgICAgICBhY3RpdmU6IEFjdGl2ZSxcbiAgICApIHtcbiAgICAgICAgcGh5c2ljc0NvbGxpc2lvbi5wcm94eS5jb250YWN0Q2FsbGJhY2tzLnB1c2godGhpcy5jYWxsYmFjayk7XG4gICAgICAgIHBoeXNpY3NDb2xsaXNpb24ucHJveHkuZmlsdGVyLm1hc2tCaXRzIHw9IHRoaXMuaG9sZGVyRmlsdGVyQ2F0ZWdvcnk7XG4gICAgfVxuXG4gICAgdXBkYXRlQWxsRW50aXRpZXMoKSB7fVxuXG4gICAgY2FsbGJhY2soYTogQkZQcm94eSwgYjogQkZQcm94eSwgY29udGFjdDogQ29udGFjdCkge1xuICAgICAgICB2YXIgaG9sZGVyID0gdGhpcy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGEuZW50aXR5LCBIb2xkZXIpO1xuICAgICAgICBpZiAoaG9sZGVyLmFjdGl2YXRlID09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuaG9sZChob2xkZXIsYi5lbnRpdHksIGEuZW50aXR5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBob2xkKGhvbGRlcjogSG9sZGVyLCBpdGVtOiBFbnRpdHksIGhvbGRlckVudGl0eTogRW50aXR5KSB7XG4gICAgICAgIGlmIChob2xkZXIuaGVsZEl0ZW0gPT0gbnVsbCAmJiB0aGlzLmVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoaXRlbSwgSGVsZCkgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGhlbGQgPSBuZXcgSGVsZChob2xkZXJFbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUuYWRkQ29tcG9uZW50c1RvRW50aXR5KGl0ZW0sIFtoZWxkXSk7XG4gICAgICAgICAgICBob2xkZXIuaGVsZEl0ZW0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2NvcmUvc3lzdGVtcy9Ib2xkZXJTeXN0ZW0udHMiLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZWNzL1N5c3RlbVwiO1xuaW1wb3J0IHsgUGh5c2ljc0NvbGxpc2lvbiB9IGZyb20gXCIuLi8uLi9waHlzaWNzL2NvbXBvbmVudHMvUGh5c2ljc0NvbGxpc2lvblwiO1xuaW1wb3J0IHsgRXh0ZW50cyB9IGZyb20gXCIuLi9jb21wb25lbnRzL0V4dGVudHNcIjtcbmltcG9ydCB7IEhvbGRhYmxlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvSG9sZGFibGVcIjtcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi8uLi9lY3MvRW50aXR5XCI7XG5cbmV4cG9ydCBjbGFzcyBIb2xkYWJsZVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XG4gICAgcHVibGljIGhvbGRlckZpbHRlckNhdGVnb3J5OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihob2xkZXJGaWx0ZXJDYXRlZ29yeTogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKFtQaHlzaWNzQ29sbGlzaW9uLCBFeHRlbnRzLCBIb2xkYWJsZV0pO1xuICAgICAgICB0aGlzLmhvbGRlckZpbHRlckNhdGVnb3J5ID0gaG9sZGVyRmlsdGVyQ2F0ZWdvcnk7XG4gICAgfVxuXG4gICAgb25FbnRpdHlBZGRlZChlbnRpdHk6IEVudGl0eSwgcGh5c2ljc0NvbGxpc2lvbjogUGh5c2ljc0NvbGxpc2lvbiwgZXh0ZW50czogRXh0ZW50cywgaG9sZGFibGU6IEhvbGRhYmxlKSB7XG4gICAgICAgIHBoeXNpY3NDb2xsaXNpb24ucHJveHkuZmlsdGVyLmNhdGVnb3J5Qml0cyB8PSB0aGlzLmhvbGRlckZpbHRlckNhdGVnb3J5O1xuICAgIH1cblxuICAgIHVwZGF0ZUFsbEVudGl0aWVzKCkge31cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9nbGF6ZS9jb3JlL3N5c3RlbXMvSG9sZGFibGVTeXN0ZW0udHMiLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZWNzL1N5c3RlbVwiO1xuaW1wb3J0IHsgSG9sZGFibGUgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Ib2xkYWJsZVwiO1xuaW1wb3J0IHsgSGVsZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0hlbGRcIjtcbmltcG9ydCB7IFBoeXNpY3NCb2R5IH0gZnJvbSBcIi4uLy4uL3BoeXNpY3MvY29tcG9uZW50cy9QaHlzaWNzQm9keVwiO1xuaW1wb3J0IHsgQWN0aXZlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQWN0aXZlXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vLi4vZWNzL0VudGl0eVwiO1xuaW1wb3J0IHsgU3RvcmVhYmxlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvU3RvcmVhYmxlXCI7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBIb2xkZXIgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Ib2xkZXJcIjtcblxuZXhwb3J0IGNsYXNzIEhlbGRTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihbUG9zaXRpb24sIEhvbGRhYmxlLCBIZWxkLCBQaHlzaWNzQm9keSwgQWN0aXZlXSk7XG4gICAgfVxuXG4gICAgb25FbnRpdHlBZGRlZChcbiAgICAgICAgZW50aXR5OiBFbnRpdHksXG4gICAgICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICAgICAgaG9sZGFibGU6IEhvbGRhYmxlLFxuICAgICAgICBoZWxkOiBIZWxkLFxuICAgICAgICBwaHlzaWNzQm9keTogUGh5c2ljc0JvZHksXG4gICAgICAgIGFjdGl2ZTogQWN0aXZlLFxuICAgICkge1xuICAgICAgICB2YXIgYm9keSA9IHBoeXNpY3NCb2R5LmJvZHk7XG4gICAgICAgIGJvZHkudmVsb2NpdHkuc2V0VG8oMCwgMCk7XG4gICAgICAgIGJvZHkuc2tpcCA9IHRydWU7XG5cbiAgICAgICAgdmFyIGhvbGRlclBvcyA9IHRoaXMuZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShoZWxkLmhvbGRlciwgUG9zaXRpb24pLmNvb3JkcztcblxuICAgICAgICBwb3NpdGlvbi5jb29yZHMuY29weShob2xkZXJQb3MpO1xuICAgICAgICBwaHlzaWNzQm9keS5ib2R5LnBvc2l0aW9uLmNvcHkoaG9sZGVyUG9zKTtcblxuICAgICAgICBpZiAodGhpcy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGVudGl0eSwgU3RvcmVhYmxlKSA9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgaG9sZGVyID0gdGhpcy5lbmdpbmUuZ2V0Q29tcG9uZW50Rm9yRW50aXR5KGhlbGQuaG9sZGVyLCBIb2xkZXIpO1xuICAgICAgICAgICAgdmFyIGhvbGRlckJvZHkgPSB0aGlzLmVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoaG9sZGVyLnBhcmVudCwgUGh5c2ljc0JvZHkpLmJvZHk7XG4gICAgICAgICAgICBpZiAoaG9sZGVyQm9keSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaG9sZGVyQm9keS5zZXRNYXNzKGhvbGRlckJvZHkubWFzcyArIGJvZHkubWFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkVudGl0eVJlbW92ZWQoXG4gICAgICAgIGVudGl0eTogRW50aXR5LFxuICAgICAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgICAgIGhvbGRhYmxlOiBIb2xkYWJsZSxcbiAgICAgICAgaGVsZDogSGVsZCxcbiAgICAgICAgcGh5c2ljc0JvZHk6IFBoeXNpY3NCb2R5LFxuICAgICAgICBhY3RpdmU6IEFjdGl2ZSxcbiAgICApIHtcbiAgICAgICAgLy8gdmFyIGhvbGRlciA9IGhlbGQuaG9sZGVyO1xuICAgICAgICB0aGlzLmRyb3AoaGVsZC5ob2xkZXIpO1xuICAgICAgICB2YXIgYm9keSA9IHBoeXNpY3NCb2R5LmJvZHk7XG4gICAgICAgIGJvZHkuc2tpcCA9IGZhbHNlO1xuICAgICAgICBib2R5LnZlbG9jaXR5LnNldFRvKDAsIDApO1xuXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBTdG9yZWFibGUpID09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBob2xkZXIgPSB0aGlzLmVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoaGVsZC5ob2xkZXIsIEhvbGRlcik7XG4gICAgICAgICAgICB2YXIgaG9sZGVyQm9keSA9IHRoaXMuZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShob2xkZXIucGFyZW50LCBQaHlzaWNzQm9keSkuYm9keTtcbiAgICAgICAgICAgIC8vP1xuICAgICAgICAgICAgLy8gdmFyIGhvbGRlckJvZHkgPSBob2xkZXIucGFyZW50LmdldENvbXBvbmVudChQaHlzaWNzQm9keSkuYm9keTtcbiAgICAgICAgICAgIGlmIChob2xkZXJCb2R5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBob2xkZXJCb2R5LnNldE1hc3MoaG9sZGVyQm9keS5tYXNzIC0gYm9keS5tYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUVudGl0eShcbiAgICAgICAgZW50aXR5OiBFbnRpdHksXG4gICAgICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICAgICAgaG9sZGFibGU6IEhvbGRhYmxlLFxuICAgICAgICBoZWxkOiBIZWxkLFxuICAgICAgICBwaHlzaWNzQm9keTogUGh5c2ljc0JvZHksXG4gICAgICAgIGFjdGl2ZTogQWN0aXZlLFxuICAgICkge1xuICAgICAgICB2YXIgaG9sZGVyID0gaGVsZC5ob2xkZXI7XG4gICAgICAgIHZhciBob2xkZXJQb3MgPSB0aGlzLmVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoaG9sZGVyLCBQb3NpdGlvbik7XG4gICAgICAgIHZhciBib2R5ID0gcGh5c2ljc0JvZHkuYm9keTtcbiAgICAgICAgYm9keS5zZXRTdGF0aWNQb3NpdGlvbihob2xkZXJQb3MuY29vcmRzLnggKyBob2xkZXJQb3MuZGlyZWN0aW9uLnggKiA0LCBob2xkZXJQb3MuY29vcmRzLnkpOyAvL3Bvc2l0aW9uLmNvcHkoaG9sZGVyUG9zKTtcbiAgICAgICAgLy9lbnRpdHkuZ2V0Q29tcG9uZW50KFBoeXNpY3NCb2R5KS5ib2R5LnBvc2l0aW9uLmNvcHkoZW50aXR5LmdldENvbXBvbmVudChQaHlzaWNzQm9keSkuYm9keS5wb3NpdGlvbik7XG4gICAgICAgIHBvc2l0aW9uLnVwZGF0ZShib2R5LnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZHJvcChoZWxkSXRlbTogRW50aXR5KSB7XG4gICAgICAgIGlmIChoZWxkSXRlbSAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgX2hlbGRJdGVtID0gaGVsZEl0ZW07XG4gICAgICAgICAgICB0aGlzLmVuZ2luZS5yZW1vdmVDb21wb25lbnRzRnJvbUVudGl0eShoZWxkSXRlbSwgW0hlbGRdKTtcbiAgICAgICAgICAgIGhlbGRJdGVtID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBfaGVsZEl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2NvcmUvc3lzdGVtcy9IZWxkU3lzdGVtLnRzIiwiZXhwb3J0IGNsYXNzIFN0b3JlYWJsZSB7XG4gICAgY29uc3RydWN0b3IoKSB7fVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2NvcmUvY29tcG9uZW50cy9TdG9yZWFibGUudHMiLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi9TeXN0ZW1cIjtcbmltcG9ydCB7IEVuZ2luZSB9IGZyb20gXCIuL0VuZ2luZVwiO1xuXG5leHBvcnQgY2xhc3MgUGhhc2Uge1xuICAgIHB1YmxpYyBlbmdpbmU6IEVuZ2luZTtcbiAgICBwdWJsaWMgc3lzdGVtczogU3lzdGVtW107XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zeXN0ZW1zID0gW107XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFN5c3RlbShzeXN0ZW06IFN5c3RlbSkge1xuICAgICAgICB0aGlzLmVuZ2luZS5hZGRQaGFzZVN5c3RlbVRvRW5naW5lKHN5c3RlbSk7XG4gICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKHN5c3RlbSk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZVBoYXNlKGR0OiBudW1iZXIsIHRpbWVzdGFtcDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuc3lzdGVtcy5mb3JFYWNoKHN5c3RlbSA9PiBzeXN0ZW0udXBkYXRlU3lzdGVtKGR0LCB0aW1lc3RhbXApKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZ2xhemUvZWNzL1BoYXNlLnRzIiwiaW1wb3J0IHsgRW5naW5lIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2Vjcy9FbmdpbmVcIjtcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9lY3MvRW50aXR5XCI7XG5pbXBvcnQgeyBFeHRlbnRzIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9FeHRlbnRzXCI7XG5pbXBvcnQgeyBUaWxlR3JhcGhpY3MgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvZ3JhcGhpY3MvY29tcG9uZW50cy9UaWxlR3JhcGhpY3NcIjtcbmltcG9ydCB7IFBoeXNpY3NDb2xsaXNpb24gfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGh5c2ljcy9jb21wb25lbnRzL1BoeXNpY3NDb2xsaXNpb25cIjtcbmltcG9ydCB7IEZpeGVkIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9GaXhlZFwiO1xuaW1wb3J0IHsgRG9vciB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0Rvb3JcIjtcbmltcG9ydCB7IEFjdGl2ZSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvQWN0aXZlXCI7XG5pbXBvcnQgeyBUTVhPYmplY3QgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvdG14L1RNWE1hcFwiO1xuaW1wb3J0IHsgVE1YT2JqZWN0UG9zaXRpb24sIFRNWE9iamVjdEV4dGVudHMgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvdG14L1RNWENvbXBvbmVudFV0aWxzXCI7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvUG9zaXRpb25cIjtcbmltcG9ydCB7IEZpbHRlciB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9GaWx0ZXJcIjtcbmltcG9ydCB7IFRlc3RGaWx0ZXJzIH0gZnJvbSBcIi4uLy4uL2NvbmZpZy9GaWx0ZXJzXCI7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9jb3JlL2NvbXBvbmVudHMvU3RhdGVcIjtcbmltcG9ydCB7IFNpbXBsZUZTTVN0YXRlcyB9IGZyb20gXCIuLi8uLi8uLi9nbGF6ZS9haS9mc20vU2ltcGxlRlNNXCI7XG5pbXBvcnQgeyBTdGF0ZVVwZGF0ZXIgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvY29yZS9jb21wb25lbnRzL1N0YXRlVXBkYXRlclwiO1xuaW1wb3J0IHsgVGVsZXBvcnRlciB9IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL1RlbGVwb3J0ZXJcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvZ2VvbS9WZWN0b3IyXCI7XG5pbXBvcnQgeyBQYXJ0aWNsZUVtaXR0ZXIgfSBmcm9tIFwiLi4vLi4vLi4vZ2xhemUvcGFydGljbGUvY29tcG9uZW50cy9QYXJ0aWNsZUVtaXR0ZXJcIjtcbmltcG9ydCB7IFNjYW5MaW5lIH0gZnJvbSBcIi4uLy4uLy4uL2dsYXplL3BhcnRpY2xlL2VtaXR0ZXIvU2NhbkxpbmVcIjtcblxuZXhwb3J0IGNsYXNzIFRlbGVwb3J0ZXJGYWN0b3J5IHtcbiAgICBzdGF0aWMgbWFwcGluZzogc3RyaW5nID0gXCJ0ZWxlcG9ydGVyXCI7XG5cbiAgICBzdGF0aWMgc3RhdGVzOiBTaW1wbGVGU01TdGF0ZXMgPSB7XG4gICAgICAgIG9uOiBmdW5jdGlvbihlbmdpbmU6IEVuZ2luZSwgZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgICAgICAgIHZhciBwYyA9IGVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBQaHlzaWNzQ29sbGlzaW9uKTtcbiAgICAgICAgICAgIHBjLnByb3h5LmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIGRlYnVnZ2VyO1xuICAgICAgICAgICAgZW5naW5lLmFkZENvbXBvbmVudHNUb0VudGl0eShlbnRpdHksIFtdKTtcbiAgICAgICAgfSxcbiAgICAgICAgb2ZmOiBmdW5jdGlvbihlbmdpbmU6IEVuZ2luZSwgZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgICAgICAgIHZhciBwYyA9IGVuZ2luZS5nZXRDb21wb25lbnRGb3JFbnRpdHkoZW50aXR5LCBQaHlzaWNzQ29sbGlzaW9uKTtcbiAgICAgICAgICAgIHBjLnByb3h5LmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIGVuZ2luZS5yZW1vdmVDb21wb25lbnRzRnJvbUVudGl0eShlbnRpdHksIFtQYXJ0aWNsZUVtaXR0ZXJdKTtcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgc3RhdGljIGNyZWF0ZShlbmdpbmU6IEVuZ2luZSwgcG9zaXRpb246IFBvc2l0aW9uLCBleHRlbnRzOiBFeHRlbnRzKTogRW50aXR5IHtcbiAgICAgICAgdmFyIHRlbHBvcnRlciA9IGVuZ2luZS5jcmVhdGVFbnRpdHkoKTtcbiAgICAgICAgdmFyIGZpbHRlciA9IG5ldyBGaWx0ZXIoKTtcbiAgICAgICAgZmlsdGVyLmdyb3VwSW5kZXggPSBUZXN0RmlsdGVycy5TT0xJRF9PQkpFQ1RfR1JPVVA7XG4gICAgICAgIGVuZ2luZS5hZGRDb21wb25lbnRzVG9FbnRpdHkodGVscG9ydGVyLCBbXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIGV4dGVudHMsXG4gICAgICAgICAgICBuZXcgUGh5c2ljc0NvbGxpc2lvbih0cnVlLCBudWxsLCBbXSksXG4gICAgICAgICAgICBuZXcgRml4ZWQoKSxcbiAgICAgICAgICAgIG5ldyBEb29yKFwiZG9vclwiLCBmYWxzZSwgXCJcIiksXG4gICAgICAgICAgICBuZXcgVGVsZXBvcnRlcihuZXcgVmVjdG9yMigxNiAqIDEyLCAxNiAqIDM2KSksXG4gICAgICAgICAgICBuZXcgU3RhdGUoVGVsZXBvcnRlckZhY3Rvcnkuc3RhdGVzLCBcIm9uXCIsIHRydWUpLFxuICAgICAgICAgICAgbmV3IFN0YXRlVXBkYXRlcihcInRlbHBvcnRlckFcIiwgW1wib25cIiwgXCJvZmZcIl0pLFxuICAgICAgICAgICAgbmV3IEFjdGl2ZSgpLFxuICAgICAgICAgICAgbmV3IFBhcnRpY2xlRW1pdHRlcihbbmV3IFNjYW5MaW5lKDIwMCwgMTAwLCA2MDAsIDEwKV0pXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHJldHVybiB0ZWxwb3J0ZXI7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3Rlc3QvZmFjdG9yaWVzL2l0ZW0vVGVsZXBvcnRlckZhY3RvcnkudHMiLCJpbXBvcnQgeyBJUGFydGljbGVFbWl0dGVyIH0gZnJvbSBcIi4vSVBhcnRpY2xlRW1pdHRlclwiO1xuaW1wb3J0IHsgR2V0QzRFIH0gZnJvbSBcIi4uLy4uL2Vjcy9FbmdpbmVcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vLi4vZ2VvbS9WZWN0b3IyXCI7XG5pbXBvcnQgeyBJUGFydGljbGVFbmdpbmUgfSBmcm9tIFwiLi4vZW5naW5lcy9JUGFydGljbGVFbmdpbmVcIjtcbmltcG9ydCB7IEV4dGVudHMgfSBmcm9tIFwiLi4vLi4vY29yZS9jb21wb25lbnRzL0V4dGVudHNcIjtcbmltcG9ydCB7IFJhbmRvbUludGVnZXIgfSBmcm9tIFwiLi4vLi4vdXRpbC9SYW5kb21cIjtcblxuZXhwb3J0IGNsYXNzIFNjYW5MaW5lIGltcGxlbWVudHMgSVBhcnRpY2xlRW1pdHRlciB7XG4gICAgcHVibGljIHZlbG9jaXR5OiBudW1iZXI7XG4gICAgcHVibGljIGludGVydmFsOiBudW1iZXI7XG4gICAgcHVibGljIHR0bDogbnVtYmVyO1xuICAgIHB1YmxpYyBqaXR0ZXI6IG51bWJlcjtcbiAgICBwdWJsaWMgbGFzdFRpbWU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGludGVydmFsOiBudW1iZXIsIHZlbG9jaXR5OiBudW1iZXIsIHR0bDogbnVtYmVyLCBqaXR0ZXI6IG51bWJlcikge1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBpbnRlcnZhbDtcbiAgICAgICAgdGhpcy50dGwgPSB0dGw7XG4gICAgICAgIHRoaXMuaml0dGVyID0gaml0dGVyO1xuICAgICAgICB0aGlzLmxhc3RUaW1lID0gMDtcbiAgICB9XG5cbiAgICB1cGRhdGUodGltZTogbnVtYmVyLCBjNGU6IEdldEM0RSwgcG9zaXRpb246IFZlY3RvcjIsIHBhcnRpY2xlRW5naW5lOiBJUGFydGljbGVFbmdpbmUpIHtcbiAgICAgICAgLy8gZGVidWdnZXI7XG4gICAgICAgIGlmICh0aW1lIC0gdGhpcy5sYXN0VGltZSA8IHRoaXMuaW50ZXJ2YWwpIHJldHVybjtcbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IHRpbWU7XG4gICAgICAgIC8vIHZhciBwb3NpdGlvbiA9IGM0ZShQb3NpdGlvbikuY29vcmRzO1xuICAgICAgICB2YXIgZXh0ZW50cyA9IGM0ZShFeHRlbnRzKS5oYWxmV2lkdGhzO1xuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IDE2OyB4KyspIHtcbiAgICAgICAgICAgIHBhcnRpY2xlRW5naW5lLkVtaXRQYXJ0aWNsZShcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi54IC0gMTYgKyB4ICogMixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi55IC0gZXh0ZW50cy55LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgdGhpcy52ZWxvY2l0eSArIFJhbmRvbUludGVnZXIoLXRoaXMuaml0dGVyLCB0aGlzLmppdHRlciksXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIHRoaXMudHRsLFxuICAgICAgICAgICAgICAgIDAuOTksXG4gICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgNCxcbiAgICAgICAgICAgICAgICAyNTUsXG4gICAgICAgICAgICAgICAgMjU1LFxuICAgICAgICAgICAgICAgIDI1NSxcbiAgICAgICAgICAgICAgICAyNTUsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL3BhcnRpY2xlL2VtaXR0ZXIvU2NhbkxpbmUudHMiLCJpbXBvcnQgeyBTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vZ2xhemUvZWNzL1N5c3RlbVwiO1xuaW1wb3J0IHsgUGh5c2ljc0NvbGxpc2lvbiB9IGZyb20gXCIuLi8uLi9nbGF6ZS9waHlzaWNzL2NvbXBvbmVudHMvUGh5c2ljc0NvbGxpc2lvblwiO1xuaW1wb3J0IHsgVGVsZXBvcnRlciB9IGZyb20gXCIuLi9jb21wb25lbnRzL1RlbGVwb3J0ZXJcIjtcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSBcIi4uLy4uL2dsYXplL2NvcmUvY29tcG9uZW50cy9TdGF0ZVwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uLy4uL2dsYXplL2Vjcy9FbnRpdHlcIjtcbmltcG9ydCB7IEJGUHJveHkgfSBmcm9tIFwiLi4vLi4vZ2xhemUvcGh5c2ljcy9jb2xsaXNpb24vQkZQcm94eVwiO1xuaW1wb3J0IHsgQ29udGFjdCB9IGZyb20gXCIuLi8uLi9nbGF6ZS9waHlzaWNzL2NvbGxpc2lvbi9Db250YWN0XCI7XG5pbXBvcnQgeyBSYW5kb21Cb29sZWFuIH0gZnJvbSBcIi4uLy4uL2dsYXplL3V0aWwvUmFuZG9tXCI7XG5cbmV4cG9ydCBjbGFzcyBUZWxlcG9ydGVyU3lzdGVtIGV4dGVuZHMgU3lzdGVtIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihbUGh5c2ljc0NvbGxpc2lvbixUZWxlcG9ydGVyXSk7XG4gICAgICAgIHRoaXMub25Db2xsaXNpb24gPSB0aGlzLm9uQ29sbGlzaW9uLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgb25FbnRpdHlBZGRlZChlbnRpdHk6RW50aXR5LHBoeXNpY3NDb2xsaXNpb246UGh5c2ljc0NvbGxpc2lvbix0ZWxlcG9ydGVyOlRlbGVwb3J0ZXIsc3RhdGU6U3RhdGUpIHtcbiAgICAgICAgcGh5c2ljc0NvbGxpc2lvbi5wcm94eS5jb250YWN0Q2FsbGJhY2tzLnB1c2godGhpcy5vbkNvbGxpc2lvbik7XG5cdH1cblxuICAgIG9uQ29sbGlzaW9uKGE6QkZQcm94eSxiOkJGUHJveHksYzpDb250YWN0KSB7XG4gICAgXHRpZiAoUmFuZG9tQm9vbGVhbigwLjEpKSB7XG4gICAgXHRcdGIuYm9keS5wb3NpdGlvbi5jb3B5KHRoaXMuZW5naW5lLmdldENvbXBvbmVudEZvckVudGl0eShhLmVudGl0eSxUZWxlcG9ydGVyKS50ZWxlcG9ydFBvc2l0aW9uKTtcbiAgICBcdH1cbiAgICB9XG5cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdGVzdC9zeXN0ZW1zL1RlbGVwb3J0ZXJTeXN0ZW0udHMiLCJleHBvcnQgY2xhc3MgV2F0ZXJIb2xkZXIge1xuXG5cdHB1YmxpYyB2b2x1bWU6bnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3Iodm9sdW1lOm51bWJlcikge1xuICAgICAgICB0aGlzLnZvbHVtZSA9IHZvbHVtZTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dsYXplL2NvcmUvY29tcG9uZW50cy9XYXRlckhvbGRlci50cyJdLCJzb3VyY2VSb290IjoiIn0=